{"version":3,"sources":["webpack:///./node_modules/alpine-turbo-drive-adapter/dist/alpine-turbo-drive-adapter.esm.js","webpack:///./node_modules/alpinejs/dist/alpine.js","webpack:///./node_modules/@hotwired/turbo/dist/turbo.es2017-esm.js","webpack:///./node_modules/hotkeys-js/dist/hotkeys.esm.js","webpack:///./resources/js/app.js","webpack:///webpack/bootstrap","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/jsonp chunk loading","webpack:///webpack/startup"],"names":["Bridge","document","body","querySelectorAll","forEach","node","setAttribute","this","configureEventHandlers","state","window","Alpine","version","required","current","requiredArray","split","currentArray","i","length","isValidVersion","Error","pauseMutationObserver","initCallback","discoverUninitializedComponents","el","initializeComponent","requestAnimationFrame","setMutationObserverState","beforeRenderCallback","event","data","newBody","detail","hasAttribute","removeAttribute","__x_for_key","__x_inserted_me","remove","beforeCacheCallback","nextEl","nextElementSibling","currEl","ifEl","addEventListener","callback","console","error","Object","getOwnPropertyDescriptor","NodeList","prototype","defineProperty","Array","init","readyState","module","exports","_defineProperty","obj","key","value","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","push","apply","_objectSpread2","target","arguments","source","getOwnPropertyDescriptors","defineProperties","domReady","Promise","resolve","arrayUnique","array","from","Set","isTesting","navigator","userAgent","includes","checkedAttrLooseCompare","valueA","valueB","warnIfMalformedTemplate","directive","tagName","toLowerCase","warn","content","childElementCount","kebabCase","subject","replace","camelCase","match","char","toUpperCase","walk","firstElementChild","debounce","func","wait","timeout","context","args","later","clearTimeout","setTimeout","handleError","expression","tryCatch","cb","catch","e","saferEval","dataContext","additionalHelperVariables","call","Function","values","saferEvalNoReturn","AsyncFunction","getPrototypeOf","async","constructor","methodReference","xAttrRE","isXAttr","attr","name","replaceAtAndColonWithStandardSyntax","test","getXAttrs","component","type","directives","attributes","map","parseHtmlAttribute","spreadDirective","spreadObject","$data","concat","entries","sortDirectives","directiveOrder","sort","a","b","typeA","indexOf","typeB","normalizedName","typeMatch","valueMatch","modifiers","isBooleanAttr","attrName","startsWith","convertClassStringToArray","classList","filterFn","Boolean","TRANSITION_TYPE_IN","TRANSITION_TYPE_OUT","TRANSITION_CANCELLED","transitionIn","show","reject","forceSkip","__x_transition","attrs","showAttr","settingBothSidesOfTransition","index","transitionHelperIn","some","transitionClassesIn","transitionOut","hide","transitionHelperOut","transitionClassesOut","showCallback","transitionHelper","duration","modifierValue","origin","first","opacity","scale","second","hideCallback","fallback","rawValue","isNumeric","join","hook1","hook2","styleValues","cancel","opacityCache","style","transformCache","transform","transformOriginCache","transformOrigin","noModifiers","transitionOpacity","transitionScale","stages","transitionProperty","trim","transitionDuration","transitionTimingFunction","transition","ensureStringExpression","evaluateReturnExpression","transitionClasses","find","classesDuring","classesStart","classesEnd","originalClasses","__x_original_classes","add","finish","once","isConnected","cleanup","nextFrame","start","during","Number","getComputedStyle","animationDuration","end","isArray","isNaN","called","handleForDirective","templateEl","initialUpdate","extraVars","iteratorNames","parseForExpression","items","evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement","currentEl","item","iterationScopeVariables","getIterationScopeVariables","currentKey","generateKeyForIteration","lookAheadForMatchingKeyedElementAndMoveItIfFound","__x_for","updateElements","addElementInLoopAfterCurrentEl","initializeElements","removeAnyLeftOverElementsFromPreviousUpdate","forIteratorRE","stripParensRE","forAliasRE","inMatch","res","iteratorMatch","collection","scopeVariables","bindKeyAttribute","ifAttribute","clone","importNode","parentElement","insertBefore","undefined","tmpNextEl","nextElementFromOldLoop","nextElementFromOldLoopImmutable","nextSibling","handleAttributeBindingDirective","attrType","ignoreFocusedForValueBinding","activeElement","isSameNode","checked","val","String","updateSelect","classNames","className","newClasses","setIfChanged","getAttribute","arrayWrappedValue","options","option","selected","text","handleTextDirective","output","textContent","handleHtmlDirective","innerHTML","handleShowDirective","display","__x_is_shown","removeProperty","handle","showDirectiveLastElement","contains","executeAndClearRemainingShowDirectiveStack","showDirectiveStack","handleIfDirective","expressionResult","elementHasAlreadyBeenAdded","registerListener","passive","handler","offsetWidth","offsetHeight","runListenerHandler","removeEventListener","listenerTarget","isKeyEvent","isListeningForASpecificKeyThatHasntBeenPressed","preventDefault","stopPropagation","then","nextModifier","evaluateCommandExpression","keyModifiers","debounceIndex","splice","keyToModifier","selectedSystemKeyModifiers","modifier","registerModelListener","rightSideOfExpression","generateModelAssignmentFunction","currentValue","CustomEvent","newValue","safeParseNumber","multiple","selectedOptions","number","parseFloat","create","ObjectCreate","ObjectDefineProperty","ObjectDefineProperties","isExtensible","getOwnPropertyNames","preventExtensions","hasOwnProperty","ArrayPush","ArrayConcat","ArrayMap","isUndefined","isFunction","isObject","proxyToValueMap","WeakMap","registerProxy","proxy","set","unwrap","replicaOrAny","get","wrapValue","membrane","valueIsObservable","getProxy","unwrapDescriptor","descriptor","lockShadowTarget","shadowTarget","originalTarget","wrapDescriptor","ReactiveProxyHandler","valueObserved","valueMutated","thisArg","argArray","newTarget","shadowIsExtensible","targetIsExtensible","desc","shadowDescriptor","originalDescriptor","wrapReadOnlyValue","getReadOnlyProxy","ReadOnlyHandler","createShadowTarget","ObjectDotPrototype","defaultValueIsObservable","proto","defaultValueObserved","defaultValueMutated","defaultValueDistortion","getValue","unwrapProxy","ReactiveMembrane","valueDistortion","objectGraph","unwrappedValue","distorted","o","getReactiveState","readOnly","reactive","p","distortedValue","reactiveState","reactiveHandler","Proxy","readOnlyHandler","wrap","mutationCallback","unwrap$1","observable","unwrappedData","copy","Component","componentForClone","$el","dataAttr","dataExpression","initExpression","dataExtras","canonicalComponentElementReference","magicProperties","unobservedData","getUnobservedData","wrapDataInObservable","initReturnedCallback","$refs","getRefsProxy","nextTickStack","$nextTick","watchers","$watch","property","onBeforeComponentInitializeds","pauseReactivity","listenForNewElementsToInitialize","onComponentInitializeds","self","updateDom","fullDotNotationKey","dotNotationParts","reduce","comparisonData","part","is","initializeComponentCallback","__x","rootEl","walkAndSkipNestedComponents","initializeElement","executeAndClearNextTickStack","registerListeners","resolveBoundAttributes","updateElement","shift","reverse","promiseChain","promise","finishElement","$dispatch","getDispatchFunction","dispatchEvent","bubbles","targetNode","observerOptions","childList","subtree","MutationObserver","mutations","closestParentComponent","closest","attributeName","xAttr","rawData","addedNodes","nodeType","matches","observe","ref","discoverComponents","listenForNewUninitializedComponentsAtRunTime","rootEls","querySelector","newEl","addMagicProperty","onComponentInitialized","onBeforeComponentInitialized","deferLoadingAlpine","factory","Reflect","customElements","polyfillWrapFlushCallback","BuiltInHTMLElement","HTMLElement","wrapperForTheName","construct","setPrototypeOf","submittersByForm","clickCaptured","submitter","element","Element","Node","candidate","findSubmitterFromClickTarget","form","FrameLoadingStyle","FetchMethod","FormSubmissionState","FormEnctype","Event","HTMLFormElement","FrameElement","super","loaded","delegate","delegateConstructor","connect","disconnect","loadingStyleChanged","sourceURLChanged","lazy","eager","frameLoadingStyleFromString","isLoading","ownerDocument","isPreview","_a","_b","documentElement","expandURL","locatable","anchor","createElement","href","toString","URL","getAnchor","url","anchorMatch","hash","slice","getExtension","pathname","getPathComponents","getLastPathComponent","isPrefixedBy","baseURL","prefix","endsWith","getPrefix","toCacheKey","anchorLength","FetchResponse","response","ok","succeeded","statusCode","redirected","contentType","status","header","isHTML","headers","dispatch","eventName","cancelable","nextAnimationFrame","parseHTMLDocument","html","DOMParser","parseFromString","unindent","strings","lines","result","string","interpolate","indent","line","uuid","_","Math","floor","random","FetchRequest","method","location","URLSearchParams","abortController","AbortController","isIdempotent","currentSearchParams","search","File","has","delete","searchParams","append","mergeFormDataEntries","abort","fetchOptions","requestStarted","fetch","receive","requestErrored","requestFinished","fetchResponse","defaultPrevented","requestPreventedHandlingResponse","requestSucceededWithResponse","requestFailedWithResponse","credentials","redirect","signal","abortSignal","assign","defaultHeaders","prepareHeadersForRequest","AppearanceObserver","started","intersect","lastEntry","isIntersecting","elementAppearedInViewport","intersectionObserver","IntersectionObserver","unobserve","StreamMessage","templateElement","message","fragment","createDocumentFragment","foreignElements","appendChild","templateChildren","streamElements","child","children","FormSubmission","formElement","mustRedirect","initialized","formData","FormData","buildFormData","fetchRequest","post","put","patch","fetchMethodFromString","action","enctype","urlEncoded","stringFormData","encoding","multipart","plain","formEnctypeFromString","requesting","perform","stopping","stopped","request","token","cookieName","cookie","decodeURIComponent","getCookieValue","getMetaContent","waiting","formSubmission","formSubmissionStarted","success","clientError","serverError","formSubmissionFailedWithResponse","requestMustRedirect","responseSucceededWithoutRedirect","formSubmissionErrored","receiving","formSubmissionSucceededWithResponse","formSubmissionFinished","Snapshot","getElementForAnchor","id","snapshot","permanentElements","getPermanentElementById","FormInterceptor","submitBubbled","shouldInterceptFormSubmission","stopImmediatePropagation","formSubmissionIntercepted","View","scrollToElement","scrollToPosition","x","y","scrollIntoView","scrollRoot","scrollTo","renderer","shouldRender","newSnapshot","prepareToRenderSnapshot","viewWillRenderSnapshot","renderSnapshot","viewRenderedSnapshot","finishRenderingSnapshot","invalidate","viewInvalidated","markAsPreview","prepareToRender","render","finishRendering","FrameView","LinkInterceptor","clickBubbled","respondsToEventTarget","clickEvent","linkClicked","shouldInterceptLinkClick","linkClickIntercepted","willVisit","Renderer","currentSnapshot","resolvingFunctions","createdScriptElement","destinationElement","sourceElement","copyElementAttributes","placeholders","getPermanentElementsPresentInSnapshot","permanentElement","newElement","placeholder","createPlaceholderForPermanentElement","replaceElementWithElement","cloneNode","replacePlaceholderElementsWithClonedPermanentElements","firstAutofocusableElement","focus","elementIsFocusable","fromElement","toElement","replaceChild","FrameRenderer","preservingPermanentElements","loadFrameElement","scrollFrameIntoView","focusFirstAutofocusableElement","destinationRange","createRange","selectNodeContents","currentElement","deleteContents","frameElement","sourceRange","extractContents","autoscroll","block","defaultValue","getFrameElementById","getElementById","activateElement","StreamActions","targetElement","templateContent","prepend","replaceWith","StreamElement","renderPromise","beforeRenderEvent","performAction","actionFunction","raise","HTMLTemplateElement","description","outerHTML","resolveVisitPromise","view","appearanceObserver","linkInterceptor","formInterceptor","loadingStyle","stop","loadSourceURL","isActive","sourceURL","loadingURL","visit","responseHTML","extractForeignFrameElement","shouldInterceptNavigation","navigateFrame","loadResponse","findFrameElement","src","container","CSS","escape","enabled","disabled","loading","define","currentScript","ProgressBar","hiding","visible","trickle","setValue","stylesheetElement","createStylesheetElement","progressElement","createProgressElement","installStylesheetElement","installProgressElement","startTrickling","fadeProgressElement","uninstallProgressElement","stopTrickling","refresh","head","firstChild","width","parentNode","removeChild","trickleInterval","setInterval","clearInterval","defaultCSS","HeadSnapshot","detailsByOuterHTML","details","elementType","tracked","elementIsTracked","elements","getElementsMatchingTypeNotInSnapshot","matchedType","findMetaElementByName","elementIsMetaElementWithName","elementIsScript","elementIsStylesheet","PageSnapshot","headSnapshot","fromDocument","getSetting","cacheControlValue","getMetaValue","TimingMetric","VisitState","defaultOptions","historyChanged","SystemStatusCode","PageStage","Visit","restorationIdentifier","identifier","timingMetrics","followedRedirect","scrolled","snapshotCached","referrer","snapshotHTML","adapter","history","getRestorationDataForIdentifier","recordTimingMetric","visitStart","visitStarted","cancelRender","canceled","visitEnd","completed","visitCompleted","failed","visitFailed","actionForHistory","getHistoryMethodForAction","update","hasPreloadedResponse","simulateRequest","shouldIssueRequest","startRequest","recordResponse","finishRequest","requestStart","visitRequestStarted","isSuccessful","visitRequestCompleted","visitRequestFailedWithStatusCode","requestEnd","visitRequestFinished","cacheSnapshot","renderPage","fromHTMLString","visitRendered","complete","renderError","fail","getCachedSnapshotForLocation","getPreloadedSnapshot","hasAnchor","isPreviewable","getCachedSnapshot","redirectedToLocation","contentTypeMismatch","networkFailure","scrollToRestoredPosition","scrollToTop","scrollToAnchor","scrollPosition","restorationData","metric","Date","getTime","replaceState","pushState","hasCachedSnapshot","frame","performScroll","cancelAnimationFrame","BrowserAdapter","session","progressBar","showProgressBar","startVisit","issueRequest","changeHistory","loadCachedSnapshot","showProgressBarAfterDelay","timeoutFailure","reload","hideProgressBar","followRedirect","progressBarTimeout","progressBarDelay","FormSubmitObserver","submitCaptured","willSubmitForm","formSubmitted","FrameRedirector","shouldRedirect","History","pageLoaded","onPopState","shouldHandlePopState","turbo","historyPoppedToLocationWithRestorationIdentifier","onPageLoad","additionalData","previousScrollRestoration","scrollRestoration","pageIsLoaded","LinkClickObserver","clickEventIsSignificant","link","findLinkFromClickTarget","getLocationForLink","willFollowLinkToLocation","followedLinkToLocation","isContentEditable","which","altKey","ctrlKey","metaKey","shiftKey","Navigator","allowsVisitingLocation","visitProposedToLocation","currentVisit","proposeVisit","clearSnapshotCache","visitOptions","PageObserver","stage","initial","interpretReadyState","pageIsInteractive","pageIsComplete","pageWillUnload","interactive","pageBecameInteractive","ScrollObserver","onScroll","updatePosition","pageXOffset","pageYOffset","position","scrollPositionChanged","StreamObserver","sources","inspectFetchResponse","fetchResponseFromEvent","fetchResponseIsStream","receiveMessageResponse","receiveMessageEvent","receiveMessageHTML","streamSourceIsConnected","receivedMessageFromStream","ErrorRenderer","replaceHeadAndBody","activateScriptElements","newHead","replaceableElement","scriptElements","createScriptElement","PageRenderer","isVisitable","trackedElementsAreIdentical","mergeHead","replaceBody","copyNewHeadStylesheetElements","copyNewHeadScriptElements","removeCurrentHeadProvisionalElements","copyNewHeadProvisionalElements","activateNewBody","assignNewBody","currentHeadSnapshot","trackedElementSignature","newHeadSnapshot","newHeadStylesheetElements","newHeadScriptElements","currentHeadProvisionalElements","newHeadProvisionalElements","adoptNode","activateNewBodyScriptElements","inertScriptElement","newBodyScriptElements","HTMLBodyElement","getStylesheetElementsNotInSnapshot","getScriptElementsNotInSnapshot","provisionalElements","SnapshotCache","size","snapshots","read","touch","write","unshift","PageView","snapshotCache","lastRenderedLocation","clear","shouldCacheSnapshot","viewWillCacheSnapshot","isCacheable","extendURLWithDeprecatedProperties","deprecatedLocationPropertyDescriptors","absoluteURL","pageObserver","linkClickObserver","formSubmitObserver","scrollObserver","streamObserver","frameRedirector","connectStreamSource","disconnectStreamSource","delay","pageInvalidated","updateRestorationData","elementIsNavigable","locationIsVisitable","applicationAllowsFollowingLinkToLocation","getActionForLink","applicationAllowsVisitingLocation","notifyApplicationAfterVisitingLocation","notifyApplicationAfterPageLoad","getTimingMetrics","submitForm","assumeControlOfScrollRestoration","relinquishControlOfScrollRestoration","renderStreamMessage","notifyApplicationBeforeCachingSnapshot","notifyApplicationBeforeRender","notifyApplicationAfterRender","notifyApplicationAfterClickingLinkToLocation","notifyApplicationBeforeVisitingLocation","timing","isAction","rootLocation","isff","addEvent","attachEvent","getMods","mods","getKeys","lastIndexOf","_keyMap","backspace","tab","enter","return","esc","space","left","up","right","down","del","ins","insert","home","pageup","pagedown","capslock","'","_modifier","alt","ctrl","control","cmd","command","modifierMap","16","18","17","91","_mods","_handlers","k","_downKeys","_scope","elementHasBindEvent","code","charCodeAt","setScope","scope","getScope","eachUnbind","_ref","_ref$splitKey","splitKey","originKey","unbindKeys","len","lastKey","keyCode","record","a1","a2","arr1","arr2","isIndex","compareArray","eventHandler","modifiersMatch","shortcut","returnValue","cancelBubble","asterisk","charCode","hotkeys","keyName","keyNum","getModifierState","keydown","keyup","_i","keyShortcut","_downKeysCurrent","isElementBind","clearModifier","_api","deleteScope","newScope","handlers","getPressedKeyCodes","isPressed","srcElement","flag","unbind","keysInfo","info","_len","_key","_hotkeys","noConflict","deep","startTurbo","__webpack_module_cache__","__webpack_require__","moduleId","__webpack_modules__","m","prop","installedChunks","773","deferredModules","checkDeferredModules","webpackJsonpCallback","parentChunkLoadingFunction","chunkId","chunkIds","moreModules","runtime","executeModules","resolves","chunkLoadingGlobal","checkDeferredModulesImpl","deferredModule","fulfilled","j","depId","s","bind","startup"],"mappings":"qBAwBA,MAAMA,EACJ,OAEEC,SAASC,KAAKC,iBAAiB,aAAaC,SAAQC,IAClDA,EAAKC,aAAa,0BAA2B,OAE/CC,KAAKC,yBAGP,yBAAyBC,GACvB,IAAKC,OAAOC,OAAOC,UAlCvB,SAAwBC,EAAUC,GAChC,MAAMC,EAAgBF,EAASG,MAAM,KAC/BC,EAAeH,EAAQE,MAAM,KAEnC,IAAK,IAAIE,EAAI,EAAGA,EAAIH,EAAcI,OAAQD,IACxC,IAAKD,EAAaC,IAAMD,EAAaC,GAAKH,EAAcG,GACtD,OAAO,EAIX,OAAO,EAwB0BE,CAAe,QAASV,OAAOC,OAAOC,SACnE,MAAM,IAAIS,MAAM,4DAGlBX,OAAOC,OAAOW,sBAAwBb,EAGxC,yBAGE,MAAMc,EAAe,KACnBb,OAAOC,OAAOa,iCAAgCC,IAC5Cf,OAAOC,OAAOe,oBAAoBD,MAEpCE,uBAAsB,KACpBpB,KAAKqB,0BAAyB,OAS5BC,EAAuBC,KACXA,EAAMC,KAAOD,EAAMC,KAAKC,QAAUF,EAAMG,OAAOD,SACvD7B,iBAAiB,wCAAwCC,SAAQqB,IACnEA,EAAGS,aAAa,YAGlBT,EAAGnB,aAAa,0BAA2B,IAGzCmB,EAAGS,aAAa,8BAClBT,EAAGU,gBAAgB,iCAEW,IAAnBV,EAAGW,kBAA6D,IAAvBX,EAAGY,iBACrDZ,EAAGa,cAcLC,EAAsB,KAC1BhC,KAAKqB,0BAAyB,GAC9B3B,SAASC,KAAKC,iBAAiB,4CAA4CC,SAAQqB,IAOjF,GALIA,EAAGS,aAAa,6BAClBT,EAAGnB,aAAa,UAAW,IAC3BmB,EAAGU,gBAAgB,4BAGjBV,EAAGS,aAAa,SAAU,CAC5B,IAAIM,EAASf,EAAGgB,mBAEhB,KAAOD,QAAwC,IAAvBA,EAAOJ,aAA6B,CAC1D,MAAMM,EAASF,EACfA,EAASA,EAAOC,mBAChBC,EAAOpC,aAAa,4BAA4B,SAE7C,GAAImB,EAAGS,aAAa,QAAS,CAClC,MAAMS,EAAOlB,EAAGgB,mBAEZE,QAAwC,IAAzBA,EAAKN,iBACtBM,EAAKrC,aAAa,4BAA4B,QAMtDL,SAAS2C,iBAAiB,aAAcrB,GACxCtB,SAAS2C,iBAAiB,kBAAmBrB,GAC7CtB,SAAS2C,iBAAiB,sBAAuBf,GACjD5B,SAAS2C,iBAAiB,2BAA4Bf,GACtD5B,SAAS2C,iBAAiB,qBAAsBL,GAChDtC,SAAS2C,iBAAiB,0BAA2BL,IAzGzD,IAAwBM,EA8GpBnC,OAAOC,QACTmC,QAAQC,MAAM,+DAIXC,OAAOC,yBAAyBC,SAASC,UAAW,YACvDH,OAAOI,eAAeF,SAASC,UAAW,UAAWH,OAAOC,yBAAyBI,MAAMF,UAAW,YApHhFN,EAyHT,MACE,IAAI7C,GACZsD,QA1HqB,YAAxBrD,SAASsD,WACXtD,SAAS2C,iBAAiB,oBAAoB,KAChB,gBAAxB3C,SAASsD,YACXV,OAIJA,K,gBCnB6DW,EAAOC,QAGhE,WAAe,aAErB,SAASC,EAAgBC,EAAKC,EAAKC,GAYjC,OAXID,KAAOD,EACTX,OAAOI,eAAeO,EAAKC,EAAK,CAC9BC,MAAOA,EACPC,YAAY,EACZC,cAAc,EACdC,UAAU,IAGZL,EAAIC,GAAOC,EAGNF,EAGT,SAASM,EAAQC,EAAQC,GACvB,IAAIC,EAAOpB,OAAOoB,KAAKF,GAEvB,GAAIlB,OAAOqB,sBAAuB,CAChC,IAAIC,EAAUtB,OAAOqB,sBAAsBH,GACvCC,IAAgBG,EAAUA,EAAQC,QAAO,SAAUC,GACrD,OAAOxB,OAAOC,yBAAyBiB,EAAQM,GAAKV,eAEtDM,EAAKK,KAAKC,MAAMN,EAAME,GAGxB,OAAOF,EAGT,SAASO,EAAeC,GACtB,IAAK,IAAI1D,EAAI,EAAGA,EAAI2D,UAAU1D,OAAQD,IAAK,CACzC,IAAI4D,EAAyB,MAAhBD,UAAU3D,GAAa2D,UAAU3D,GAAK,GAE/CA,EAAI,EACN+C,EAAQjB,OAAO8B,IAAS,GAAM1E,SAAQ,SAAUwD,GAC9CF,EAAgBkB,EAAQhB,EAAKkB,EAAOlB,OAE7BZ,OAAO+B,0BAChB/B,OAAOgC,iBAAiBJ,EAAQ5B,OAAO+B,0BAA0BD,IAEjEb,EAAQjB,OAAO8B,IAAS1E,SAAQ,SAAUwD,GACxCZ,OAAOI,eAAewB,EAAQhB,EAAKZ,OAAOC,yBAAyB6B,EAAQlB,OAKjF,OAAOgB,EAKT,SAASK,IACP,OAAO,IAAIC,SAAQC,IACU,WAAvBlF,SAASsD,WACXtD,SAAS2C,iBAAiB,mBAAoBuC,GAE9CA,OAIN,SAASC,EAAYC,GACnB,OAAOhC,MAAMiC,KAAK,IAAIC,IAAIF,IAE5B,SAASG,IACP,OAAOC,UAAUC,UAAUC,SAAS,YAAcF,UAAUC,UAAUC,SAAS,SAEjF,SAASC,EAAwBC,EAAQC,GACvC,OAAOD,GAAUC,EAEnB,SAASC,EAAwBtE,EAAIuE,GACF,aAA7BvE,EAAGwE,QAAQC,cACbpD,QAAQqD,KAAK,YAAYH,gGAAwGA,KACvF,IAAjCvE,EAAG2E,QAAQC,mBACpBvD,QAAQqD,KAAK,gCAAgCH,qGAGjD,SAASM,EAAUC,GACjB,OAAOA,EAAQC,QAAQ,kBAAmB,SAASA,QAAQ,QAAS,KAAKN,cAE3E,SAASO,EAAUF,GACjB,OAAOA,EAAQL,cAAcM,QAAQ,UAAU,CAACE,EAAOC,IAASA,EAAKC,gBAEvE,SAASC,EAAKpF,EAAIoB,GAChB,IAAqB,IAAjBA,EAASpB,GAAe,OAC5B,IAAIpB,EAAOoB,EAAGqF,kBAEd,KAAOzG,GACLwG,EAAKxG,EAAMwC,GACXxC,EAAOA,EAAKoC,mBAGhB,SAASsE,EAASC,EAAMC,GACtB,IAAIC,EACJ,OAAO,WACL,IAAIC,EAAU5G,KACV6G,EAAOvC,UAEPwC,EAAQ,WACVH,EAAU,KACVF,EAAKtC,MAAMyC,EAASC,IAGtBE,aAAaJ,GACbA,EAAUK,WAAWF,EAAOJ,IAIhC,MAAMO,EAAc,CAAC/F,EAAIgG,EAAY1E,KAGnC,GAFAD,QAAQqD,KAAK,kBAAkBpD,sBAA0B0E,eAAyBhG,IAE7E+D,IACH,MAAMzC,GAIV,SAAS2E,EAASC,GAAI,GACpBlG,EAAE,WACFgG,IAEA,IACE,MAAM5D,EAAQ8D,IACd,OAAO9D,aAAiBqB,QAAUrB,EAAM+D,OAAMC,GAAKL,EAAY/F,EAAIgG,EAAYI,KAAMhE,EACrF,MAAOgE,GACPL,EAAY/F,EAAIgG,EAAYI,IAIhC,SAASC,EAAUrG,EAAIgG,EAAYM,EAAaC,EAA4B,IAC1E,OAAON,GAAS,IACY,mBAAfD,EACFA,EAAWQ,KAAKF,GAGlB,IAAIG,SAAS,CAAC,WAAYlF,OAAOoB,KAAK4D,IAA6B,wDAAwDP,8BAA3H,CAAmKM,KAAgB/E,OAAOmF,OAAOH,KACvM,CACDvG,KACAgG,eAGJ,SAASW,EAAkB3G,EAAIgG,EAAYM,EAAaC,EAA4B,IAClF,OAAON,GAAS,KACd,GAA0B,mBAAfD,EACT,OAAOvC,QAAQC,QAAQsC,EAAWQ,KAAKF,EAAaC,EAAkC,SAGxF,IAAIK,EAAgBH,SAQpB,GALAG,EAAgBrF,OAAOsF,gBAAeC,qBAAsBC,YAKxDxF,OAAOoB,KAAK2D,GAAapC,SAAS8B,GAAa,CACjD,IAAIgB,EAAkB,IAAIP,SAAS,CAAC,iBAAkBlF,OAAOoB,KAAK4D,IAA6B,8BAA8BP,MAAvG,CAAuHM,KAAgB/E,OAAOmF,OAAOH,IAE3K,MAA+B,mBAApBS,EACFvD,QAAQC,QAAQsD,EAAgBR,KAAKF,EAAaC,EAAkC,SAEpF9C,QAAQC,UAInB,OAAOD,QAAQC,QAAQ,IAAIkD,EAAc,CAAC,iBAAkBrF,OAAOoB,KAAK4D,IAA6B,uBAAuBP,MAArG,CAAqHM,KAAgB/E,OAAOmF,OAAOH,OACzK,CACDvG,KACAgG,eAGJ,MAAMiB,EAAU,8EAChB,SAASC,EAAQC,GACf,MAAMC,EAAOC,EAAoCF,EAAKC,MACtD,OAAOH,EAAQK,KAAKF,GAEtB,SAASG,EAAUvH,EAAIwH,EAAWC,GAChC,IAAIC,EAAa9F,MAAMiC,KAAK7D,EAAG2H,YAAY7E,OAAOoE,GAASU,IAAIC,GAE3DC,EAAkBJ,EAAW5E,QAAOyB,GAAgC,WAAnBA,EAAUkD,OAAmB,GAElF,GAAIK,EAAiB,CACnB,IAAIC,EAAe1B,EAAUrG,EAAI8H,EAAgB9B,WAAYwB,EAAUQ,OAEvEN,EAAaA,EAAWO,OAAO1G,OAAO2G,QAAQH,GAAcH,KAAI,EAAER,EAAMhF,KAAWyF,EAAmB,CACpGT,OACAhF,aAIJ,OAAIqF,EAAaC,EAAW5E,QAAOrD,GAAKA,EAAEgI,OAASA,IAC5CU,EAAeT,GAGxB,SAASS,EAAeT,GACtB,IAAIU,EAAiB,CAAC,OAAQ,QAAS,OAAQ,aAC/C,OAAOV,EAAWW,MAAK,CAACC,EAAGC,KACzB,IAAIC,GAA4C,IAApCJ,EAAeK,QAAQH,EAAEb,MAAe,YAAca,EAAEb,KAChEiB,GAA4C,IAApCN,EAAeK,QAAQF,EAAEd,MAAe,YAAcc,EAAEd,KACpE,OAAOW,EAAeK,QAAQD,GAASJ,EAAeK,QAAQC,MAIlE,SAASb,GAAmB,KAC1BT,EAAI,MACJhF,IAEA,MAAMuG,EAAiBtB,EAAoCD,GACrDwB,EAAYD,EAAe1D,MAAMgC,GACjC4B,EAAaF,EAAe1D,MAAM,sBAClC6D,EAAYH,EAAe1D,MAAM,0BAA4B,GACnE,MAAO,CACLwC,KAAMmB,EAAYA,EAAU,GAAK,KACjCxG,MAAOyG,EAAaA,EAAW,GAAK,KACpCC,UAAWA,EAAUlB,KAAInI,GAAKA,EAAEsF,QAAQ,IAAK,MAC7CiB,WAAY5D,GAGhB,SAAS2G,EAAcC,GAIrB,MAD0B,CAAC,WAAY,UAAW,WAAY,WAAY,SAAU,OAAQ,WAAY,YAAa,YAAa,WAAY,aAAc,kBAAmB,sBAAuB,iBAAkB,WAAY,WAAY,OAAQ,QAAS,cAAe,UAAW,QAAS,WAAY,QAAS,QAAS,YACzS9E,SAAS8E,GAEpC,SAAS3B,EAAoCD,GAC3C,OAAIA,EAAK6B,WAAW,KACX7B,EAAKrC,QAAQ,IAAK,SAChBqC,EAAK6B,WAAW,KAClB7B,EAAKrC,QAAQ,IAAK,WAGpBqC,EAET,SAAS8B,EAA0BC,EAAWC,EAAWC,SACvD,OAAOF,EAAU5J,MAAM,KAAKuD,OAAOsG,GAErC,MAAME,EAAqB,KACrBC,EAAsB,MACtBC,EAAuB,YAC7B,SAASC,EAAazJ,EAAI0J,EAAMC,EAAQnC,EAAWoC,GAAY,GAE7D,GAAIA,EAAW,OAAOF,IAEtB,GAAI1J,EAAG6J,gBAAkB7J,EAAG6J,eAAepC,OAAS6B,EAGlD,OAGF,MAAMQ,EAAQvC,EAAUvH,EAAIwH,EAAW,cACjCuC,EAAWxC,EAAUvH,EAAIwH,EAAW,QAAQ,GAElD,GAAIuC,GAAYA,EAASjB,UAAU5E,SAAS,cAAe,CACzD,IAAI4E,EAAYiB,EAASjB,UAEzB,GAAIA,EAAU5E,SAAS,SAAW4E,EAAU5E,SAAS,MAAO,OAAOwF,IACnE,MAAMM,EAA+BlB,EAAU5E,SAAS,OAAS4E,EAAU5E,SAAS,OAEpF4E,EAAYkB,EAA+BlB,EAAUhG,QAAO,CAACrD,EAAGwK,IAAUA,EAAQnB,EAAUL,QAAQ,SAAUK,EAC9GoB,EAAmBlK,EAAI8I,EAAWY,EAAMC,QAC/BG,EAAMK,MAAKhD,GAAQ,CAAC,QAAS,cAAe,aAAajD,SAASiD,EAAK/E,SAChFgI,EAAoBpK,EAAIwH,EAAWsC,EAAOJ,EAAMC,GAGhDD,IAGJ,SAASW,EAAcrK,EAAIsK,EAAMX,EAAQnC,EAAWoC,GAAY,GAE9D,GAAIA,EAAW,OAAOU,IAEtB,GAAItK,EAAG6J,gBAAkB7J,EAAG6J,eAAepC,OAAS8B,EAGlD,OAGF,MAAMO,EAAQvC,EAAUvH,EAAIwH,EAAW,cACjCuC,EAAWxC,EAAUvH,EAAIwH,EAAW,QAAQ,GAElD,GAAIuC,GAAYA,EAASjB,UAAU5E,SAAS,cAAe,CACzD,IAAI4E,EAAYiB,EAASjB,UACzB,GAAIA,EAAU5E,SAAS,QAAU4E,EAAU5E,SAAS,OAAQ,OAAOoG,IACnE,MAAMN,EAA+BlB,EAAU5E,SAAS,OAAS4E,EAAU5E,SAAS,OACpF4E,EAAYkB,EAA+BlB,EAAUhG,QAAO,CAACrD,EAAGwK,IAAUA,EAAQnB,EAAUL,QAAQ,SAAUK,EAC9GyB,EAAoBvK,EAAI8I,EAAWkB,EAA8BM,EAAMX,QAC9DG,EAAMK,MAAKhD,GAAQ,CAAC,QAAS,cAAe,aAAajD,SAASiD,EAAK/E,SAChFoI,EAAqBxK,EAAIwH,EAAWsC,EAAOQ,EAAMX,GAEjDW,IAGJ,SAASJ,EAAmBlK,EAAI8I,EAAW2B,EAAcd,GAcvDe,EAAiB1K,EAAI8I,EAAW2B,GAAc,QAAUd,EAZpC,CAClBgB,SAAUC,EAAc9B,EAAW,WAAY,KAC/C+B,OAAQD,EAAc9B,EAAW,SAAU,UAC3CgC,MAAO,CACLC,QAAS,EACTC,MAAOJ,EAAc9B,EAAW,QAAS,KAE3CmC,OAAQ,CACNF,QAAS,EACTC,MAAO,MAGkE1B,GAE/E,SAASiB,EAAoBvK,EAAI8I,EAAWkB,EAA8BkB,EAAcvB,GAiBtFe,EAAiB1K,EAAI8I,GAAW,QAAUoC,EAAcvB,EAZpC,CAClBgB,SAFeX,EAA+BY,EAAc9B,EAAW,WAAY,KAAO8B,EAAc9B,EAAW,WAAY,KAAO,EAGtI+B,OAAQD,EAAc9B,EAAW,SAAU,UAC3CgC,MAAO,CACLC,QAAS,EACTC,MAAO,KAETC,OAAQ,CACNF,QAAS,EACTC,MAAOJ,EAAc9B,EAAW,QAAS,MAGgCS,GAG/E,SAASqB,EAAc9B,EAAW3G,EAAKgJ,GAErC,IAAgC,IAA5BrC,EAAUL,QAAQtG,GAAa,OAAOgJ,EAE1C,MAAMC,EAAWtC,EAAUA,EAAUL,QAAQtG,GAAO,GACpD,IAAKiJ,EAAU,OAAOD,EAEtB,GAAY,UAARhJ,IAIGkJ,EAAUD,GAAW,OAAOD,EAGnC,GAAY,aAARhJ,EAAoB,CAEtB,IAAI8C,EAAQmG,EAASnG,MAAM,cAC3B,GAAIA,EAAO,OAAOA,EAAM,GAG1B,MAAY,WAAR9C,GAEE,CAAC,MAAO,QAAS,OAAQ,SAAU,UAAU+B,SAAS4E,EAAUA,EAAUL,QAAQtG,GAAO,IACpF,CAACiJ,EAAUtC,EAAUA,EAAUL,QAAQtG,GAAO,IAAImJ,KAAK,KAI3DF,EAGT,SAASV,EAAiB1K,EAAI8I,EAAWyC,EAAOC,EAAO7B,EAAQ8B,EAAahE,GAEtEzH,EAAG6J,gBACL7J,EAAG6J,eAAe6B,QAAU1L,EAAG6J,eAAe6B,SAIhD,MAAMC,EAAe3L,EAAG4L,MAAMb,QACxBc,EAAiB7L,EAAG4L,MAAME,UAC1BC,EAAuB/L,EAAG4L,MAAMI,gBAEhCC,GAAenD,EAAU5E,SAAS,aAAe4E,EAAU5E,SAAS,SACpEgI,EAAoBD,GAAenD,EAAU5E,SAAS,WACtDiI,EAAkBF,GAAenD,EAAU5E,SAAS,SAIpDkI,EAAS,CACb,QACMF,IAAmBlM,EAAG4L,MAAMb,QAAUU,EAAYX,MAAMC,SACxDoB,IAAiBnM,EAAG4L,MAAME,UAAY,SAASL,EAAYX,MAAME,MAAQ,SAG/E,SACMmB,IAAiBnM,EAAG4L,MAAMI,gBAAkBP,EAAYZ,QAC5D7K,EAAG4L,MAAMS,mBAAqB,CAACH,EAAoB,UAAY,GAAIC,EAAkB,YAAc,IAAIb,KAAK,KAAKgB,OACjHtM,EAAG4L,MAAMW,mBAAwBd,EAAYd,SAAW,IAA1B,IAC9B3K,EAAG4L,MAAMY,yBAA2B,kCAGtC,OACEjB,KAGF,MACMW,IAAmBlM,EAAG4L,MAAMb,QAAUU,EAAYR,OAAOF,SACzDoB,IAAiBnM,EAAG4L,MAAME,UAAY,SAASL,EAAYR,OAAOD,MAAQ,SAGhF,OACEQ,KAGF,UACMU,IAAmBlM,EAAG4L,MAAMb,QAAUY,GACtCQ,IAAiBnM,EAAG4L,MAAME,UAAYD,GACtCM,IAAiBnM,EAAG4L,MAAMI,gBAAkBD,GAChD/L,EAAG4L,MAAMS,mBAAqB,KAC9BrM,EAAG4L,MAAMW,mBAAqB,KAC9BvM,EAAG4L,MAAMY,yBAA2B,OAIxCC,EAAWzM,EAAIoM,EAAQ3E,EAAMkC,GAG/B,MAAM+C,EAAyB,CAAC1G,EAAYhG,EAAIwH,IACjB,mBAAfxB,EAA4BwB,EAAUmF,yBAAyB3M,EAAIgG,GAAcA,EAGjG,SAASoE,EAAoBpK,EAAIwH,EAAWE,EAAY+C,EAAcd,GAUpEiD,EAAkB5M,EATJkJ,EAA0BwD,GAAwBhF,EAAWmF,MAAKpN,GAAiB,UAAZA,EAAE2C,SAAsB,CAC3G4D,WAAY,KACXA,WAAYhG,EAAIwH,IACA0B,EAA0BwD,GAAwBhF,EAAWmF,MAAKpN,GAAiB,gBAAZA,EAAE2C,SAA4B,CACtH4D,WAAY,KACXA,WAAYhG,EAAIwH,IACF0B,EAA0BwD,GAAwBhF,EAAWmF,MAAKpN,GAAiB,cAAZA,EAAE2C,SAA0B,CAClH4D,WAAY,KACXA,WAAYhG,EAAIwH,IACgCiD,GAAc,QAAUnB,EAAoBK,GAEjG,SAASa,EAAqBxK,EAAIwH,EAAWE,EAAYwD,EAAcvB,GAUrEiD,EAAkB5M,EATJkJ,EAA0BwD,GAAwBhF,EAAWmF,MAAKpN,GAAiB,UAAZA,EAAE2C,SAAsB,CAC3G4D,WAAY,KACXA,WAAYhG,EAAIwH,IACA0B,EAA0BwD,GAAwBhF,EAAWmF,MAAKpN,GAAiB,gBAAZA,EAAE2C,SAA4B,CACtH4D,WAAY,KACXA,WAAYhG,EAAIwH,IACF0B,EAA0BwD,GAAwBhF,EAAWmF,MAAKpN,GAAiB,cAAZA,EAAE2C,SAA0B,CAClH4D,WAAY,KACXA,WAAYhG,EAAIwH,KACgC,QAAU0D,EAAc3B,EAAqBI,GAElG,SAASiD,EAAkB5M,EAAI8M,EAAeC,EAAcC,EAAYzB,EAAOC,EAAO/D,EAAMkC,GAEtF3J,EAAG6J,gBACL7J,EAAG6J,eAAe6B,QAAU1L,EAAG6J,eAAe6B,SAGhD,MAAMuB,EAAkBjN,EAAGkN,sBAAwB,GAC7Cd,EAAS,CACb,QACEpM,EAAGmJ,UAAUgE,OAAOJ,IAGtB,SACE/M,EAAGmJ,UAAUgE,OAAOL,IAGtB,OACEvB,KAGF,MAEEvL,EAAGmJ,UAAUtI,UAAUkM,EAAajK,QAAOrD,IAAMwN,EAAgB/I,SAASzE,MAC1EO,EAAGmJ,UAAUgE,OAAOH,IAGtB,OACExB,KAGF,UACExL,EAAGmJ,UAAUtI,UAAUiM,EAAchK,QAAOrD,IAAMwN,EAAgB/I,SAASzE,MAC3EO,EAAGmJ,UAAUtI,UAAUmM,EAAWlK,QAAOrD,IAAMwN,EAAgB/I,SAASzE,QAI5EgN,EAAWzM,EAAIoM,EAAQ3E,EAAMkC,GAE/B,SAAS8C,EAAWzM,EAAIoM,EAAQ3E,EAAMkC,GACpC,MAAMyD,EAASC,GAAK,KAClBjB,EAAO9B,OAGHtK,EAAGsN,aACLlB,EAAOmB,iBAGFvN,EAAG6J,kBAEZ7J,EAAG6J,eAAiB,CAElBpC,KAAMA,EAINiE,OAAQ2B,GAAK,KACX1D,EAAOH,GACP4D,OAEFA,SAEAI,UAAW,MAEbpB,EAAOqB,QACPrB,EAAOsB,SACP1N,EAAG6J,eAAe2D,UAAYtN,uBAAsB,KAGlD,IAAIyK,EAAiG,IAAtFgD,OAAOC,iBAAiB5N,GAAIuM,mBAAmBxH,QAAQ,MAAO,IAAIA,QAAQ,IAAK,KAE7E,IAAb4F,IACFA,EAA6E,IAAlEgD,OAAOC,iBAAiB5N,GAAI6N,kBAAkB9I,QAAQ,IAAK,MAGxEqH,EAAO1C,OACP1J,EAAG6J,eAAe2D,UAAYtN,uBAAsB,KAClDkM,EAAO0B,MACPhI,WAAW9F,EAAG6J,eAAeuD,OAAQzC,SAI3C,SAASU,EAAUvG,GACjB,OAAQlD,MAAMmM,QAAQjJ,KAAakJ,MAAMlJ,GAI3C,SAASuI,EAAKjM,GACZ,IAAI6M,GAAS,EACb,OAAO,WACAA,IACHA,GAAS,EACT7M,EAAS6B,MAAMnE,KAAMsE,aAK3B,SAAS8K,EAAmB1G,EAAW2G,EAAYnI,EAAYoI,EAAeC,GAC5E/J,EAAwB6J,EAAY,SACpC,IAAIG,EAAmDC,EAAb,mBAAfvI,EAA+CwB,EAAUmF,yBAAyBwB,EAAYnI,GAAkCA,GACvJwI,EAAQC,EAA2DjH,EAAW2G,EAAYG,EAAeD,GAEzGK,EAAYP,EAChBK,EAAM7P,SAAQ,CAACgQ,EAAM1E,KACnB,IAAI2E,EAA0BC,EAA2BP,EAAeK,EAAM1E,EAAOuE,EAAOH,KACxFS,EAAaC,EAAwBvH,EAAW2G,EAAYlE,EAAO2E,GACnE7N,EAASiO,EAAiDN,EAAU1N,mBAAoB8N,GAEvF/N,UAQIA,EAAOJ,YACdI,EAAOkO,QAAUL,EACjBpH,EAAU0H,eAAenO,GAAQ,IAAMA,EAAOkO,YAT9ClO,EAASoO,EAA+BhB,EAAYO,GAEpDjF,EAAa1I,GAAQ,SAAU,QAAUyG,EAAW4G,GACpDrN,EAAOkO,QAAUL,EACjBpH,EAAU4H,mBAAmBrO,GAAQ,IAAMA,EAAOkO,WAQpDP,EAAY3N,EACZ2N,EAAU/N,YAAcmO,KAE1BO,EAA4CX,EAAWlH,GAGzD,SAAS+G,EAAmBvI,GAC1B,IAAIsJ,EAAgB,iCAChBC,EAAgB,WAChBC,EAAa,qCACbC,EAAUzJ,EAAWf,MAAMuK,GAC/B,IAAKC,EAAS,OACd,IAAIC,EAAM,GACVA,EAAIlB,MAAQiB,EAAQ,GAAGnD,OACvB,IAAIqC,EAAOc,EAAQ,GAAGnD,OAAOvH,QAAQwK,EAAe,IAChDI,EAAgBhB,EAAK1J,MAAMqK,GAa/B,OAXIK,GACFD,EAAIf,KAAOA,EAAK5J,QAAQuK,EAAe,IAAIhD,OAC3CoD,EAAIzF,MAAQ0F,EAAc,GAAGrD,OAEzBqD,EAAc,KAChBD,EAAIE,WAAaD,EAAc,GAAGrD,SAGpCoD,EAAIf,KAAOA,EAGNe,EAGT,SAASb,EAA2BP,EAAeK,EAAM1E,EAAOuE,EAAOH,GAErE,IAAIwB,EAAiBxB,EAAYnL,EAAe,GAAImL,GAAa,GAIjE,OAHAwB,EAAevB,EAAcK,MAAQA,EACjCL,EAAcrE,QAAO4F,EAAevB,EAAcrE,OAASA,GAC3DqE,EAAcsB,aAAYC,EAAevB,EAAcsB,YAAcpB,GAClEqB,EAGT,SAASd,EAAwBvH,EAAWxH,EAAIiK,EAAO2E,GACrD,IAAIkB,EAAmBvI,EAAUvH,EAAIwH,EAAW,QAAQ1E,QAAOqE,GAAuB,QAAfA,EAAK/E,QAAiB,GAE7F,OAAK0N,EACEtI,EAAUmF,yBAAyB3M,EAAI8P,EAAiB9J,YAAY,IAAM4I,IADnD3E,EAIhC,SAASwE,EAA2DjH,EAAWxH,EAAIsO,EAAeD,GAChG,IAAI0B,EAAcxI,EAAUvH,EAAIwH,EAAW,MAAM,GAEjD,GAAIuI,IAAgBvI,EAAUmF,yBAAyB3M,EAAI+P,EAAY/J,YACrE,MAAO,GAGT,IAAIwI,EAAQhH,EAAUmF,yBAAyB3M,EAAIsO,EAAcE,MAAOH,GAMxE,OAJIhD,EAAUmD,IAAUA,EAAQ,IAC9BA,EAAQ5M,MAAMiC,KAAKjC,MAAM4M,GAAO7L,QAAQlD,GAAKA,EAAI,KAG5C+O,EAGT,SAASW,EAA+BhB,EAAYO,GAClD,IAAIsB,EAAQxR,SAASyR,WAAW9B,EAAWxJ,SAAS,GAEpD,OADA+J,EAAUwB,cAAcC,aAAaH,EAAOtB,EAAU1N,oBAC/C0N,EAAU1N,mBAGnB,SAASgO,EAAiDjO,EAAQ+N,GAChE,IAAK/N,EAAQ,OAEb,QAA2BqP,IAAvBrP,EAAOJ,YAA2B,OAEtC,GAAII,EAAOJ,cAAgBmO,EAAY,OAAO/N,EAG9C,IAAIsP,EAAYtP,EAEhB,KAAOsP,GAAW,CAChB,GAAIA,EAAU1P,cAAgBmO,EAC5B,OAAOuB,EAAUH,cAAcC,aAAaE,EAAWtP,GAGzDsP,KAAYA,EAAUrP,yBAAmEoP,IAA7CC,EAAUrP,mBAAmBL,cAA4B0P,EAAUrP,oBAInH,SAASqO,EAA4CX,EAAWlH,GAG9D,IAFA,IAAI8I,KAAyB5B,EAAU1N,yBAAmEoP,IAA7C1B,EAAU1N,mBAAmBL,cAA4B+N,EAAU1N,mBAEzHsP,GAAwB,CAC7B,IAAIC,EAAkCD,EAClCE,EAAcF,EAAuBtP,mBACzCqJ,EAAciG,GAAwB,KACpCC,EAAgC1P,YAC/B,QAAU2G,GACb8I,KAAyBE,QAA2CJ,IAA5BI,EAAY7P,cAA4B6P,GAIpF,SAASC,EAAgCjJ,EAAWxH,EAAIgJ,EAAUhD,EAAYqI,EAAWqC,EAAU5H,GACjG,IAAI1G,EAAQoF,EAAUmF,yBAAyB3M,EAAIgG,EAAYqI,GAE/D,GAAiB,UAAbrF,EAAsB,CACxB,GAAI9J,GAAOyR,8BAAgCnS,SAASoS,cAAcC,WAAW7Q,GAAK,OAMlF,QAJcoQ,IAAVhO,GAAuB4D,EAAWf,MAAM,QAC1C7C,EAAQ,IAGM,UAAZpC,EAAGyH,UAIuB2I,IAAxBpQ,EAAG2H,WAAWvF,OAAoC,SAAbsO,EACvC1Q,EAAGoC,MAAQA,EACW,SAAbsO,IACT1Q,EAAG8Q,QAAU3M,EAAwBnE,EAAGoC,MAAOA,SAE5C,GAAgB,aAAZpC,EAAGyH,KAIS,kBAAVrF,GAAwB,CAAC,UAAMgO,GAAWlM,SAAS9B,IAAuB,SAAbsO,EAEhD,SAAbA,IACL9O,MAAMmM,QAAQ3L,GAIhBpC,EAAG8Q,QAAU1O,EAAM+H,MAAK4G,GAAO5M,EAAwB4M,EAAK/Q,EAAGoC,SAE/DpC,EAAG8Q,UAAY1O,GARjBpC,EAAGoC,MAAQ4O,OAAO5O,QAWf,GAAmB,WAAfpC,EAAGwE,QACZyM,EAAajR,EAAIoC,OACZ,CACL,GAAIpC,EAAGoC,QAAUA,EAAO,OACxBpC,EAAGoC,MAAQA,QAER,GAAiB,UAAb4G,EACT,GAAIpH,MAAMmM,QAAQ3L,GAAQ,CACxB,MAAM6K,EAAkBjN,EAAGkN,sBAAwB,GACnDlN,EAAGnB,aAAa,QAAS8E,EAAYsJ,EAAgBhF,OAAO7F,IAAQkJ,KAAK,WACpE,GAAqB,iBAAVlJ,EAGiBb,OAAOoB,KAAKP,GAAOiG,MAAK,CAACC,EAAGC,IAAMnG,EAAMkG,GAAKlG,EAAMmG,KAC3D5J,SAAQuS,IAC3B9O,EAAM8O,GACRhI,EAA0BgI,GAAYvS,SAAQwS,GAAanR,EAAGmJ,UAAUgE,IAAIgE,KAE5EjI,EAA0BgI,GAAYvS,SAAQwS,GAAanR,EAAGmJ,UAAUtI,OAAOsQ,YAG9E,CACL,MAAMlE,EAAkBjN,EAAGkN,sBAAwB,GAC7CkE,EAAahP,EAAQ8G,EAA0B9G,GAAS,GAC9DpC,EAAGnB,aAAa,QAAS8E,EAAYsJ,EAAgBhF,OAAOmJ,IAAa9F,KAAK,WAGhFtC,EAAWF,EAAU5E,SAAS,SAAWc,EAAUgE,GAAYA,EAE3D,CAAC,UAAMoH,GAAW,GAAOlM,SAAS9B,GACpCpC,EAAGU,gBAAgBsI,GAEnBD,EAAcC,GAAYqI,EAAarR,EAAIgJ,EAAUA,GAAYqI,EAAarR,EAAIgJ,EAAU5G,GAKlG,SAASiP,EAAarR,EAAIgJ,EAAU5G,GAC9BpC,EAAGsR,aAAatI,IAAa5G,GAC/BpC,EAAGnB,aAAamK,EAAU5G,GAI9B,SAAS6O,EAAajR,EAAIoC,GACxB,MAAMmP,EAAoB,GAAGtJ,OAAO7F,GAAOwF,KAAIxF,GACtCA,EAAQ,KAEjBR,MAAMiC,KAAK7D,EAAGwR,SAAS7S,SAAQ8S,IAC7BA,EAAOC,SAAWH,EAAkBrN,SAASuN,EAAOrP,OAASqP,EAAOE,SAIxE,SAASC,EAAoB5R,EAAI6R,EAAQ7L,QAExBoK,IAAXyB,GAAwB7L,EAAWf,MAAM,QAC3C4M,EAAS,IAGX7R,EAAG8R,YAAcD,EAGnB,SAASE,EAAoBvK,EAAWxH,EAAIgG,EAAYqI,GACtDrO,EAAGgS,UAAYxK,EAAUmF,yBAAyB3M,EAAIgG,EAAYqI,GAGpE,SAAS4D,EAAoBzK,EAAWxH,EAAIoC,EAAO0G,EAAWsF,GAAgB,GAC5E,MAAM9D,EAAO,KACXtK,EAAG4L,MAAMsG,QAAU,OACnBlS,EAAGmS,cAAe,GAGdzI,EAAO,KACa,IAApB1J,EAAG4L,MAAMlM,QAAqC,SAArBM,EAAG4L,MAAMsG,QACpClS,EAAGU,gBAAgB,SAEnBV,EAAG4L,MAAMwG,eAAe,WAG1BpS,EAAGmS,cAAe,GAGpB,IAAsB,IAAlB/D,EAOF,YANIhM,EACFsH,IAEAY,KAMJ,MAAM+H,EAAS,CAAC3O,EAASiG,KACnBvH,IACuB,SAArBpC,EAAG4L,MAAMsG,SAAsBlS,EAAG6J,iBACpCJ,EAAazJ,GAAI,KACf0J,MACCC,EAAQnC,GAGb9D,GAAQ,UAEiB,SAArB1D,EAAG4L,MAAMsG,QACX7H,EAAcrK,GAAI,KAChB0D,GAAQ,KACN4G,SAEDX,EAAQnC,GAEX9D,GAAQ,UASVoF,EAAU5E,SAAS,aACrBmO,GAAOjF,GAAUA,MAAU,UAOzB5F,EAAU8K,2BAA6B9K,EAAU8K,yBAAyBC,SAASvS,IACrFwH,EAAUgL,6CAGZhL,EAAUiL,mBAAmBzP,KAAKqP,GAClC7K,EAAU8K,yBAA2BtS,GAGvC,SAAS0S,GAAkBlL,EAAWxH,EAAI2S,EAAkBvE,EAAeC,GACzE/J,EAAwBtE,EAAI,QAC5B,MAAM4S,EAA6B5S,EAAGgB,qBAAgE,IAA1ChB,EAAGgB,mBAAmBJ,gBAElF,IAAI+R,GAAsBC,IAA8B5S,EAAG6J,gBAM/C8I,GAAoBC,GAC9BvI,EAAcrK,EAAGgB,oBAAoB,KACnChB,EAAGgB,mBAAmBH,YACrB,QAAU2G,EAAW4G,OATkD,CAC1E,MAAM4B,EAAQxR,SAASyR,WAAWjQ,EAAG2E,SAAS,GAC9C3E,EAAGkQ,cAAcC,aAAaH,EAAOhQ,EAAGgB,oBACxCyI,EAAazJ,EAAGgB,oBAAoB,SAAU,QAAUwG,EAAW4G,GACnE5G,EAAU4H,mBAAmBpP,EAAGgB,mBAAoBqN,GACpDrO,EAAGgB,mBAAmBJ,iBAAkB,GAQ5C,SAASiS,GAAiBrL,EAAWxH,EAAIK,EAAOyI,EAAW9C,EAAYqI,EAAY,IACjF,MAAMmD,EAAU,CACdsB,QAAShK,EAAU5E,SAAS,YAO9B,GAJI4E,EAAU5E,SAAS,WACrB7D,EAAQ2E,EAAU3E,IAGhByI,EAAU5E,SAAS,QAAS,CAC9B,IAAI6O,EAAU3M,IAERpG,EAAGuS,SAASnM,EAAEjD,SAEdnD,EAAGgT,YAAc,GAAKhT,EAAGiT,aAAe,IAG5CC,GAAmB1L,EAAWxB,EAAYI,EAAGiI,GAEzCvF,EAAU5E,SAAS,SACrB1F,SAAS2U,oBAAoB9S,EAAO0S,EAASvB,KAKjDhT,SAAS2C,iBAAiBd,EAAO0S,EAASvB,OACrC,CACL,IAAI4B,EAAiBtK,EAAU5E,SAAS,UAAYjF,OAAS6J,EAAU5E,SAAS,YAAc1F,SAAWwB,EAErG+S,EAAU3M,IAGRgN,IAAmBnU,QAAUmU,IAAmB5U,UAC7CA,SAASC,KAAK8T,SAASvS,GAM1BqT,GAAWhT,IACTiT,GAA+ClN,EAAG0C,KAKpDA,EAAU5E,SAAS,YAAYkC,EAAEmN,iBACjCzK,EAAU5E,SAAS,SAASkC,EAAEoN,kBAI7B1K,EAAU5E,SAAS,SAAWkC,EAAEjD,SAAWnD,IAC1BkT,GAAmB1L,EAAWxB,EAAYI,EAAGiI,GACrDoF,MAAKrR,KACD,IAAVA,EACFgE,EAAEmN,iBAEEzK,EAAU5E,SAAS,SACrBkP,EAAeD,oBAAoB9S,EAAO0S,EAASvB,MAvBvD4B,EAAeD,oBAAoB9S,EAAO0S,EAASvB,IA8BzD,GAAI1I,EAAU5E,SAAS,YAAa,CAClC,IAAIwP,EAAe5K,EAAUA,EAAUL,QAAQ,YAAc,IAAM,eAC/DjD,EAAO6F,EAAUqI,EAAanU,MAAM,MAAM,IAAMoO,OAAO+F,EAAanU,MAAM,MAAM,IAAM,IAC1FwT,EAAUzN,EAASyN,EAASvN,GAG9B4N,EAAejS,iBAAiBd,EAAO0S,EAASvB,IAIpD,SAAS0B,GAAmB1L,EAAWxB,EAAYI,EAAGiI,GACpD,OAAO7G,EAAUmM,0BAA0BvN,EAAEjD,OAAQ6C,GAAY,IACxD9C,EAAeA,EAAe,GAAImL,KAAc,GAAI,CACzD,OAAUjI,MAKhB,SAASiN,GAAWhT,GAClB,MAAO,CAAC,UAAW,SAAS6D,SAAS7D,GAGvC,SAASiT,GAA+ClN,EAAG0C,GACzD,IAAI8K,EAAe9K,EAAUhG,QAAOrD,IAC1B,CAAC,SAAU,WAAY,UAAW,QAAQyE,SAASzE,KAG7D,GAAImU,EAAa1P,SAAS,YAAa,CACrC,IAAI2P,EAAgBD,EAAanL,QAAQ,YACzCmL,EAAaE,OAAOD,EAAexI,GAAWuI,EAAaC,EAAgB,IAAM,gBAAgBtU,MAAM,MAAM,IAAM,EAAI,GAIzH,GAA4B,IAAxBqU,EAAalU,OAAc,OAAO,EAEtC,GAA4B,IAAxBkU,EAAalU,QAAgBkU,EAAa,KAAOG,GAAc3N,EAAEjE,KAAM,OAAO,EAElF,MACM6R,EADqB,CAAC,OAAQ,QAAS,MAAO,OAAQ,MAAO,SACblR,QAAOmR,GAAYL,EAAa1P,SAAS+P,KAG/F,OAFAL,EAAeA,EAAa9Q,QAAOrD,IAAMuU,EAA2B9P,SAASzE,OAEzEuU,EAA2BtU,OAAS,GACFsU,EAA2BlR,QAAOmR,IAEnD,QAAbA,GAAmC,UAAbA,IAAsBA,EAAW,QACpD7N,EAAE,GAAG6N,WAGkBvU,SAAWsU,EAA2BtU,QAEhEkU,EAAa,KAAOG,GAAc3N,EAAEjE,MAQ9C,SAAS4R,GAAc5R,GACrB,OAAQA,GACN,IAAK,IACH,MAAO,QAET,IAAK,IACL,IAAK,WACH,MAAO,QAET,QACE,OAAOA,GAAO0C,EAAU1C,IAI9B,SAAS+R,GAAsB1M,EAAWxH,EAAI8I,EAAW9C,EAAYqI,GAGnE,IAAIhO,EAAqC,WAA7BL,EAAGwE,QAAQC,eAA8B,CAAC,WAAY,SAASP,SAASlE,EAAGyH,OAASqB,EAAU5E,SAAS,QAAU,SAAW,QAExI2O,GAAiBrL,EAAWxH,EAAIK,EAAOyI,EADZ,GAAG9C,qCAA8CA,MACN,IAC7D9C,EAAeA,EAAe,GAAImL,KAAc,GAAI,CACzD8F,sBAAuBC,GAAgCpU,EAAI8I,EAAW9C,OAK5E,SAASoO,GAAgCpU,EAAI8I,EAAW9C,GAQtD,MAPgB,UAAZhG,EAAGyH,OAIAzH,EAAGS,aAAa,SAAST,EAAGnB,aAAa,OAAQmH,IAGjD,CAAC3F,EAAOgU,KAEb,GAAIhU,aAAiBiU,aAAejU,EAAMG,OACxC,OAAOH,EAAMG,OACR,GAAgB,aAAZR,EAAGyH,KAAqB,CAEjC,GAAI7F,MAAMmM,QAAQsG,GAAe,CAC/B,MAAME,EAAWzL,EAAU5E,SAAS,UAAYsQ,GAAgBnU,EAAM8C,OAAOf,OAAS/B,EAAM8C,OAAOf,MACnG,OAAO/B,EAAM8C,OAAO2N,QAAUuD,EAAapM,OAAO,CAACsM,IAAaF,EAAavR,QAAO9C,IAAOmE,EAAwBnE,EAAIuU,KAEvH,OAAOlU,EAAM8C,OAAO2N,QAEjB,GAAiC,WAA7B9Q,EAAGwE,QAAQC,eAA8BzE,EAAGyU,SACrD,OAAO3L,EAAU5E,SAAS,UAAYtC,MAAMiC,KAAKxD,EAAM8C,OAAOuR,iBAAiB9M,KAAI6J,GAE1E+C,GADU/C,EAAOrP,OAASqP,EAAOE,QAErC/P,MAAMiC,KAAKxD,EAAM8C,OAAOuR,iBAAiB9M,KAAI6J,GACzCA,EAAOrP,OAASqP,EAAOE,OAE3B,CACL,MAAMvG,EAAW/K,EAAM8C,OAAOf,MAC9B,OAAO0G,EAAU5E,SAAS,UAAYsQ,GAAgBpJ,GAAYtC,EAAU5E,SAAS,QAAUkH,EAASkB,OAASlB,IAKvH,SAASoJ,GAAgBpJ,GACvB,MAAMuJ,EAASvJ,EAAWwJ,WAAWxJ,GAAY,KACjD,OAAOC,EAAUsJ,GAAUA,EAASvJ,EAMtC,MAAM,QAAE2C,IAAYnM,OACd,eAAEiF,GAAgBgO,OAAQC,GAAcnT,eAAgBoT,GAAsBxR,iBAAkByR,GAAsB,aAAEC,GAAY,yBAAEzT,GAAwB,oBAAE0T,GAAmB,sBAAEtS,GAAqB,kBAAEuS,GAAiB,eAAEC,IAAoB7T,QACjPyB,KAAMqS,GAAWpN,OAAQqN,GAAa1N,IAAK2N,IAAc3T,MAAMF,UACvE,SAAS8T,GAAYtT,GACjB,YAAekO,IAARlO,EAEX,SAASuT,GAAWvT,GAChB,MAAsB,mBAARA,EAElB,SAASwT,GAASxT,GACd,MAAsB,iBAARA,EAElB,MAAMyT,GAAkB,IAAIC,QAC5B,SAASC,GAAcC,EAAO1T,GAC1BuT,GAAgBI,IAAID,EAAO1T,GAE/B,MAAM4T,GAAUC,GAAiBN,GAAgBO,IAAID,IAAiBA,EAEtE,SAASE,GAAUC,EAAUhU,GACzB,OAAOgU,EAASC,kBAAkBjU,GAASgU,EAASE,SAASlU,GAASA,EAO1E,SAASmU,GAAiBC,GAItB,OAHIpB,GAAe5O,KAAKgQ,EAAY,WAChCA,EAAWpU,MAAQ4T,GAAOQ,EAAWpU,QAElCoU,EAEX,SAASC,GAAiBL,EAAUM,EAAcC,GAC3BrB,GAAY9O,KAAK0O,GAAoByB,GAAiB/T,GAAsB+T,IACpFhY,SAASwD,IAChB,IAAIqU,EAAahV,GAAyBmV,EAAgBxU,GAMrDqU,EAAWlU,eACZkU,EAAaI,GAAeR,EAAUI,EAAYL,KAEtDpB,GAAqB2B,EAAcvU,EAAKqU,MAE5CrB,GAAkBuB,GAEtB,MAAMG,GACF,YAAYT,EAAUhU,GAClBtD,KAAK6X,eAAiBvU,EACtBtD,KAAKsX,SAAWA,EAEpB,IAAIM,EAAcvU,GACd,MAAM,eAAEwU,EAAc,SAAEP,GAAatX,KAC/BsD,EAAQuU,EAAexU,IACvB,cAAE2U,GAAkBV,EAE1B,OADAU,EAAcH,EAAgBxU,GACvBiU,EAASE,SAASlU,GAE7B,IAAIsU,EAAcvU,EAAKC,GACnB,MAAM,eAAEuU,EAAgBP,UAAU,aAAEW,IAAmBjY,KAavD,OAZiB6X,EAAexU,KACfC,GACbuU,EAAexU,GAAOC,EACtB2U,EAAaJ,EAAgBxU,IAEhB,WAARA,GAAoB4L,GAAQ4I,IAKjCI,EAAaJ,EAAgBxU,IAE1B,EAEX,eAAeuU,EAAcvU,GACzB,MAAM,eAAEwU,EAAgBP,UAAU,aAAEW,IAAmBjY,KAGvD,cAFO6X,EAAexU,GACtB4U,EAAaJ,EAAgBxU,IACtB,EAEX,MAAMuU,EAAcM,EAASC,IAG7B,UAAU9T,EAAQ8T,EAAUC,IAG5B,IAAIR,EAAcvU,GACd,MAAM,eAAEwU,EAAgBP,UAAU,cAAEU,IAAoBhY,KAExD,OADAgY,EAAcH,EAAgBxU,GACvBA,KAAOwU,EAElB,QAAQD,GACJ,MAAM,eAAEC,GAAmB7X,KAC3B,OAAOwW,GAAY9O,KAAK0O,GAAoByB,GAAiB/T,GAAsB+T,IAEvF,aAAaD,GACT,MAAMS,EAAqBlC,GAAayB,GACxC,IAAKS,EACD,OAAOA,EAEX,MAAM,eAAER,EAAc,SAAEP,GAAatX,KAC/BsY,EAAqBnC,GAAa0B,GAIxC,OAHKS,GACDX,GAAiBL,EAAUM,EAAcC,GAEtCS,EAEX,eAAeV,EAAchV,IAE7B,eAAegV,GACX,MAAM,eAAEC,GAAmB7X,KAC3B,OAAO+H,GAAe8P,GAE1B,yBAAyBD,EAAcvU,GACnC,MAAM,eAAEwU,EAAc,SAAEP,GAAatX,MAC/B,cAAEgY,GAAkBhY,KAAKsX,SAE/BU,EAAcH,EAAgBxU,GAC9B,IAAIkV,EAAO7V,GAAyBmV,EAAgBxU,GACpD,GAAIqT,GAAY6B,GACZ,OAAOA,EAEX,MAAMC,EAAmB9V,GAAyBkV,EAAcvU,GAChE,OAAKqT,GAAY8B,IAMjBD,EAAOT,GAAeR,EAAUiB,EAAMlB,IACjCkB,EAAK/U,cAMNyS,GAAqB2B,EAAcvU,EAAKkV,GAErCA,GAdIC,EAgBf,kBAAkBZ,GACd,MAAM,eAAEC,EAAc,SAAEP,GAAatX,KAGrC,OAFA2X,GAAiBL,EAAUM,EAAcC,GACzCxB,GAAkBwB,IACX,EAEX,eAAeD,EAAcvU,EAAKqU,GAC9B,MAAM,eAAEG,EAAc,SAAEP,GAAatX,MAC/B,aAAEiY,GAAiBX,GACnB,aAAE9T,GAAiBkU,EAQzB,GAAIpB,GAAe5O,KAAKgQ,EAAY,cAAgBpB,GAAe5O,KAAKgQ,EAAY,SAAU,CAC1F,MAAMe,EAAqB/V,GAAyBmV,EAAgBxU,GACpEqU,EAAWpU,MAAQmV,EAAmBnV,MAO1C,OALA2S,GAAqB4B,EAAgBxU,EAAKoU,GAAiBC,KACtC,IAAjBlU,GACAyS,GAAqB2B,EAAcvU,EAAKyU,GAAeR,EAAUI,EAAYL,KAEjFY,EAAaJ,EAAgBxU,IACtB,GAIf,SAASqV,GAAkBpB,EAAUhU,GACjC,OAAOgU,EAASC,kBAAkBjU,GAASgU,EAASqB,iBAAiBrV,GAASA,EAElF,MAAMsV,GACF,YAAYtB,EAAUhU,GAClBtD,KAAK6X,eAAiBvU,EACtBtD,KAAKsX,SAAWA,EAEpB,IAAIM,EAAcvU,GACd,MAAM,SAAEiU,EAAQ,eAAEO,GAAmB7X,KAC/BsD,EAAQuU,EAAexU,IACvB,cAAE2U,GAAkBV,EAE1B,OADAU,EAAcH,EAAgBxU,GACvBiU,EAASqB,iBAAiBrV,GAErC,IAAIsU,EAAcvU,EAAKC,GACnB,OAAO,EAEX,eAAesU,EAAcvU,GACzB,OAAO,EAEX,MAAMuU,EAAcM,EAASC,IAG7B,UAAU9T,EAAQ8T,EAAUC,IAG5B,IAAIR,EAAcvU,GACd,MAAM,eAAEwU,EAAgBP,UAAU,cAAEU,IAAoBhY,KAExD,OADAgY,EAAcH,EAAgBxU,GACvBA,KAAOwU,EAElB,QAAQD,GACJ,MAAM,eAAEC,GAAmB7X,KAC3B,OAAOwW,GAAY9O,KAAK0O,GAAoByB,GAAiB/T,GAAsB+T,IAEvF,eAAeD,EAAchV,IAE7B,yBAAyBgV,EAAcvU,GACnC,MAAM,eAAEwU,EAAc,SAAEP,GAAatX,MAC/B,cAAEgY,GAAkBV,EAE1BU,EAAcH,EAAgBxU,GAC9B,IAAIkV,EAAO7V,GAAyBmV,EAAgBxU,GACpD,GAAIqT,GAAY6B,GACZ,OAAOA,EAEX,MAAMC,EAAmB9V,GAAyBkV,EAAcvU,GAChE,OAAKqT,GAAY8B,IAMjBD,EAAOT,GAAeR,EAAUiB,EAAMG,IAClCpC,GAAe5O,KAAK6Q,EAAM,SAC1BA,EAAKtB,SAAM3F,GAEViH,EAAK/U,cAMNyS,GAAqB2B,EAAcvU,EAAKkV,GAErCA,GAjBIC,EAmBf,kBAAkBZ,GACd,OAAO,EAEX,eAAeA,EAAcvU,EAAKqU,GAC9B,OAAO,GAGf,SAASmB,GAAmBvV,GACxB,IAAIsU,EAOJ,OANI3I,GAAQ3L,GACRsU,EAAe,GAEVhB,GAAStT,KACdsU,EAAe,IAEZA,EAEX,MAAMkB,GAAqBrW,OAAOG,UAClC,SAASmW,GAAyBzV,GAE9B,GAAc,OAAVA,EACA,OAAO,EAGX,GAAqB,iBAAVA,EACP,OAAO,EAEX,GAAI2L,GAAQ3L,GACR,OAAO,EAEX,MAAM0V,EAAQjR,GAAezE,GAC7B,OAAQ0V,IAAUF,IAAgC,OAAVE,GAA4C,OAA1BjR,GAAeiR,GAE7E,MAAMC,GAAuB,CAAC7V,EAAKC,OAG7B6V,GAAsB,CAAC9V,EAAKC,OAG5B8V,GAA0B7V,GAAUA,EAC1C,SAASwU,GAAeR,EAAUI,EAAY0B,GAC1C,MAAM,IAAEnC,EAAG,IAAEG,GAAQM,EAsBrB,OArBIpB,GAAe5O,KAAKgQ,EAAY,SAChCA,EAAWpU,MAAQ8V,EAAS9B,EAAUI,EAAWpU,QAG5CoT,GAAYU,KACbM,EAAWN,IAAM,WAEb,OAAOgC,EAAS9B,EAAUF,EAAI1P,KAAKwP,GAAOlX,UAG7C0W,GAAYO,KACbS,EAAWT,IAAM,SAAU3T,GAMvB2T,EAAIvP,KAAKwP,GAAOlX,MAAOsX,EAAS+B,YAAY/V,OAIjDoU,EAEX,MAAM4B,GACF,YAAY5G,GAMR,GALA1S,KAAKuZ,gBAAkBJ,GACvBnZ,KAAKiY,aAAeiB,GACpBlZ,KAAKgY,cAAgBiB,GACrBjZ,KAAKuX,kBAAoBwB,GACzB/Y,KAAKwZ,YAAc,IAAI1C,SAClBJ,GAAYhE,GAAU,CACvB,MAAM,gBAAE6G,EAAe,aAAEtB,EAAY,cAAED,EAAa,kBAAET,GAAsB7E,EAC5E1S,KAAKuZ,gBAAkB5C,GAAW4C,GAAmBA,EAAkBJ,GACvEnZ,KAAKiY,aAAetB,GAAWsB,GAAgBA,EAAeiB,GAC9DlZ,KAAKgY,cAAgBrB,GAAWqB,GAAiBA,EAAgBiB,GACjEjZ,KAAKuX,kBAAoBZ,GAAWY,GAAqBA,EAAoBwB,IAGrF,SAASzV,GACL,MAAMmW,EAAiBvC,GAAO5T,GACxBoW,EAAY1Z,KAAKuZ,gBAAgBE,GACvC,GAAIzZ,KAAKuX,kBAAkBmC,GAAY,CACnC,MAAMC,EAAI3Z,KAAK4Z,iBAAiBH,EAAgBC,GAGhD,OAAOC,EAAEE,WAAavW,EAAQA,EAAQqW,EAAEG,SAE5C,OAAOJ,EAEX,iBAAiBpW,GACbA,EAAQ4T,GAAO5T,GACf,MAAMoW,EAAY1Z,KAAKuZ,gBAAgBjW,GACvC,OAAItD,KAAKuX,kBAAkBmC,GAChB1Z,KAAK4Z,iBAAiBtW,EAAOoW,GAAWG,SAE5CH,EAEX,YAAYK,GACR,OAAO7C,GAAO6C,GAElB,iBAAiBzW,EAAO0W,GACpB,MAAM,YAAER,GAAiBxZ,KACzB,IAAIia,EAAgBT,EAAYpC,IAAI4C,GACpC,GAAIC,EACA,OAAOA,EAEX,MAAM3C,EAAWtX,KAoBjB,OAnBAia,EAAgB,CACZ,eACI,MAAMC,EAAkB,IAAInC,GAAqBT,EAAU0C,GAErDhD,EAAQ,IAAImD,MAAMtB,GAAmBmB,GAAiBE,GAG5D,OAFAnD,GAAcC,EAAO1T,GACrB2S,GAAqBjW,KAAM,WAAY,CAAEsD,MAAO0T,IACzCA,GAEX,eACI,MAAMoD,EAAkB,IAAIxB,GAAgBtB,EAAU0C,GAEhDhD,EAAQ,IAAImD,MAAMtB,GAAmBmB,GAAiBI,GAG5D,OAFArD,GAAcC,EAAO1T,GACrB2S,GAAqBjW,KAAM,WAAY,CAAEsD,MAAO0T,IACzCA,IAGfwC,EAAYvC,IAAI+C,EAAgBC,GACzBA,GAKf,SAASI,GAAK7Y,EAAM8Y,GAElB,IAAIhD,EAAW,IAAIgC,GAAiB,CAClC,aAAajV,EAAQhB,GACnBiX,EAAiBjW,EAAQhB,MAI7B,MAAO,CACL7B,KAAM8V,EAASE,SAAShW,GACxB8V,SAAUA,GAGd,SAASiD,GAASjD,EAAUkD,GAC1B,IAAIC,EAAgBnD,EAAS+B,YAAYmB,GACrCE,EAAO,GAKX,OAJAjY,OAAOoB,KAAK4W,GAAe5a,SAAQwD,IAC7B,CAAC,MAAO,QAAS,YAAa,UAAU+B,SAAS/B,KACrDqX,EAAKrX,GAAOoX,EAAcpX,OAErBqX,EAGT,MAAMC,GACJ,YAAYzZ,EAAI0Z,EAAoB,MAClC5a,KAAK6a,IAAM3Z,EACX,MAAM4Z,EAAW9a,KAAK6a,IAAIrI,aAAa,UACjCuI,EAA8B,KAAbD,EAAkB,KAAOA,EAC1CE,EAAiBhb,KAAK6a,IAAIrI,aAAa,UAC7C,IAAIyI,EAAa,CACfJ,IAAK7a,KAAK6a,KAERK,EAAqCN,EAAoBA,EAAkBC,IAAM7a,KAAK6a,IAC1FpY,OAAO2G,QAAQhJ,GAAO+a,iBAAiBtb,SAAQ,EAAEyI,EAAMhG,MACrDG,OAAOI,eAAeoY,EAAY,IAAI3S,IAAQ,CAC5C8O,IAAK,WACH,OAAO9U,EAAS4Y,SAItBlb,KAAKob,eAAiBR,EAAoBA,EAAkBS,oBAAsB9T,EAAUrG,EAAI6Z,EAAgBE,GAGhH,IAAI,SACF3D,EAAQ,KACR9V,GACExB,KAAKsb,qBAAqBtb,KAAKob,gBAqCnC,IAAIG,EApCJvb,KAAKkJ,MAAQ1H,EACbxB,KAAKsX,SAAWA,EAGhBtX,KAAKob,eAAeP,IAAM7a,KAAK6a,IAC/B7a,KAAKob,eAAeI,MAAQxb,KAAKyb,eACjCzb,KAAK0b,cAAgB,GAErB1b,KAAKob,eAAeO,UAAYrZ,IAC9BtC,KAAK0b,cAAcxX,KAAK5B,IAG1BtC,KAAK4b,SAAW,GAEhB5b,KAAKob,eAAeS,OAAS,CAACC,EAAUxZ,KACjCtC,KAAK4b,SAASE,KAAW9b,KAAK4b,SAASE,GAAY,IACxD9b,KAAK4b,SAASE,GAAU5X,KAAK5B,IAQ/BG,OAAO2G,QAAQhJ,GAAO+a,iBAAiBtb,SAAQ,EAAEyI,EAAMhG,MACrDG,OAAOI,eAAe7C,KAAKob,eAAgB,IAAI9S,IAAQ,CACrD8O,IAAK,WACH,OAAO9U,EAAS4Y,EAAoClb,KAAK6a,WAM/D7a,KAAK2T,mBAAqB,GAC1B3T,KAAKwT,yBACLoH,GAAqBxa,GAAO2b,8BAA8Blc,SAAQyC,GAAYA,EAAStC,QAGnFgb,IAAmBJ,IAGrB5a,KAAKgc,iBAAkB,EACvBT,EAAuBvb,KAAK6N,yBAAyB7N,KAAK6a,IAAKG,GAC/Dhb,KAAKgc,iBAAkB,GAIzBhc,KAAKsQ,mBAAmBtQ,KAAK6a,KAG7B7a,KAAKic,mCAE+B,mBAAzBV,GAGTA,EAAqB7T,KAAK1H,KAAKkJ,OAGjC0R,GAAqB5T,YAAW,KAC9B5G,GAAO8b,wBAAwBrc,SAAQyC,GAAYA,EAAStC,UAC3D,GAGL,oBACE,OAAOua,GAASva,KAAKsX,SAAUtX,KAAKkJ,OAGtC,qBAAqB1H,GACnB,IAAI2a,EAAOnc,KACX,IAAIoc,EAAY5V,GAAS,WACvB2V,EAAK/L,eAAe+L,EAAKtB,OACxB,GACH,OAAOR,GAAK7Y,GAAM,CAAC6C,EAAQhB,KACrB8Y,EAAKP,SAASvY,GAEhB8Y,EAAKP,SAASvY,GAAKxD,SAAQyC,GAAYA,EAAS+B,EAAOhB,MAC9CP,MAAMmM,QAAQ5K,GAEvB5B,OAAOoB,KAAKsY,EAAKP,UAAU/b,SAAQwc,IACjC,IAAIC,EAAmBD,EAAmB5b,MAAM,KAIpC,WAAR4C,GACJiZ,EAAiBC,QAAO,CAACC,EAAgBC,KACnCha,OAAOia,GAAGrY,EAAQmY,EAAeC,KACnCN,EAAKP,SAASS,GAAoBxc,SAAQyC,GAAYA,EAAS+B,KAG1DmY,EAAeC,KACrBN,EAAKf,mBAKV3Y,OAAOoB,KAAKsY,EAAKP,UAAU5X,QAAOrD,GAAKA,EAAEyE,SAAS,OAAMvF,SAAQwc,IAC9D,IAAIC,EAAmBD,EAAmB5b,MAAM,KAG5C4C,IAAQiZ,EAAiBA,EAAiB1b,OAAS,IAGvD0b,EAAiBC,QAAO,CAACC,EAAgBC,KACnCha,OAAOia,GAAGrY,EAAQmY,IAEpBL,EAAKP,SAASS,GAAoBxc,SAAQyC,GAAYA,EAAS+B,EAAOhB,MAGjEmZ,EAAeC,KACrBN,EAAKf,mBAKRe,EAAKH,iBACTI,OAIJ,4BAA4Blb,EAAIoB,EAAUqa,EAA8B,UACtErW,EAAKpF,GAAIA,GAEHA,EAAGS,aAAa,YAEbT,EAAG6Q,WAAW/R,KAAK6a,MAEjB3Z,EAAG0b,KAAKD,EAA4Bzb,IAElC,GAIJoB,EAASpB,KAIpB,mBAAmB2b,EAAQtN,EAAY,UACrCvP,KAAK8c,4BAA4BD,GAAQ3b,QAEhBoQ,IAAnBpQ,EAAGW,kBAEoByP,IAAvBpQ,EAAGY,sBACP9B,KAAK+c,kBAAkB7b,EAAIqO,KAC1BrO,IACDA,EAAG0b,IAAM,IAAIjC,GAAUzZ,MAEzBlB,KAAK0T,6CACL1T,KAAKgd,6BAA6BH,GAGpC,kBAAkB3b,EAAIqO,GAGhBrO,EAAGS,aAAa,UAAY8G,EAAUvH,EAAIlB,MAAMY,OAAS,IAC3DM,EAAGkN,qBAAuBhE,EAA0BlJ,EAAGsR,aAAa,WAGtExS,KAAKid,kBAAkB/b,EAAIqO,GAC3BvP,KAAKkd,uBAAuBhc,GAAI,EAAMqO,GAGxC,eAAesN,EAAQtN,EAAY,UACjCvP,KAAK8c,4BAA4BD,GAAQ3b,IAEvC,QAAuBoQ,IAAnBpQ,EAAGW,cAA8BX,EAAG6Q,WAAW/R,KAAK6a,KAAM,OAAO,EACrE7a,KAAKmd,cAAcjc,EAAIqO,MACtBrO,IACDA,EAAG0b,IAAM,IAAIjC,GAAUzZ,MAEzBlB,KAAK0T,6CACL1T,KAAKgd,6BAA6BH,GAGpC,6BAA6B3b,GAEvBA,IAAOlB,KAAK6a,KAAO7a,KAAK0b,cAAc9a,OAAS,GAGjDQ,uBAAsB,KACpB,KAAOpB,KAAK0b,cAAc9a,OAAS,GACjCZ,KAAK0b,cAAc0B,OAAnBpd,MAMR,6CAIEA,KAAK2T,mBAAmB0J,UAAUvU,KAAImL,GAC7B,IAAItP,SAAQ,CAACC,EAASiG,KAC3BoJ,EAAQrP,EAASiG,QAElB0R,QAAO,CAACe,EAAcC,IAChBD,EAAa3I,MAAK,IAChB4I,EAAQ5I,MAAK6I,IAClBA,UAGH7Y,QAAQC,SAAQ,UAAWyC,OAAMC,IAClC,GAAIA,IAAMoD,EAAsB,MAAMpD,KAGxCtH,KAAK2T,mBAAqB,GAC1B3T,KAAKwT,8BAA2BlC,EAGlC,cAAcpQ,EAAIqO,GAChBvP,KAAKkd,uBAAuBhc,GAAI,EAAOqO,GAGzC,kBAAkBrO,EAAIqO,GACpB9G,EAAUvH,EAAIlB,MAAMH,SAAQ,EAC1B8I,OACArF,QACA0G,YACA9C,iBAEA,OAAQyB,GACN,IAAK,KACHoL,GAAiB/T,KAAMkB,EAAIoC,EAAO0G,EAAW9C,EAAYqI,GACzD,MAEF,IAAK,QACH6F,GAAsBpV,KAAMkB,EAAI8I,EAAW9C,EAAYqI,OAM/D,uBAAuBrO,EAAIoO,GAAgB,EAAOC,GAChD,IAAIvE,EAAQvC,EAAUvH,EAAIlB,MAC1BgL,EAAMnL,SAAQ,EACZ8I,OACArF,QACA0G,YACA9C,iBAEA,OAAQyB,GACN,IAAK,QACHgJ,EAAgC3R,KAAMkB,EAAI,QAASgG,EAAYqI,EAAW5G,EAAMqB,GAChF,MAEF,IAAK,OAEH,GAAiC,aAA7B9I,EAAGwE,QAAQC,eAA0C,QAAVrC,EAAiB,OAChEqO,EAAgC3R,KAAMkB,EAAIoC,EAAO4D,EAAYqI,EAAW5G,EAAMqB,GAC9E,MAEF,IAAK,OACH,IAAI+I,EAAS/S,KAAK6N,yBAAyB3M,EAAIgG,EAAYqI,GAC3DuD,EAAoB5R,EAAI6R,EAAQ7L,GAChC,MAEF,IAAK,OACH+L,EAAoBjT,KAAMkB,EAAIgG,EAAYqI,GAC1C,MAEF,IAAK,OACCwD,EAAS/S,KAAK6N,yBAAyB3M,EAAIgG,EAAYqI,GAC3D4D,EAAoBnT,KAAMkB,EAAI6R,EAAQ/I,EAAWsF,GACjD,MAEF,IAAK,KAGH,GAAItE,EAAMK,MAAK1K,GAAgB,QAAXA,EAAEgI,OAAiB,OACnCoK,EAAS/S,KAAK6N,yBAAyB3M,EAAIgG,EAAYqI,GAC3DqE,GAAkB5T,KAAMkB,EAAI6R,EAAQzD,EAAeC,GACnD,MAEF,IAAK,MACHH,EAAmBpP,KAAMkB,EAAIgG,EAAYoI,EAAeC,GACxD,MAEF,IAAK,QACHrO,EAAGU,gBAAgB,eAM3B,yBAAyBV,EAAIgG,EAAYqI,EAAY,UACnD,OAAOhI,EAAUrG,EAAIgG,EAAYlH,KAAKkJ,MAAO9E,EAAeA,EAAe,GAAImL,KAAc,GAAI,CAC/FkO,UAAWzd,KAAK0d,oBAAoBxc,MAIxC,0BAA0BA,EAAIgG,EAAYqI,EAAY,UACpD,OAAO1H,EAAkB3G,EAAIgG,EAAYlH,KAAKkJ,MAAO9E,EAAeA,EAAe,GAAImL,KAAc,GAAI,CACvGkO,UAAWzd,KAAK0d,oBAAoBxc,MAIxC,oBAAoBA,GAClB,MAAO,CAACK,EAAOG,EAAS,MACtBR,EAAGyc,cAAc,IAAInI,YAAYjU,EAAO,CACtCG,SACAkc,SAAS,MAKf,mCACE,MAAMC,EAAa7d,KAAK6a,IAClBiD,EAAkB,CACtBC,WAAW,EACXlV,YAAY,EACZmV,SAAS,GAEM,IAAIC,kBAAiBC,IACpC,IAAK,IAAIvd,EAAI,EAAGA,EAAIud,EAAUtd,OAAQD,IAAK,CAEzC,MAAMwd,EAAyBD,EAAUvd,GAAG0D,OAAO+Z,QAAQ,YAC3D,GAAMD,GAA0BA,EAAuBpM,WAAW/R,KAAK6a,KAAvE,CAEA,GAA0B,eAAtBqD,EAAUvd,GAAGgI,MAAwD,WAA/BuV,EAAUvd,GAAG0d,cAA4B,CACjF,MAAMC,EAAQJ,EAAUvd,GAAG0D,OAAOmO,aAAa,WAAa,KACtD+L,EAAUhX,EAAUvH,KAAK6a,IAAKyD,EAAO,CACzCzD,IAAK7a,KAAK6a,MAEZpY,OAAOoB,KAAK0a,GAAS1e,SAAQwD,IACvBrD,KAAKkJ,MAAM7F,KAASkb,EAAQlb,KAC9BrD,KAAKkJ,MAAM7F,GAAOkb,EAAQlb,OAK5B6a,EAAUvd,GAAG6d,WAAW5d,OAAS,GACnCsd,EAAUvd,GAAG6d,WAAW3e,SAAQC,IACR,IAAlBA,EAAK2e,UAAkB3e,EAAKgC,mBAE5BhC,EAAK4e,QAAQ,aAAgB5e,EAAK8c,IAKtC5c,KAAKsQ,mBAAmBxQ,GAJtBA,EAAK8c,IAAM,IAAIjC,GAAU7a,YAS1B6e,QAAQd,EAAYC,GAG/B,eACE,IAAI3B,EAAOnc,KAOX,OAAO,IAAIma,MANE,GAMY,CACvB,IAAIxW,EAAQmY,GACV,MAAiB,mBAAbA,IAIJK,EAAKW,4BAA4BX,EAAKtB,KAAK3Z,IACrCA,EAAGS,aAAa,UAAYT,EAAGsR,aAAa,WAAasJ,IAC3D8C,EAAM1d,MAGH0d,GARP,IAAIA,MAgBZ,MAAMxe,GAAS,CACbC,QAAS,QACTU,uBAAuB,EACvBoa,gBAAiB,GACjBe,wBAAyB,GACzBH,8BAA+B,GAC/BlK,8BAA8B,EAC9BlD,MAAO3G,iBACA/C,WACGP,IAGR1E,KAAK6e,oBAAmB3d,IACtBlB,KAAKmB,oBAAoBD,MAI3BxB,SAAS2C,iBAAiB,mBAAmB,KAC3CrC,KAAKiB,iCAAgCC,IACnClB,KAAKmB,oBAAoBD,SAG7BlB,KAAK8e,gDAEPD,mBAAoB,SAA4Bvc,GAC9B5C,SAASE,iBAAiB,YAClCC,SAAQgd,IACdva,EAASua,OAGb5b,gCAAiC,SAAyCqB,EAAUpB,EAAK,MACvF,MAAM6d,GAAW7d,GAAMxB,UAAUE,iBAAiB,YAClDkD,MAAMiC,KAAKga,GAAS/a,QAAO9C,QAAiBoQ,IAAXpQ,EAAG0b,MAAmB/c,SAAQgd,IAC7Dva,EAASua,OAGbiC,6CAA8C,WAC5C,MAAMjB,EAAane,SAASsf,cAAc,QACpClB,EAAkB,CACtBC,WAAW,EACXlV,YAAY,EACZmV,SAAS,GAEM,IAAIC,kBAAiBC,IACpC,IAAIle,KAAKe,sBAET,IAAK,IAAIJ,EAAI,EAAGA,EAAIud,EAAUtd,OAAQD,IAChCud,EAAUvd,GAAG6d,WAAW5d,OAAS,GACnCsd,EAAUvd,GAAG6d,WAAW3e,SAAQC,IAER,IAAlBA,EAAK2e,WAGL3e,EAAKsR,eAAiBtR,EAAKsR,cAAcgN,QAAQ,aACrDpe,KAAKiB,iCAAgCC,IACnClB,KAAKmB,oBAAoBD,KACxBpB,EAAKsR,sBAKPuN,QAAQd,EAAYC,IAE/B3c,oBAAqB,SAA6BD,GAChD,IAAKA,EAAG0b,IAGN,IACE1b,EAAG0b,IAAM,IAAIjC,GAAUzZ,GACvB,MAAOsB,GACPwE,YAAW,KACT,MAAMxE,IACL,KAIT0O,MAAO,SAAexI,EAAWuW,GAC1BA,EAAMrC,MACTqC,EAAMrC,IAAM,IAAIjC,GAAUsE,EAAOvW,KAGrCwW,iBAAkB,SAA0B5W,EAAMhG,GAChDtC,KAAKmb,gBAAgB7S,GAAQhG,GAE/B6c,uBAAwB,SAAgC7c,GACtDtC,KAAKkc,wBAAwBhY,KAAK5B,IAEpC8c,6BAA8B,SAAsC9c,GAClEtC,KAAK+b,8BAA8B7X,KAAK5B,KAgB5C,OAZK2C,MACH9E,OAAOC,OAASA,GAEZD,OAAOkf,mBACTlf,OAAOkf,oBAAmB,WACxBlf,OAAOC,OAAOuO,WAGhBxO,OAAOC,OAAOuO,SAIXvO,GAl5DyEkf,I,4BCGlF,WACI,QAAuBhO,IAAnBnR,OAAOof,cAAmDjO,IAA1BnR,OAAOqf,gBACvCrf,OAAOqf,eAAeC,0BACtB,OAEJ,MAAMC,EAAqBC,YACrBC,EACa,WACX,OAAOL,QAAQM,UAAUH,EAAoB,GAAI1f,KAAKiI,cAG9D9H,OAAOwf,YACHC,EACJD,YAAY/c,UAAY8c,EAAmB9c,UAC3C+c,YAAY/c,UAAUqF,YAAc0X,YACpCld,OAAOqd,eAAeH,YAAaD,GAfvC,GAkBA,MAAMK,EAAmB,IAAIjJ,QAM7B,SAASkJ,EAAcze,GACnB,MAAM0e,EANV,SAAsC5b,GAClC,MAAM6b,EAAU7b,aAAkB8b,QAAU9b,EAASA,aAAkB+b,KAAO/b,EAAO+M,cAAgB,KAC/FiP,EAAYH,EAAUA,EAAQ9B,QAAQ,iBAAmB,KAC/D,MAAiF,WAAzEiC,aAA6C,EAASA,EAAU1X,MAAoB0X,EAAY,KAGtFC,CAA6B/e,EAAM8C,QACjD4b,GAAaA,EAAUM,MACvBR,EAAiB9I,IAAIgJ,EAAUM,KAAMN,GAgB7C,IAAIO,EAwOAC,EAoLAC,EASAC,EAjbI,gBAAiBxgB,SAErBkC,iBAAiB,QAAS2d,GAAe,GACzCvd,OAAOI,eAAe+d,MAAMhe,UAAW,YAAa,CAChD,MACI,GAAiB,UAAb5C,KAAK2I,MAAoB3I,KAAKqE,kBAAkBwc,gBAChD,OAAOd,EAAiB3I,IAAIpX,KAAKqE,YAOjD,SAAWmc,GACPA,EAAyB,MAAI,QAC7BA,EAAwB,KAAI,OAFhC,CAGGA,IAAsBA,EAAoB,KAC7C,MAAMM,UAAqBnB,YACvB,cACIoB,QACA/gB,KAAKghB,OAASrc,QAAQC,UACtB5E,KAAKihB,SAAW,IAAIH,EAAaI,oBAAoBlhB,MAEzD,gCACI,MAAO,CAAC,UAAW,OAEvB,oBACIA,KAAKihB,SAASE,UAElB,uBACInhB,KAAKihB,SAASG,aAElB,yBAAyB9Y,GACT,WAARA,EACAtI,KAAKihB,SAASI,sBAED,OAAR/Y,GACLtI,KAAKihB,SAASK,mBAGtB,UACI,OAAOthB,KAAKwS,aAAa,OAE7B,QAAQlP,GACAA,EACAtD,KAAKD,aAAa,MAAOuD,GAGzBtD,KAAK4B,gBAAgB,OAG7B,cACI,OA2CR,SAAqCkL,GACjC,OAAQA,EAAMnH,eACV,IAAK,OAAQ,OAAO6a,EAAkBe,KACtC,QAAS,OAAOf,EAAkBgB,OA9C3BC,CAA4BzhB,KAAKwS,aAAa,YAAc,IAEvE,YAAYlP,GACJA,EACAtD,KAAKD,aAAa,UAAWuD,GAG7BtD,KAAK4B,gBAAgB,WAG7B,eACI,OAAO5B,KAAK2B,aAAa,YAE7B,aAAa2B,GACLA,EACAtD,KAAKD,aAAa,WAAY,IAG9BC,KAAK4B,gBAAgB,YAG7B,iBACI,OAAO5B,KAAK2B,aAAa,cAE7B,eAAe2B,GACPA,EACAtD,KAAKD,aAAa,aAAc,IAGhCC,KAAK4B,gBAAgB,cAG7B,eACI,OAAQ5B,KAAKihB,SAASS,UAE1B,eACI,OAAO1hB,KAAK2hB,gBAAkBjiB,WAAaM,KAAK4hB,UAEpD,gBACI,IAAIC,EAAIC,EACR,OAAoG,QAA5FA,EAAmC,QAA7BD,EAAK7hB,KAAK2hB,qBAAkC,IAAPE,OAAgB,EAASA,EAAGE,uBAAoC,IAAPD,OAAgB,EAASA,EAAGngB,aAAa,uBAU7J,SAASqgB,EAAUC,GACf,MAAMC,EAASxiB,SAASyiB,cAAc,KAEtC,OADAD,EAAOE,KAAOH,EAAUI,WACjB,IAAIC,IAAIJ,EAAOE,MAE1B,SAASG,EAAUC,GACf,IAAIC,EACJ,OAAID,EAAIE,KACGF,EAAIE,KAAKC,MAAM,IAEjBF,EAAcD,EAAIJ,KAAKjc,MAAM,WAC3Bsc,EAAY,GAGZ,GAGf,SAASG,EAAaJ,GAClB,OAqBJ,SAA8BA,GAC1B,OAJJ,SAA2BA,GACvB,OAAOA,EAAIK,SAASpiB,MAAM,KAAKkiB,MAAM,GAG9BG,CAAkBN,GAAKG,OAAO,GAAG,GAtBhCI,CAAqBP,GAAKrc,MAAM,aAAe,IAAI,IAAM,GAKrE,SAAS6c,EAAaC,EAAST,GAC3B,MAAMU,EAkBV,SAAmBV,GACf,OAEsBlf,EAFEkf,EAAIzW,OAASyW,EAAIK,SAGlCvf,EAAM6f,SAAS,KAAO7f,EAAQA,EAAQ,IADjD,IAA0BA,EArBP8f,CAAUZ,GACzB,OAAOS,EAAQb,OAASJ,EAAUkB,GAAQd,MAAQa,EAAQb,KAAKjY,WAAW+Y,GAE9E,SAASG,EAAWb,GAChB,MAAMc,EAAed,EAAIE,KAAK9hB,OAC9B,OAAI0iB,EAAe,EACRd,EAAIJ,KAGJI,EAAIJ,KAAKO,MAAM,GAAIW,GAgBlC,MAAMC,EACF,YAAYC,GACRxjB,KAAKwjB,SAAWA,EAEpB,gBACI,OAAOxjB,KAAKwjB,SAASC,GAEzB,aACI,OAAQzjB,KAAK0jB,UAEjB,kBACI,OAAO1jB,KAAK2jB,YAAc,KAAO3jB,KAAK2jB,YAAc,IAExD,kBACI,OAAO3jB,KAAK2jB,YAAc,KAAO3jB,KAAK2jB,YAAc,IAExD,iBACI,OAAO3jB,KAAKwjB,SAASI,WAEzB,eACI,OAAO5B,EAAUhiB,KAAKwjB,SAAShB,KAEnC,aACI,OAAOxiB,KAAK6jB,aAAe7jB,KAAK6jB,YAAY1d,MAAM,0DAEtD,iBACI,OAAOnG,KAAKwjB,SAASM,OAEzB,kBACI,OAAO9jB,KAAK+jB,OAAO,gBAEvB,mBACI,OAAO/jB,KAAKwjB,SAAS3Q,OAEzB,mBACI,OAAI7S,KAAKgkB,OACEhkB,KAAKwjB,SAAS3Q,OAGdlO,QAAQC,aAAQ0M,GAG/B,OAAOhJ,GACH,OAAOtI,KAAKwjB,SAASS,QAAQ7M,IAAI9O,IAIzC,SAAS4b,EAASC,GAAW,OAAE9f,EAAM,WAAE+f,EAAU,OAAE1iB,GAAW,IAC1D,MAAMH,EAAQ,IAAIiU,YAAY2O,EAAW,CAAEC,aAAYxG,SAAS,EAAMlc,WAEtE,OADM2C,GAAU3E,SAASqiB,iBAAiBpE,cAAcpc,GACjDA,EAEX,SAAS8iB,IACL,OAAO,IAAI1f,SAAQC,GAAWxD,uBAAsB,IAAMwD,QAQ9D,SAAS0f,EAAkBC,EAAO,IAC9B,OAAO,IAAIC,WAAYC,gBAAgBF,EAAM,aAEjD,SAASG,EAASC,KAAY/c,GAC1B,MAAMgd,EAKV,SAAqBD,EAAS/c,GAC1B,OAAO+c,EAAQpI,QAAO,CAACsI,EAAQC,EAAQnkB,IAE5BkkB,EAASC,GADWxT,MAAb1J,EAAOjH,GAAkB,GAAKiH,EAAOjH,KAEpD,IATWokB,CAAYJ,EAAS/c,GAAQ3B,QAAQ,MAAO,IAAIxF,MAAM,MAC9D0F,EAAQye,EAAM,GAAGze,MAAM,QACvB6e,EAAS7e,EAAQA,EAAM,GAAGvF,OAAS,EACzC,OAAOgkB,EAAM9b,KAAImc,GAAQA,EAAKtC,MAAMqC,KAASxY,KAAK,MAQtD,SAAS0Y,IACL,OAAOpiB,MAAMqB,MAAM,KAAM,CAAEvD,OAAQ,KAAMkI,KAAI,CAACqc,EAAGxkB,IACpC,GAALA,GAAe,IAALA,GAAgB,IAALA,GAAgB,IAALA,EACzB,IAEG,IAALA,EACE,IAEG,IAALA,GACGykB,KAAKC,MAAsB,EAAhBD,KAAKE,UAAgB,GAAGjD,SAAS,IAG7C+C,KAAKC,MAAsB,GAAhBD,KAAKE,UAAejD,SAAS,MAEpD7V,KAAK,KAIZ,SAAWiU,GACPA,EAAYA,EAAiB,IAAI,GAAK,MACtCA,EAAYA,EAAkB,KAAI,GAAK,OACvCA,EAAYA,EAAiB,IAAI,GAAK,MACtCA,EAAYA,EAAmB,MAAI,GAAK,QACxCA,EAAYA,EAAoB,OAAI,GAAK,SAL7C,CAMGA,IAAgBA,EAAc,KAUjC,MAAM8E,EACF,YAAYtE,EAAUuE,EAAQC,EAAU9lB,EAAO,IAAI+lB,iBAC/C1lB,KAAK2lB,gBAAkB,IAAIC,gBAC3B5lB,KAAKihB,SAAWA,EAChBjhB,KAAKwlB,OAASA,EACVxlB,KAAK6lB,aACL7lB,KAAKwiB,IA8EjB,SAA8BA,EAAKpZ,GAC/B,MAAM0c,EAAsB,IAAIJ,gBAAgBlD,EAAIuD,QACpD,IAAK,MAAOzd,EAAMhF,KAAU8F,EACpB9F,aAAiB0iB,OAEjBF,EAAoBG,IAAI3d,IACxBwd,EAAoBI,OAAO5d,GAC3Bka,EAAI2D,aAAalP,IAAI3O,EAAMhF,IAG3Bkf,EAAI2D,aAAaC,OAAO9d,EAAMhF,IAGtC,OAAOkf,EA3FY6D,CAAqBZ,EAAU,IAAI9lB,EAAKyJ,aAGnDpJ,KAAKL,KAAOA,EACZK,KAAKwiB,IAAMiD,GAGnB,eACI,OAAOzlB,KAAKwiB,IAEhB,aACI,OAAOxiB,KAAKwiB,IAAI2D,aAEpB,cACI,OAAOnmB,KAAKL,KAAOmD,MAAMiC,KAAK/E,KAAKL,KAAKyJ,WAAa,GAEzD,SACIpJ,KAAK2lB,gBAAgBW,QAEzB,gBACI,MAAM,aAAEC,GAAiBvmB,KACzBkkB,EAAS,6BAA8B,CAAExiB,OAAQ,CAAE6kB,kBACnD,IACIvmB,KAAKihB,SAASuF,eAAexmB,MAC7B,MAAMwjB,QAAiBiD,MAAMzmB,KAAKwiB,IAAIJ,KAAMmE,GAC5C,aAAavmB,KAAK0mB,QAAQlD,GAE9B,MAAOhhB,GAEH,MADAxC,KAAKihB,SAAS0F,eAAe3mB,KAAMwC,GAC7BA,EAEV,QACIxC,KAAKihB,SAAS2F,gBAAgB5mB,OAGtC,cAAcwjB,GACV,MAAMqD,EAAgB,IAAItD,EAAcC,GAWxC,OAVcU,EAAS,8BAA+B,CAAEE,YAAY,EAAM1iB,OAAQ,CAAEmlB,mBAC1EC,iBACN9mB,KAAKihB,SAAS8F,iCAAiC/mB,KAAM6mB,GAEhDA,EAAcnD,UACnB1jB,KAAKihB,SAAS+F,6BAA6BhnB,KAAM6mB,GAGjD7mB,KAAKihB,SAASgG,0BAA0BjnB,KAAM6mB,GAE3CA,EAEX,mBACI,MAAO,CACHrB,OAAQ/E,EAAYzgB,KAAKwlB,QAAQnf,cACjC6gB,YAAa,cACbjD,QAASjkB,KAAKikB,QACdkD,SAAU,SACVxnB,KAAMK,KAAKL,KACXynB,OAAQpnB,KAAKqnB,aAGrB,mBACI,OAAOrnB,KAAKwlB,QAAU/E,EAAYrJ,IAEtC,cACI,MAAM6M,EAAUxhB,OAAO6kB,OAAO,GAAItnB,KAAKunB,gBAIvC,MAHqD,mBAA1CvnB,KAAKihB,SAASuG,0BACrBxnB,KAAKihB,SAASuG,yBAAyBvD,EAASjkB,MAE7CikB,EAEX,kBACI,OAAOjkB,KAAK2lB,gBAAgByB,OAEhC,qBACI,MAAO,CACH,OAAU,qCAoBtB,MAAMK,EACF,YAAYxG,EAAUf,GAClBlgB,KAAK0nB,SAAU,EACf1nB,KAAK2nB,UAAYve,IACb,MAAMwe,EAAYxe,EAAQuZ,OAAO,GAAG,IAChCiF,aAA6C,EAASA,EAAUC,iBAChE7nB,KAAKihB,SAAS6G,0BAA0B9nB,KAAKkgB,UAGrDlgB,KAAKihB,SAAWA,EAChBjhB,KAAKkgB,QAAUA,EACflgB,KAAK+nB,qBAAuB,IAAIC,qBAAqBhoB,KAAK2nB,WAE9D,QACS3nB,KAAK0nB,UACN1nB,KAAK0nB,SAAU,EACf1nB,KAAK+nB,qBAAqBpJ,QAAQ3e,KAAKkgB,UAG/C,OACQlgB,KAAK0nB,UACL1nB,KAAK0nB,SAAU,EACf1nB,KAAK+nB,qBAAqBE,UAAUjoB,KAAKkgB,WAKrD,MAAMgI,EACF,YAAY3D,GACRvkB,KAAKmoB,gBAAkBzoB,SAASyiB,cAAc,YAC9CniB,KAAKmoB,gBAAgBjV,UAAYqR,EAErC,YAAY6D,GACR,MAAsB,iBAAXA,EACA,IAAIpoB,KAAKooB,GAGTA,EAGf,eACI,MAAMC,EAAW3oB,SAAS4oB,yBAC1B,IAAK,MAAMpI,KAAWlgB,KAAKuoB,gBACvBF,EAASG,YAAY9oB,SAASyR,WAAW+O,GAAS,IAEtD,OAAOmI,EAEX,sBACI,OAAOroB,KAAKyoB,iBAAiBlM,QAAO,CAACmM,EAAgBC,IACd,gBAA/BA,EAAMjjB,QAAQC,cACP,IAAI+iB,EAAgBC,GAGpBD,GAEZ,IAEP,uBACI,OAAO5lB,MAAMiC,KAAK/E,KAAKmoB,gBAAgBtiB,QAAQ+iB,WAGvDV,EAAcrE,YAAc,6BAG5B,SAAWnD,GACPA,EAAoBA,EAAiC,YAAI,GAAK,cAC9DA,EAAoBA,EAAgC,WAAI,GAAK,aAC7DA,EAAoBA,EAA6B,QAAI,GAAK,UAC1DA,EAAoBA,EAA+B,UAAI,GAAK,YAC5DA,EAAoBA,EAA8B,SAAI,GAAK,WAC3DA,EAAoBA,EAA6B,QAAI,GAAK,UAN9D,CAOGA,IAAwBA,EAAsB,KAEjD,SAAWC,GACPA,EAAwB,WAAI,oCAC5BA,EAAuB,UAAI,sBAC3BA,EAAmB,MAAI,aAH3B,CAIGA,IAAgBA,EAAc,KAQjC,MAAMkI,EACF,YAAY5H,EAAU6H,EAAa7I,EAAW8I,GAAe,GACzD/oB,KAAKE,MAAQwgB,EAAoBsI,YACjChpB,KAAKihB,SAAWA,EAChBjhB,KAAK8oB,YAAcA,EACnB9oB,KAAKigB,UAAYA,EACjBjgB,KAAKipB,SAgGb,SAAuBH,EAAa7I,GAChC,MAAMgJ,EAAW,IAAIC,SAASJ,GACxBxgB,EAAO2X,aAA6C,EAASA,EAAUzN,aAAa,QACpFlP,EAAQ2c,aAA6C,EAASA,EAAUzN,aAAa,SACvFlK,GAAQ2gB,EAAS7R,IAAI9O,IAAShF,GAC9B2lB,EAAS7C,OAAO9d,EAAMhF,GAAS,IAEnC,OAAO2lB,EAvGaE,CAAcL,EAAa7I,GAC3CjgB,KAAKopB,aAAe,IAAI7D,EAAavlB,KAAMA,KAAKwlB,OAAQxlB,KAAKylB,SAAUzlB,KAAKL,MAC5EK,KAAK+oB,aAAeA,EAExB,aACI,IAAIlH,EAEJ,OA/MR,SAA+B2D,GAC3B,OAAQA,EAAO7f,eACX,IAAK,MAAO,OAAO8a,EAAYrJ,IAC/B,IAAK,OAAQ,OAAOqJ,EAAY4I,KAChC,IAAK,MAAO,OAAO5I,EAAY6I,IAC/B,IAAK,QAAS,OAAO7I,EAAY8I,MACjC,IAAK,SAAU,OAAO9I,EAAYyF,QAyM3BsD,GADmC,QAAzB3H,EAAK7hB,KAAKigB,iBAA8B,IAAP4B,OAAgB,EAASA,EAAGrP,aAAa,gBAAkBxS,KAAK8oB,YAAYtW,aAAa,WAAa,IACpH7M,gBAAkB8a,EAAYrJ,IAEtE,aACI,IAAIyK,EACJ,OAAkC,QAAzBA,EAAK7hB,KAAKigB,iBAA8B,IAAP4B,OAAgB,EAASA,EAAGrP,aAAa,gBAAkBxS,KAAK8oB,YAAYW,OAE1H,eACI,OAAOzH,EAAUhiB,KAAKypB,QAE1B,WACI,OAAIzpB,KAAK0pB,SAAW/I,EAAYgJ,YAAc3pB,KAAKwlB,QAAU/E,EAAYrJ,IAC9D,IAAIsO,gBAAgB1lB,KAAK4pB,gBAGzB5pB,KAAKipB,SAGpB,cACI,IAAIpH,EACJ,OAvCR,SAA+BgI,GAC3B,OAAQA,EAASlkB,eACb,KAAKgb,EAAYmJ,UAAW,OAAOnJ,EAAYmJ,UAC/C,KAAKnJ,EAAYoJ,MAAO,OAAOpJ,EAAYoJ,MAC3C,QAAS,OAAOpJ,EAAYgJ,YAmCrBK,EAAiD,QAAzBnI,EAAK7hB,KAAKigB,iBAA8B,IAAP4B,OAAgB,EAASA,EAAGrP,aAAa,iBAAmBxS,KAAK8oB,YAAYY,SAEjJ,qBACI,MAAO,IAAI1pB,KAAKipB,UAAU1M,QAAO,CAACnT,GAAUd,EAAMhF,KACvC8F,EAAQD,OAAuB,iBAAT7F,EAAoB,CAAC,CAACgF,EAAMhF,IAAU,KACpE,IAEP,cACI,MAAM,YAAE0lB,EAAW,WAAEiB,GAAevJ,EACpC,GAAI1gB,KAAKE,OAAS8oB,EAEd,OADAhpB,KAAKE,MAAQ+pB,EACNjqB,KAAKopB,aAAac,UAGjC,OACI,MAAM,SAAEC,EAAQ,QAAEC,GAAY1J,EAC9B,GAAI1gB,KAAKE,OAASiqB,GAAYnqB,KAAKE,OAASkqB,EAGxC,OAFApqB,KAAKE,MAAQiqB,EACbnqB,KAAKopB,aAAaxc,UACX,EAGf,yBAAyBqX,EAASoG,GAC9B,IAAKA,EAAQxE,aAAc,CACvB,MAAMyE,EAuDlB,SAAwBC,GACpB,GAAkB,MAAdA,EAAoB,CACpB,MACMC,GADU9qB,SAAS8qB,OAAS9qB,SAAS8qB,OAAO/pB,MAAM,MAAQ,IACzCsN,MAAMyc,GAAWA,EAAOrgB,WAAWogB,KAC1D,GAAIC,EAAQ,CACR,MAAMlnB,EAAQknB,EAAO/pB,MAAM,KAAKkiB,MAAM,GAAGnW,KAAK,KAC9C,OAAOlJ,EAAQmnB,mBAAmBnnB,QAASgO,IA7D7BoZ,CAAeC,EAAe,gBAAkBA,EAAe,cACzEL,IACArG,EAAQ,gBAAkBqG,GAE9BrG,EAAgB,OAAI,CAACiE,EAAcrE,YAAaI,EAAgB,QAAGzX,KAAK,OAGhF,eAAe6d,GACXrqB,KAAKE,MAAQwgB,EAAoBkK,QACjC1G,EAAS,qBAAsB,CAAE7f,OAAQrE,KAAK8oB,YAAapnB,OAAQ,CAAEmpB,eAAgB7qB,QACrFA,KAAKihB,SAAS6J,sBAAsB9qB,MAExC,iCAAiCqqB,EAAS7G,GACtCxjB,KAAK6kB,OAAS,CAAEkG,QAASvH,EAASE,UAAWmD,cAAerD,GAEhE,6BAA6B6G,EAAS7G,GAClC,GAAIA,EAASwH,aAAexH,EAASyH,YACjCjrB,KAAKihB,SAASiK,iCAAiClrB,KAAMwjB,QAEpD,GAAIxjB,KAAKmrB,oBAAoBd,IAkD1C,SAA0C7G,GACtC,OAA8B,KAAvBA,EAASG,aAAsBH,EAASI,WAnDGwH,CAAiC5H,GAAW,CACtF,MAAMhhB,EAAQ,IAAI1B,MAAM,oDACxBd,KAAKihB,SAASoK,sBAAsBrrB,KAAMwC,QAG1CxC,KAAKE,MAAQwgB,EAAoB4K,UACjCtrB,KAAK6kB,OAAS,CAAEkG,SAAS,EAAMlE,cAAerD,GAC9CxjB,KAAKihB,SAASsK,oCAAoCvrB,KAAMwjB,GAGhE,0BAA0B6G,EAAS7G,GAC/BxjB,KAAK6kB,OAAS,CAAEkG,SAAS,EAAOlE,cAAerD,GAC/CxjB,KAAKihB,SAASiK,iCAAiClrB,KAAMwjB,GAEzD,eAAe6G,EAAS7nB,GACpBxC,KAAK6kB,OAAS,CAAEkG,SAAS,EAAOvoB,SAChCxC,KAAKihB,SAASoK,sBAAsBrrB,KAAMwC,GAE9C,gBAAgB6nB,GACZrqB,KAAKE,MAAQwgB,EAAoB0J,QACjClG,EAAS,mBAAoB,CAAE7f,OAAQrE,KAAK8oB,YAAapnB,OAAQe,OAAO6kB,OAAO,CAAEuD,eAAgB7qB,MAAQA,KAAK6kB,UAC9G7kB,KAAKihB,SAASuK,uBAAuBxrB,MAEzC,oBAAoBqqB,GAChB,OAAQA,EAAQxE,cAAgB7lB,KAAK+oB,cAsB7C,SAAS4B,EAAeriB,GACpB,MAAM4X,EAAUxgB,SAASsf,cAAc,cAAc1W,OACrD,OAAO4X,GAAWA,EAAQra,QAM9B,MAAM4lB,EACF,YAAYvL,GACRlgB,KAAKkgB,QAAUA,EAEnB,eACI,MAAO,IAAIlgB,KAAKkgB,QAAQ0I,UAE5B,UAAU1G,GACN,OAA2C,MAApCliB,KAAK0rB,oBAAoBxJ,GAEpC,oBAAoBA,GAChB,IACI,OAAOliB,KAAKkgB,QAAQlB,cAAc,QAAQkD,gBAAqBA,OAEnE,MAAOL,GACH,OAAO,MAGf,gCACI,OAAO7hB,KAAKkgB,QAAQlB,cAAc,eAEtC,wBACI,MAAO,IAAIhf,KAAKkgB,QAAQtgB,iBAAiB,+BAE7C,wBAAwB+rB,GACpB,OAAO3rB,KAAKkgB,QAAQlB,cAAc,IAAI2M,2BAE1C,sCAAsCC,GAClC,OAAO5rB,KAAK6rB,kBAAkB7nB,QAAO,EAAG2nB,QAASC,EAASE,wBAAwBH,MAI1F,MAAMI,EACF,YAAY9K,EAAUf,GAClBlgB,KAAKgsB,cAAkBzqB,IACnB,GAAIA,EAAM8C,kBAAkBwc,gBAAiB,CACzC,MAAMN,EAAOhf,EAAM8C,OACb4b,EAAY1e,EAAM0e,gBAAa3O,EACjCtR,KAAKihB,SAASgL,8BAA8B1L,EAAMN,KAClD1e,EAAMkT,iBACNlT,EAAM2qB,2BACNlsB,KAAKihB,SAASkL,0BAA0B5L,EAAMN,MAI1DjgB,KAAKihB,SAAWA,EAChBjhB,KAAKkgB,QAAUA,EAEnB,QACIlgB,KAAKkgB,QAAQ7d,iBAAiB,SAAUrC,KAAKgsB,eAEjD,OACIhsB,KAAKkgB,QAAQ7L,oBAAoB,SAAUrU,KAAKgsB,gBAIxD,MAAMI,EACF,YAAYnL,EAAUf,GAClBlgB,KAAKihB,SAAWA,EAChBjhB,KAAKkgB,QAAUA,EAEnB,eAAegC,GACX,MAAMhC,EAAUlgB,KAAK4rB,SAASF,oBAAoBxJ,GAC9ChC,EACAlgB,KAAKqsB,gBAAgBnM,GAGrBlgB,KAAKssB,iBAAiB,CAAEC,EAAG,EAAGC,EAAG,IAGzC,gBAAgBtM,GACZA,EAAQuM,iBAEZ,kBAAiB,EAAEF,EAAC,EAAEC,IAClBxsB,KAAK0sB,WAAWC,SAASJ,EAAGC,GAEhC,iBACI,OAAOrsB,OAEX,aAAaysB,GACT,GAAI5sB,KAAK4sB,SACL,MAAM,IAAI9rB,MAAM,oCAEpB,MAAM,UAAE8gB,EAAS,aAAEiL,EAAcC,YAAalB,GAAagB,EAC3D,GAAIC,EACA,IACI7sB,KAAK4sB,SAAWA,EAChB5sB,KAAK+sB,wBAAwBH,GAC7B5sB,KAAKihB,SAAS+L,uBAAuBpB,EAAUhK,SACzC5hB,KAAKitB,eAAeL,GAC1B5sB,KAAKihB,SAASiM,qBAAqBtB,EAAUhK,GAC7C5hB,KAAKmtB,wBAAwBP,GAEjC,eACW5sB,KAAK4sB,cAIhB5sB,KAAKotB,aAGb,aACIptB,KAAKihB,SAASoM,kBAElB,wBAAwBT,GACpB5sB,KAAKstB,cAAcV,EAAShL,WAC5BgL,EAASW,kBAEb,cAAc3L,GACNA,EACA5hB,KAAKkgB,QAAQngB,aAAa,qBAAsB,IAGhDC,KAAKkgB,QAAQte,gBAAgB,sBAGrC,qBAAqBgrB,SACXA,EAASY,SAEnB,wBAAwBZ,GACpBA,EAASa,mBAIjB,MAAMC,UAAkBtB,EACpB,aACIpsB,KAAKkgB,QAAQhN,UAAY,GAE7B,eACI,OAAO,IAAIuY,EAASzrB,KAAKkgB,UAIjC,MAAMyN,EACF,YAAY1M,EAAUf,GAClBlgB,KAAK4tB,aAAgBrsB,IACbvB,KAAK6tB,sBAAsBtsB,EAAM8C,QACjCrE,KAAK8tB,WAAavsB,SAGXvB,KAAK8tB,YAGpB9tB,KAAK+tB,YAAgBxsB,IACbvB,KAAK8tB,YAAc9tB,KAAK6tB,sBAAsBtsB,EAAM8C,SAAW9C,EAAM8C,kBAAkB8b,SACnFngB,KAAKihB,SAAS+M,yBAAyBzsB,EAAM8C,OAAQ9C,EAAMG,OAAO8gB,OAClExiB,KAAK8tB,WAAWrZ,iBAChBlT,EAAMkT,iBACNzU,KAAKihB,SAASgN,qBAAqB1sB,EAAM8C,OAAQ9C,EAAMG,OAAO8gB,aAG/DxiB,KAAK8tB,YAEhB9tB,KAAKkuB,UAAY,YACNluB,KAAK8tB,YAEhB9tB,KAAKihB,SAAWA,EAChBjhB,KAAKkgB,QAAUA,EAEnB,QACIlgB,KAAKkgB,QAAQ7d,iBAAiB,QAASrC,KAAK4tB,cAC5CluB,SAAS2C,iBAAiB,cAAerC,KAAK+tB,aAC9CruB,SAAS2C,iBAAiB,qBAAsBrC,KAAKkuB,WAEzD,OACIluB,KAAKkgB,QAAQ7L,oBAAoB,QAASrU,KAAK4tB,cAC/CluB,SAAS2U,oBAAoB,cAAerU,KAAK+tB,aACjDruB,SAAS2U,oBAAoB,qBAAsBrU,KAAKkuB,WAE5D,sBAAsB7pB,GAClB,MAAM6b,EAAU7b,aAAkB8b,QAC5B9b,EACAA,aAAkB+b,KACd/b,EAAO+M,cACP,KACV,OAAO8O,GAAWA,EAAQ9B,QAAQ,sBAAwBpe,KAAKkgB,SAIvE,MAAMiO,EACF,YAAYC,EAAiBtB,EAAalL,GACtC5hB,KAAKouB,gBAAkBA,EACvBpuB,KAAK8sB,YAAcA,EACnB9sB,KAAK4hB,UAAYA,EACjB5hB,KAAKud,QAAU,IAAI5Y,SAAQ,CAACC,EAASiG,IAAW7K,KAAKquB,mBAAqB,CAAEzpB,UAASiG,YAEzF,mBACI,OAAO,EAEX,mBAGA,kBACQ7K,KAAKquB,qBACLruB,KAAKquB,mBAAmBzpB,iBACjB5E,KAAKquB,oBAGpB,oBAAoBnO,GAChB,GAA+C,SAA3CA,EAAQ1N,aAAa,mBACrB,OAAO0N,EAEN,CACD,MAAMoO,EAAuB5uB,SAASyiB,cAAc,UAIpD,OAHAmM,EAAqBtb,YAAckN,EAAQlN,YAC3Csb,EAAqBtmB,OAAQ,EA6BzC,SAA+BumB,EAAoBC,GAC/C,IAAK,MAAM,KAAElmB,EAAI,MAAEhF,IAAW,IAAIkrB,EAAc3lB,YAC5C0lB,EAAmBxuB,aAAauI,EAAMhF,GA9BlCmrB,CAAsBH,EAAsBpO,GACrCoO,GAGf,4BAA4BhsB,GACxB,MAAMosB,GAwCqBN,EAxCoBpuB,KAAKouB,gBAwCRtB,EAxCyB9sB,KAAK8sB,YAyCvEsB,EAAgBO,sCAAsC7B,GAAavQ,QAAO,CAACmS,EAAcE,KAC5F,MAAMC,EAAa/B,EAAYhB,wBAAwB8C,EAAiBjD,IACxE,GAAIkD,EAAY,CACZ,MAAMC,EAhBlB,SAA8CF,GAC1C,MAAM1O,EAAUxgB,SAASyiB,cAAc,QAGvC,OAFAjC,EAAQngB,aAAa,OAAQ,+BAC7BmgB,EAAQngB,aAAa,UAAW6uB,EAAiBjD,IAC1C,CAAEzL,UAAS0O,oBAYUG,CAAqCH,GAGzD,OAFAI,EAA0BJ,EAAkBE,EAAY5O,SACxD8O,EAA0BH,EAAYD,GAC/B,IAAIF,EAAcI,GAGzB,OAAOJ,IAEZ,KAZP,IAAmCN,EAAiBtB,EAvC5CxqB,IAiCR,SAA+DosB,GAC3D,IAAK,MAAM,QAAExO,EAAO,iBAAE0O,KAAsBF,EAAc,CAEtDM,EAA0B9O,EADJ0O,EAAiBK,WAAU,KAlCjDC,CAAsDR,GAE1D,iCACI,MAAMxO,EAAUlgB,KAAK8sB,YAAYqC,2BAiDzC,SAA4BjP,GACxB,OAAOA,GAAmC,mBAAjBA,EAAQkP,OAjDzBC,CAAmBnP,IACnBA,EAAQkP,QAGhB,qBACI,OAAOpvB,KAAKouB,gBAAgBlO,QAEhC,iBACI,OAAOlgB,KAAK8sB,YAAY5M,SAGhC,SAAS8O,EAA0BM,EAAaC,GAC5C,MAAMne,EAAgBke,EAAYle,cAClC,GAAIA,EACA,OAAOA,EAAcoe,aAAaD,EAAWD,GAsCrD,MAAMG,UAAsBtB,EACxB,mBACI,OAAO,EAEX,qBACU9J,IACNrkB,KAAK0vB,6BAA4B,KAC7B1vB,KAAK2vB,sBAET3vB,KAAK4vB,4BACCvL,IACNrkB,KAAK6vB,iCAET,mBACI,IAAIhO,EACJ,MAAMiO,EAAmBpwB,SAASqwB,cAClCD,EAAiBE,mBAAmBhwB,KAAKiwB,gBACzCH,EAAiBI,iBACjB,MAAMC,EAAenwB,KAAK6uB,WACpBuB,EAAoD,QAArCvO,EAAKsO,EAAaxO,qBAAkC,IAAPE,OAAgB,EAASA,EAAGkO,cAC1FK,IACAA,EAAYJ,mBAAmBG,GAC/BnwB,KAAKiwB,eAAezH,YAAY4H,EAAYC,oBAGpD,sBACI,GAAIrwB,KAAKiwB,eAAeK,YAActwB,KAAK6uB,WAAWyB,WAAY,CAC9D,MAAMpQ,EAAUlgB,KAAKiwB,eAAe1pB,kBAC9BgqB,GASiBjtB,EATiBtD,KAAKiwB,eAAezd,aAAa,yBAS3Cge,EATqE,MAU9F,OAATltB,GAA2B,SAATA,GAA6B,UAATA,GAA8B,WAATA,EACpDA,EAGAktB,GAbH,GAAItQ,EAEA,OADAA,EAAQuM,eAAe,CAAE8D,WAClB,EAMvB,IAAmCjtB,EAAOktB,EAHlC,OAAO,GA8Mf,SAASC,EAAoB9E,GACzB,GAAU,MAANA,EAAY,CACZ,MAAMzL,EAAUxgB,SAASgxB,eAAe/E,GACxC,GAAIzL,aAAmBY,EACnB,OAAOZ,GAInB,SAASyQ,EAAgBzQ,GAIrB,GAHIA,GAAWA,EAAQyB,gBAAkBjiB,WACrCwgB,EAAUxgB,SAASyR,WAAW+O,GAAS,IAEvCA,aAAmBY,EACnB,OAAOZ,EAIf,MAAM0Q,EAAgB,CAClB,SACI,IAAI/O,EAC0B,QAA7BA,EAAK7hB,KAAK6wB,qBAAkC,IAAPhP,GAAyBA,EAAGuE,OAAOpmB,KAAK8wB,kBAElF,UACI,IAAIjP,EAC0B,QAA7BA,EAAK7hB,KAAK6wB,qBAAkC,IAAPhP,GAAyBA,EAAGkP,QAAQ/wB,KAAK8wB,kBAEnF,SACI,IAAIjP,EAC0B,QAA7BA,EAAK7hB,KAAK6wB,qBAAkC,IAAPhP,GAAyBA,EAAG9f,UAEtE,UACI,IAAI8f,EAC0B,QAA7BA,EAAK7hB,KAAK6wB,qBAAkC,IAAPhP,GAAyBA,EAAGmP,YAAYhxB,KAAK8wB,kBAEvF,SACQ9wB,KAAK6wB,gBACL7wB,KAAK6wB,cAAc3d,UAAY,GAC/BlT,KAAK6wB,cAAczK,OAAOpmB,KAAK8wB,oBAK3C,MAAMG,UAAsBtR,YACxB,0BACI,UACU3f,KAAKwtB,SAEf,MAAOhrB,GACHD,QAAQC,MAAMA,GAElB,QACIxC,KAAKohB,cAGb,eACI,IAAIS,EACJ,OAAqC,QAA7BA,EAAK7hB,KAAKkxB,qBAAkC,IAAPrP,EAAgBA,EAAM7hB,KAAKkxB,cAAgB,WAChFlxB,KAAK2d,cAAc3d,KAAKmxB,2BAClB9M,IACNrkB,KAAKoxB,kBAH2E,GAO5F,aACI,IACIpxB,KAAK+B,SAET,MAAO8f,KAEX,oBACI,GAAI7hB,KAAKypB,OAAQ,CACb,MAAM4H,EAAiBT,EAAc5wB,KAAKypB,QAC1C,GAAI4H,EACA,OAAOA,EAEXrxB,KAAKsxB,MAAM,kBAEftxB,KAAKsxB,MAAM,+BAEf,oBACI,IAAIzP,EACJ,GAAI7hB,KAAKqE,OACL,OAAqC,QAA7Bwd,EAAK7hB,KAAK2hB,qBAAkC,IAAPE,OAAgB,EAASA,EAAG6O,eAAe1wB,KAAKqE,QAEjGrE,KAAKsxB,MAAM,+BAEf,sBACI,OAAOtxB,KAAKmoB,gBAAgBtiB,QAEhC,sBACI,GAAI7F,KAAKuG,6BAA6BgrB,oBAClC,OAAOvxB,KAAKuG,kBAEhBvG,KAAKsxB,MAAM,oDAEf,aACI,OAAOtxB,KAAKwS,aAAa,UAE7B,aACI,OAAOxS,KAAKwS,aAAa,UAE7B,MAAM4V,GACF,MAAM,IAAItnB,MAAM,GAAGd,KAAKwxB,gBAAgBpJ,KAE5C,kBACI,IAAIvG,EAAIC,EACR,OAAkG,QAA1FA,GAAiD,QAA1CD,EAAK7hB,KAAKyxB,UAAUtrB,MAAM,kBAA+B,IAAP0b,EAAgBA,EAAK,IAAI,UAAuB,IAAPC,EAAgBA,EAAK,iBAEnI,wBACI,OAAO,IAAItM,YAAY,6BAA8B,CAAEoI,SAAS,EAAMwG,YAAY,KAI1FtD,EAAaI,oBAnTb,MACI,YAAYhB,GACRlgB,KAAK0xB,oBAAsB,OAC3B1xB,KAAKkgB,QAAUA,EACflgB,KAAK2xB,KAAO,IAAIjE,EAAU1tB,KAAMA,KAAKkgB,SACrClgB,KAAK4xB,mBAAqB,IAAInK,EAAmBznB,KAAMA,KAAKkgB,SAC5DlgB,KAAK6xB,gBAAkB,IAAIlE,EAAgB3tB,KAAMA,KAAKkgB,SACtDlgB,KAAK8xB,gBAAkB,IAAI/F,EAAgB/rB,KAAMA,KAAKkgB,SAE1D,UACQlgB,KAAK+xB,cAAgBvR,EAAkBe,MACvCvhB,KAAK4xB,mBAAmBjjB,QAE5B3O,KAAK6xB,gBAAgBljB,QACrB3O,KAAK8xB,gBAAgBnjB,QAEzB,aACI3O,KAAK4xB,mBAAmBI,OACxBhyB,KAAK6xB,gBAAgBG,OACrBhyB,KAAK8xB,gBAAgBE,OAEzB,mBACQhyB,KAAK+xB,cAAgBvR,EAAkBgB,OACvCxhB,KAAKiyB,gBAGb,sBACQjyB,KAAK+xB,cAAgBvR,EAAkBe,KACvCvhB,KAAK4xB,mBAAmBjjB,SAGxB3O,KAAK4xB,mBAAmBI,OACxBhyB,KAAKiyB,iBAGb,sBACI,GAAIjyB,KAAKkyB,UAAYlyB,KAAKmyB,WAAanyB,KAAKmyB,WAAanyB,KAAKoyB,WAC1D,IACIpyB,KAAKoyB,WAAapyB,KAAKmyB,UACvBnyB,KAAKkgB,QAAQc,OAAShhB,KAAKqyB,MAAMryB,KAAKmyB,WACtCnyB,KAAK4xB,mBAAmBI,aAClBhyB,KAAKkgB,QAAQc,OAEvB,eACWhhB,KAAKoyB,YAIxB,mBAAmB5O,GACf,IACI,MAAMe,QAAaf,EAAS8O,aAC5B,GAAI/N,EAAM,CACN,MAAM,KAAE5kB,GAAS2kB,EAAkBC,GAC7BqH,EAAW,IAAIH,QAAezrB,KAAKuyB,2BAA2B5yB,IAC9DitB,EAAW,IAAI6C,EAAczvB,KAAK2xB,KAAK/F,SAAUA,GAAU,SAC3D5rB,KAAK2xB,KAAKnE,OAAOZ,IAG/B,MAAOpqB,GACHD,QAAQC,MAAMA,GACdxC,KAAK2xB,KAAKvE,cAGlB,0BAA0BlN,GACtBlgB,KAAKiyB,gBAET,yBAAyB/R,EAASsC,GAC9B,OAAOxiB,KAAKwyB,0BAA0BtS,GAE1C,qBAAqBA,EAASsC,GAC1BxiB,KAAKyyB,cAAcvS,EAASsC,GAEhC,8BAA8BtC,GAC1B,OAAOlgB,KAAKwyB,0BAA0BtS,GAE1C,0BAA0BA,EAASD,GAC3BjgB,KAAK6qB,gBACL7qB,KAAK6qB,eAAemH,OAExBhyB,KAAK6qB,eAAiB,IAAIhC,EAAe7oB,KAAMkgB,EAASD,GACpDjgB,KAAK6qB,eAAezB,aAAavD,aACjC7lB,KAAKyyB,cAAcvS,EAASlgB,KAAK6qB,eAAezB,aAAa5G,IAAIJ,MAGjEpiB,KAAK6qB,eAAelc,QAG5B,yBAAyBsV,EAASoG,GAC9BpG,EAAQ,eAAiBjkB,KAAK2rB,GAElC,eAAetB,GACXrqB,KAAKkgB,QAAQngB,aAAa,OAAQ,IAEtC,iCAAiCsqB,EAAS7G,GACtCxjB,KAAK0xB,sBAET,mCAAmCrH,EAAS7G,SAClCxjB,KAAK0yB,aAAalP,GACxBxjB,KAAK0xB,sBAET,0BAA0BrH,EAAS7G,GAC/BjhB,QAAQC,MAAMghB,GACdxjB,KAAK0xB,sBAET,eAAerH,EAAS7nB,GACpBD,QAAQC,MAAMA,GACdxC,KAAK0xB,sBAET,gBAAgBrH,GACZrqB,KAAKkgB,QAAQte,gBAAgB,QAEjC,sBAAsBipB,IAEtB,oCAAoCA,EAAgBrH,GAClCxjB,KAAK2yB,iBAAiB9H,EAAe/B,aAC7C7H,SAASyR,aAAalP,GAEhC,iCAAiCqH,EAAgBhE,GAC7C7mB,KAAKkgB,QAAQe,SAASyR,aAAa7L,GAEvC,sBAAsBgE,EAAgBroB,IAEtC,uBAAuBqoB,IAEvB,uBAAuBe,EAAUhK,IAEjC,qBAAqBgK,EAAUhK,IAE/B,mBAEA,YAAYY,GACR,MAAM6H,EAAU,IAAI9E,EAAavlB,KAAMygB,EAAYrJ,IAAK4K,EAAUQ,IAClE,OAAO,IAAI7d,SAAQC,IACf5E,KAAK0xB,oBAAsB,KACvB1xB,KAAK0xB,oBAAsB,OAC3B9sB,KAEJylB,EAAQH,aAGhB,cAAchK,EAASsC,GACLxiB,KAAK2yB,iBAAiBzS,GAC9B0S,IAAMpQ,EAEhB,iBAAiBtC,GACb,IAAI2B,EAEJ,OAA0C,QAAlCA,EAAK4O,EADFvQ,EAAQ1N,aAAa,qBAAuBxS,KAAKkgB,QAAQ1N,aAAa,kBACxB,IAAPqP,EAAgBA,EAAK7hB,KAAKkgB,QAEhF,iCAAiC2S,GAC7B,IAAI3S,EACJ,MAAMyL,EAAKmH,IAAIC,OAAO/yB,KAAK2rB,IAC3B,OAAIzL,EAAUyQ,EAAgBkC,EAAU7T,cAAc,eAAe2M,OAC1DzL,GAEPA,EAAUyQ,EAAgBkC,EAAU7T,cAAc,6BAA6B2M,eACzEzL,EAAQc,aACDhhB,KAAKuyB,2BAA2BrS,KAEjD3d,QAAQC,MAAM,6CAA6CmpB,eACpD,IAAI7K,GAEf,0BAA0BZ,GACtB,MAAMyL,EAAKzL,EAAQ1N,aAAa,qBAAuBxS,KAAKkgB,QAAQ1N,aAAa,UACjF,IAAKxS,KAAKgzB,SAAiB,QAANrH,EACjB,OAAO,EAEX,GAAIA,EAAI,CACJ,MAAMwE,EAAeM,EAAoB9E,GACzC,GAAIwE,EACA,OAAQA,EAAa8C,SAG7B,OAAO,EAEX,SACI,OAAOjzB,KAAKkgB,QAAQyL,GAExB,cACI,OAAQ3rB,KAAKkgB,QAAQ+S,SAEzB,gBACI,OAAOjzB,KAAKkgB,QAAQ0S,IAExB,mBACI,OAAO5yB,KAAKkgB,QAAQgT,QAExB,gBACI,YAA+B5hB,IAAxBtR,KAAK6qB,qBAAoDvZ,IAApBtR,KAAKoyB,WAErD,eACI,OAAOpyB,KAAKkgB,QAAQgS,WAqH5B1S,eAAe2T,OAAO,cAAerS,GACrCtB,eAAe2T,OAAO,eAAgBlC,GAEtC,MACI,IAAI/Q,EAAUxgB,SAAS0zB,cACvB,GAAKlT,IAEDA,EAAQve,aAAa,+BAEzB,KAAOue,EAAUA,EAAQ9O,eACrB,GAAI8O,GAAWxgB,SAASC,KACpB,OAAO4C,QAAQqD,KAAK8e,CAAS;;;;;;;;;QAShCxE,EAAQuR,YAjBjB,GAsBA,MAAM4B,EACF,cACIrzB,KAAKszB,QAAS,EACdtzB,KAAKsD,MAAQ,EACbtD,KAAKuzB,SAAU,EACfvzB,KAAKwzB,QAAU,KACXxzB,KAAKyzB,SAASzzB,KAAKsD,MAAQ8hB,KAAKE,SAAW,MAE/CtlB,KAAK0zB,kBAAoB1zB,KAAK2zB,0BAC9B3zB,KAAK4zB,gBAAkB5zB,KAAK6zB,wBAC5B7zB,KAAK8zB,2BACL9zB,KAAKyzB,SAAS,GAElB,wBACI,OAAO/O,CAAS;;;;;;;;;;kBAUN2O,EAAYtkB;oBACVskB,EAAYtkB,kBAAoB,OAAOskB,EAAYtkB,kBAAoB;;;MAKvF,OACS/O,KAAKuzB,UACNvzB,KAAKuzB,SAAU,EACfvzB,KAAK+zB,yBACL/zB,KAAKg0B,kBAGb,OACQh0B,KAAKuzB,UAAYvzB,KAAKszB,SACtBtzB,KAAKszB,QAAS,EACdtzB,KAAKi0B,qBAAoB,KACrBj0B,KAAKk0B,2BACLl0B,KAAKm0B,gBACLn0B,KAAKuzB,SAAU,EACfvzB,KAAKszB,QAAS,MAI1B,SAAShwB,GACLtD,KAAKsD,MAAQA,EACbtD,KAAKo0B,UAET,2BACI10B,SAAS20B,KAAKhjB,aAAarR,KAAK0zB,kBAAmBh0B,SAAS20B,KAAKC,YAErE,yBACIt0B,KAAK4zB,gBAAgB9mB,MAAMynB,MAAQ,IACnCv0B,KAAK4zB,gBAAgB9mB,MAAMb,QAAU,IACrCvM,SAASqiB,gBAAgB1Q,aAAarR,KAAK4zB,gBAAiBl0B,SAASC,MACrEK,KAAKo0B,UAET,oBAAoB9xB,GAChBtC,KAAK4zB,gBAAgB9mB,MAAMb,QAAU,IACrCjF,WAAW1E,EAA0C,IAAhC+wB,EAAYtkB,mBAErC,2BACQ/O,KAAK4zB,gBAAgBY,YACrB90B,SAASqiB,gBAAgB0S,YAAYz0B,KAAK4zB,iBAGlD,iBACS5zB,KAAK00B,kBACN10B,KAAK00B,gBAAkBv0B,OAAOw0B,YAAY30B,KAAKwzB,QAASH,EAAYtkB,oBAG5E,gBACI5O,OAAOy0B,cAAc50B,KAAK00B,wBACnB10B,KAAK00B,gBAEhB,UACItzB,uBAAsB,KAClBpB,KAAK4zB,gBAAgB9mB,MAAMynB,MAAW,GAAmB,GAAbv0B,KAAKsD,MAAd,OAG3C,0BACI,MAAM4c,EAAUxgB,SAASyiB,cAAc,SAGvC,OAFAjC,EAAQvX,KAAO,WACfuX,EAAQlN,YAAcqgB,EAAYwB,WAC3B3U,EAEX,wBACI,MAAMA,EAAUxgB,SAASyiB,cAAc,OAEvC,OADAjC,EAAQ7N,UAAY,qBACb6N,GAGfmT,EAAYtkB,kBAAoB,IAEhC,MAAM+lB,UAAqBrJ,EACvB,cACI1K,SAASzc,WACTtE,KAAK+0B,mBAAqB/0B,KAAK4oB,SAASrM,QAAO,CAACsI,EAAQ3E,KACpD,MAAM,UAAEuR,GAAcvR,EAChB8U,EAAUvD,KAAa5M,EACvBA,EAAO4M,GACP,CACE9oB,KAAMssB,EAAY/U,GAClBgV,QAASC,EAAiBjV,GAC1BkV,SAAU,IAElB,OAAO3yB,OAAO6kB,OAAO7kB,OAAO6kB,OAAO,GAAIzC,GAAS,CAAE,CAAC4M,GAAYhvB,OAAO6kB,OAAO7kB,OAAO6kB,OAAO,GAAI0N,GAAU,CAAEI,SAAU,IAAIJ,EAAQI,SAAUlV,SAC5I,IAEP,8BACI,OAAOzd,OAAOoB,KAAK7D,KAAK+0B,oBACnB/wB,QAAOytB,GAAazxB,KAAK+0B,mBAAmBtD,GAAWyD,UACvD1oB,KAAK,IAEd,+BAA+Bof,GAC3B,OAAO5rB,KAAKq1B,qCAAqC,SAAUzJ,GAE/D,mCAAmCA,GAC/B,OAAO5rB,KAAKq1B,qCAAqC,aAAczJ,GAEnE,qCAAqC0J,EAAa1J,GAC9C,OAAOnpB,OAAOoB,KAAK7D,KAAK+0B,oBACnB/wB,QAAOytB,KAAeA,KAAa7F,EAASmJ,sBAC5CjsB,KAAI2oB,GAAazxB,KAAK+0B,mBAAmBtD,KACzCztB,QAAO,EAAG2E,UAAWA,GAAQ2sB,IAC7BxsB,KAAI,EAAGssB,UAAWlV,MAAeA,IAE1C,0BACI,OAAOzd,OAAOoB,KAAK7D,KAAK+0B,oBAAoBxY,QAAO,CAACsI,EAAQ4M,KACxD,MAAM,KAAE9oB,EAAI,QAAEusB,EAAO,SAAEE,GAAap1B,KAAK+0B,mBAAmBtD,GAC5D,OAAY,MAAR9oB,GAAiBusB,EAGZE,EAASx0B,OAAS,EAChB,IAAIikB,KAAWuQ,EAASzS,MAAM,IAG9BkC,EANA,IAAIA,KAAWuQ,KAQ3B,IAEP,aAAa9sB,GACT,MAAM4X,EAAUlgB,KAAKu1B,sBAAsBjtB,GAC3C,OAAO4X,EACDA,EAAQ1N,aAAa,WACrB,KAEV,sBAAsBlK,GAClB,OAAO7F,OAAOoB,KAAK7D,KAAK+0B,oBAAoBxY,QAAO,CAACsI,EAAQ4M,KACxD,MAAQ2D,UAAWlV,IAAalgB,KAAK+0B,mBAAmBtD,GACxD,OAuBZ,SAAsCvR,EAAS5X,GAE3C,MAAkB,QADF4X,EAAQxa,QAAQC,eACJua,EAAQ1N,aAAa,SAAWlK,EAzB7CktB,CAA6BtV,EAAS5X,GAAQ4X,EAAU2E,SAChEvT,IAGX,SAAS2jB,EAAY/U,GACjB,OAUJ,SAAyBA,GAErB,MAAkB,UADFA,EAAQxa,QAAQC,cAX5B8vB,CAAgBvV,GACT,SAaf,SAA6BA,GACzB,MAAMxa,EAAUwa,EAAQxa,QAAQC,cAChC,MAAkB,SAAXD,GAAkC,QAAXA,GAAoD,cAA/Bwa,EAAQ1N,aAAa,OAb/DkjB,CAAoBxV,GAClB,kBADN,EAIT,SAASiV,EAAiBjV,GACtB,MAAmD,UAA5CA,EAAQ1N,aAAa,oBAehC,MAAMmjB,UAAqBlK,EACvB,YAAYvL,EAAS0V,GACjB7U,MAAMb,GACNlgB,KAAK41B,aAAeA,EAExB,sBAAsBrR,EAAO,IACzB,OAAOvkB,KAAK61B,aAAavR,EAAkBC,IAE/C,mBAAmBrE,GACf,OAAOlgB,KAAK61B,aAAa3V,EAAQyB,eAErC,qBAAoB,KAAE0S,EAAI,KAAE10B,IACxB,OAAO,IAAIK,KAAKL,EAAM,IAAIm1B,EAAaT,IAE3C,QACI,OAAO,IAAIsB,EAAa31B,KAAKkgB,QAAQ+O,WAAU,GAAOjvB,KAAK41B,cAE/D,kBACI,OAAO51B,KAAK41B,aAAa1V,QAE7B,mBACI,IAAI2B,EAEJ,OAAOG,EADyC,QAAlCH,EAAK7hB,KAAK81B,WAAW,eAA4B,IAAPjU,EAAgBA,EAAK,KAGjF,wBACI,OAAO7hB,KAAK81B,WAAW,iBAE3B,oBACI,MAAiC,cAA1B91B,KAAK+1B,kBAEhB,kBACI,MAAiC,YAA1B/1B,KAAK+1B,kBAEhB,kBACI,MAA2C,UAApC/1B,KAAK81B,WAAW,iBAE3B,WAAWxtB,GACP,OAAOtI,KAAK41B,aAAaI,aAAa,SAAS1tB,MAIvD,IAAI2tB,EAOAC,GANJ,SAAWD,GACPA,EAAyB,WAAI,aAC7BA,EAA2B,aAAI,eAC/BA,EAAyB,WAAI,aAC7BA,EAAuB,SAAI,WAJ/B,CAKGA,IAAiBA,EAAe,KAEnC,SAAWC,GACPA,EAAwB,YAAI,cAC5BA,EAAoB,QAAI,UACxBA,EAAqB,SAAI,WACzBA,EAAmB,OAAI,SACvBA,EAAsB,UAAI,YAL9B,CAMGA,IAAeA,EAAa,KAC/B,MAAMC,EAAiB,CACnB1M,OAAQ,UACR2M,gBAAgB,GAEpB,IAAIC,EAgoBAC,GA/nBJ,SAAWD,GACPA,EAAiBA,EAAiC,eAAI,GAAK,iBAC3DA,EAAiBA,EAAiC,gBAAK,GAAK,iBAC5DA,EAAiBA,EAAsC,qBAAK,GAAK,sBAHrE,CAIGA,IAAqBA,EAAmB,KAC3C,MAAME,EACF,YAAYtV,EAAUwE,EAAU+Q,EAAuB9jB,EAAU,IAC7D1S,KAAKy2B,WAAavR,IAClBllB,KAAK02B,cAAgB,GACrB12B,KAAK22B,kBAAmB,EACxB32B,KAAKo2B,gBAAiB,EACtBp2B,KAAK42B,UAAW,EAChB52B,KAAK62B,gBAAiB,EACtB72B,KAAKE,MAAQg2B,EAAWlN,YACxBhpB,KAAKihB,SAAWA,EAChBjhB,KAAKylB,SAAWA,EAChBzlB,KAAKw2B,sBAAwBA,GAAyBtR,IACtD,MAAM,OAAEuE,EAAM,eAAE2M,EAAc,SAAEU,EAAQ,aAAEC,EAAY,SAAEvT,GAAa/gB,OAAO6kB,OAAO7kB,OAAO6kB,OAAO,GAAI6O,GAAiBzjB,GACtH1S,KAAKypB,OAASA,EACdzpB,KAAKo2B,eAAiBA,EACtBp2B,KAAK82B,SAAWA,EAChB92B,KAAK+2B,aAAeA,EACpB/2B,KAAKwjB,SAAWA,EAEpB,cACI,OAAOxjB,KAAKihB,SAAS+V,QAEzB,WACI,OAAOh3B,KAAKihB,SAAS0Q,KAEzB,cACI,OAAO3xB,KAAKihB,SAASgW,QAEzB,sBACI,OAAOj3B,KAAKi3B,QAAQC,gCAAgCl3B,KAAKw2B,uBAE7D,QACQx2B,KAAKE,OAASg2B,EAAWlN,cACzBhpB,KAAKm3B,mBAAmBlB,EAAamB,YACrCp3B,KAAKE,MAAQg2B,EAAWxO,QACxB1nB,KAAKg3B,QAAQK,aAAar3B,MAC1BA,KAAKihB,SAASoW,aAAar3B,OAGnC,SACQA,KAAKE,OAASg2B,EAAWxO,UACrB1nB,KAAKqqB,SACLrqB,KAAKqqB,QAAQzd,SAEjB5M,KAAKs3B,eACLt3B,KAAKE,MAAQg2B,EAAWqB,UAGhC,WACQv3B,KAAKE,OAASg2B,EAAWxO,UACzB1nB,KAAKm3B,mBAAmBlB,EAAauB,UACrCx3B,KAAKE,MAAQg2B,EAAWuB,UACxBz3B,KAAKg3B,QAAQU,eAAe13B,MAC5BA,KAAKihB,SAASyW,eAAe13B,OAGrC,OACQA,KAAKE,OAASg2B,EAAWxO,UACzB1nB,KAAKE,MAAQg2B,EAAWyB,OACxB33B,KAAKg3B,QAAQY,YAAY53B,OAGjC,gBACI,IAAI6hB,EACJ,IAAK7hB,KAAKo2B,eAAgB,CACtB,MAAMyB,EAAmB73B,KAAKylB,SAASrD,QAAmC,QAAxBP,EAAK7hB,KAAK82B,gBAA6B,IAAPjV,OAAgB,EAASA,EAAGO,MAAQ,UAAYpiB,KAAKypB,OACjIjE,EAASxlB,KAAK83B,0BAA0BD,GAC9C73B,KAAKi3B,QAAQc,OAAOvS,EAAQxlB,KAAKylB,SAAUzlB,KAAKw2B,uBAChDx2B,KAAKo2B,gBAAiB,GAG9B,eACQp2B,KAAKg4B,uBACLh4B,KAAKi4B,kBAEAj4B,KAAKk4B,uBAAyBl4B,KAAKqqB,UACxCrqB,KAAKqqB,QAAU,IAAI9E,EAAavlB,KAAMygB,EAAYrJ,IAAKpX,KAAKylB,UAC5DzlB,KAAKqqB,QAAQH,WAGrB,kBACQlqB,KAAKwjB,WACLxjB,KAAKm4B,eACLn4B,KAAKo4B,iBACLp4B,KAAKq4B,iBAGb,eACIr4B,KAAKm3B,mBAAmBlB,EAAaqC,cACrCt4B,KAAKg3B,QAAQuB,oBAAoBv4B,MAErC,eAAewjB,EAAWxjB,KAAKwjB,UAE3B,GADAxjB,KAAKwjB,SAAWA,EACZA,EAAU,CACV,MAAM,WAAEG,GAAeH,EACnBgV,EAAa7U,GACb3jB,KAAKg3B,QAAQyB,sBAAsBz4B,MAGnCA,KAAKg3B,QAAQ0B,iCAAiC14B,KAAM2jB,IAIhE,gBACI3jB,KAAKm3B,mBAAmBlB,EAAa0C,YACrC34B,KAAKg3B,QAAQ4B,qBAAqB54B,MAEtC,eACI,GAAIA,KAAKwjB,SAAU,CACf,MAAM,WAAEG,EAAU,aAAE2O,GAAiBtyB,KAAKwjB,SAC1CxjB,KAAKwtB,QAAOxlB,UACRhI,KAAK64B,gBACDL,EAAa7U,IAA+B,MAAhB2O,SACtBtyB,KAAK2xB,KAAKmH,WAAWnD,EAAaoD,eAAezG,IACvDtyB,KAAKg3B,QAAQgC,cAAch5B,MAC3BA,KAAKi5B,mBAGCj5B,KAAK2xB,KAAKuH,YAAYvD,EAAaoD,eAAezG,IACxDtyB,KAAKg3B,QAAQgC,cAAch5B,MAC3BA,KAAKm5B,YAKrB,oBACI,MAAMvN,EAAW5rB,KAAK2xB,KAAKyH,6BAA6Bp5B,KAAKylB,WAAazlB,KAAKq5B,uBAC/E,GAAIzN,KAAcrJ,EAAUviB,KAAKylB,WAAamG,EAAS0N,UAAU/W,EAAUviB,KAAKylB,cACzD,WAAfzlB,KAAKypB,QAAuBmC,EAAS2N,eACrC,OAAO3N,EAInB,uBACI,GAAI5rB,KAAK+2B,aACL,OAAOpB,EAAaoD,eAAe/4B,KAAK+2B,cAGhD,oBACI,OAAmC,MAA5B/2B,KAAKw5B,oBAEhB,qBACI,MAAM5N,EAAW5rB,KAAKw5B,oBACtB,GAAI5N,EAAU,CACV,MAAMhK,EAAY5hB,KAAKk4B,qBACvBl4B,KAAKwtB,QAAOxlB,UACRhI,KAAK64B,sBACC74B,KAAK2xB,KAAKmH,WAAWlN,GAC3B5rB,KAAKg3B,QAAQgC,cAAch5B,MACtB4hB,GACD5hB,KAAKi5B,eAKrB,iBACQj5B,KAAKy5B,uBAAyBz5B,KAAK22B,mBACnC32B,KAAKylB,SAAWzlB,KAAKy5B,qBACrBz5B,KAAKi3B,QAAQhxB,QAAQjG,KAAKy5B,qBAAsBz5B,KAAKw2B,uBACrDx2B,KAAK22B,kBAAmB,GAGhC,iBACI32B,KAAKm4B,eAET,iCAAiC9N,EAAS7G,IAE1C,mCAAmC6G,EAAS7G,GACxC,MAAM8O,QAAqB9O,EAAS8O,aAChBhhB,MAAhBghB,EACAtyB,KAAKo4B,eAAe,CAAEzU,WAAY0S,EAAiBqD,uBAGnD15B,KAAKy5B,qBAAuBjW,EAASI,WAAaJ,EAASiC,cAAWnU,EACtEtR,KAAKo4B,eAAe,CAAEzU,WAAYH,EAASG,WAAY2O,kBAG/D,gCAAgCjI,EAAS7G,GACrC,MAAM8O,QAAqB9O,EAAS8O,aAChBhhB,MAAhBghB,EACAtyB,KAAKo4B,eAAe,CAAEzU,WAAY0S,EAAiBqD,sBAGnD15B,KAAKo4B,eAAe,CAAEzU,WAAYH,EAASG,WAAY2O,iBAG/D,eAAejI,EAAS7nB,GACpBxC,KAAKo4B,eAAe,CAAEzU,WAAY0S,EAAiBsD,iBAEvD,kBACI35B,KAAKq4B,gBAET,gBACSr4B,KAAK42B,WACa,WAAf52B,KAAKypB,OACLzpB,KAAK45B,4BAA8B55B,KAAK65B,cAGxC75B,KAAK85B,kBAAoB95B,KAAK65B,cAElC75B,KAAK42B,UAAW,GAGxB,2BACI,MAAM,eAAEmD,GAAmB/5B,KAAKg6B,gBAChC,GAAID,EAEA,OADA/5B,KAAK2xB,KAAKrF,iBAAiByN,IACpB,EAGf,iBACI,GAAgC,MAA5BxX,EAAUviB,KAAKylB,UAEf,OADAzlB,KAAK2xB,KAAKmI,eAAevX,EAAUviB,KAAKylB,YACjC,EAGf,cACIzlB,KAAK2xB,KAAKrF,iBAAiB,CAAEC,EAAG,EAAGC,EAAG,IAE1C,mBAAmByN,GACfj6B,KAAK02B,cAAcuD,IAAU,IAAIC,MAAOC,UAE5C,mBACI,OAAO13B,OAAO6kB,OAAO,GAAItnB,KAAK02B,eAElC,0BAA0BjN,GACtB,OAAQA,GACJ,IAAK,UAAW,OAAOwN,QAAQmD,aAC/B,IAAK,UACL,IAAK,UAAW,OAAOnD,QAAQoD,WAGvC,uBACI,MAA+B,iBAAjBr6B,KAAKwjB,SAEvB,qBACI,MAAsB,WAAfxjB,KAAKypB,SACLzpB,KAAKs6B,oBAGhB,gBACSt6B,KAAK62B,iBACN72B,KAAK2xB,KAAKkH,gBACV74B,KAAK62B,gBAAiB,GAG9B,aAAav0B,GACTtC,KAAKs3B,qBACC,IAAI3yB,SAAQC,IACd5E,KAAKu6B,MAAQn5B,uBAAsB,IAAMwD,SAE7CtC,WACOtC,KAAKu6B,MACZv6B,KAAKw6B,gBAET,eACQx6B,KAAKu6B,QACLE,qBAAqBz6B,KAAKu6B,cACnBv6B,KAAKu6B,QAIxB,SAAS/B,EAAa7U,GAClB,OAAOA,GAAc,KAAOA,EAAa,IAG7C,MAAM+W,EACF,YAAYC,GACR36B,KAAK46B,YAAc,IAAIvH,EACvBrzB,KAAK66B,gBAAkB,KACnB76B,KAAK46B,YAAYhwB,QAErB5K,KAAK26B,QAAUA,EAEnB,wBAAwBlV,EAAU/S,GAC9B1S,KAAKkF,UAAU41B,WAAWrV,EAAUP,IAAQxS,GAEhD,aAAa2f,GACTA,EAAM0I,eACN1I,EAAM2I,gBACN3I,EAAM4I,qBAEV,oBAAoB5I,GAChBryB,KAAK46B,YAAYnH,SAAS,GACtBpB,EAAMiI,qBAAuC,WAAhBjI,EAAM5I,OACnCzpB,KAAKk7B,4BAGLl7B,KAAK66B,kBAGb,sBAAsBxI,GAClBA,EAAMK,eAEV,iCAAiCL,EAAO1O,GACpC,OAAQA,GACJ,KAAK0S,EAAiBsD,eACtB,KAAKtD,EAAiB8E,eACtB,KAAK9E,EAAiBqD,oBAClB,OAAO15B,KAAKo7B,SAChB,QACI,OAAO/I,EAAMK,gBAGzB,qBAAqBL,GACjBryB,KAAK46B,YAAYnH,SAAS,GAC1BzzB,KAAKq7B,kBAET,eAAehJ,GACXA,EAAMiJ,iBAEV,kBACIt7B,KAAKo7B,SAET,YAAY/I,IAEZ,cAAcA,IAEd,4BACIryB,KAAKu7B,mBAAqBp7B,OAAO6G,WAAWhH,KAAK66B,gBAAiB76B,KAAK26B,QAAQa,kBAEnF,kBACIx7B,KAAK46B,YAAYpvB,OACc,MAA3BxL,KAAKu7B,qBACLp7B,OAAO4G,aAAa/G,KAAKu7B,2BAClBv7B,KAAKu7B,oBAGpB,SACIp7B,OAAOslB,SAAS2V,SAEpB,gBACI,OAAOp7B,KAAK26B,QAAQz1B,WAI5B,MAAMu2B,EACF,YAAYxa,GACRjhB,KAAK0nB,SAAU,EACf1nB,KAAK07B,eAAiB,KAClBrnB,oBAAoB,SAAUrU,KAAKgsB,eAAe,GAClD3pB,iBAAiB,SAAUrC,KAAKgsB,eAAe,IAEnDhsB,KAAKgsB,cAAkBzqB,IACnB,IAAKA,EAAMulB,iBAAkB,CACzB,MAAMvG,EAAOhf,EAAM8C,kBAAkBwc,gBAAkBtf,EAAM8C,YAASiN,EAChE2O,EAAY1e,EAAM0e,gBAAa3O,EACrC,GAAIiP,EAAM,CAEQ,YADEN,aAA6C,EAASA,EAAUzN,aAAa,gBAAkB+N,EAAKiF,SAC1FxlB,KAAKihB,SAAS0a,eAAepb,EAAMN,KACzD1e,EAAMkT,iBACNzU,KAAKihB,SAAS2a,cAAcrb,EAAMN,OAKlDjgB,KAAKihB,SAAWA,EAEpB,QACSjhB,KAAK0nB,UACNrlB,iBAAiB,SAAUrC,KAAK07B,gBAAgB,GAChD17B,KAAK0nB,SAAU,GAGvB,OACQ1nB,KAAK0nB,UACLrT,oBAAoB,SAAUrU,KAAK07B,gBAAgB,GACnD17B,KAAK0nB,SAAU,IAK3B,MAAMmU,EACF,YAAY3b,GACRlgB,KAAKkgB,QAAUA,EACflgB,KAAK6xB,gBAAkB,IAAIlE,EAAgB3tB,KAAMkgB,GACjDlgB,KAAK8xB,gBAAkB,IAAI/F,EAAgB/rB,KAAMkgB,GAErD,QACIlgB,KAAK6xB,gBAAgBljB,QACrB3O,KAAK8xB,gBAAgBnjB,QAEzB,OACI3O,KAAK6xB,gBAAgBG,OACrBhyB,KAAK8xB,gBAAgBE,OAEzB,yBAAyB9R,EAASsC,GAC9B,OAAOxiB,KAAK87B,eAAe5b,GAE/B,qBAAqBA,EAASsC,GAC1B,MAAM+X,EAAQv6B,KAAK2yB,iBAAiBzS,GAChCqa,IACAA,EAAM3H,IAAMpQ,GAGpB,8BAA8BtC,EAASD,GACnC,OAAOjgB,KAAK87B,eAAe5b,EAASD,GAExC,0BAA0BC,EAASD,GAC/B,MAAMsa,EAAQv6B,KAAK2yB,iBAAiBzS,GAChCqa,GACAA,EAAMtZ,SAASkL,0BAA0BjM,EAASD,GAG1D,eAAeC,EAASD,GACpB,MAAMsa,EAAQv6B,KAAK2yB,iBAAiBzS,GACpC,QAAOqa,GAAQA,GAASra,EAAQ9B,QAAQ,eAE5C,iBAAiB8B,GACb,MAAMyL,EAAKzL,EAAQ1N,aAAa,oBAChC,GAAImZ,GAAY,QAANA,EAAc,CACpB,MAAM4O,EAAQv6B,KAAKkgB,QAAQlB,cAAc,IAAI2M,qBAC7C,GAAI4O,aAAiBzZ,EACjB,OAAOyZ,IAMvB,MAAMwB,EACF,YAAY9a,GACRjhB,KAAKw2B,sBAAwBtR,IAC7BllB,KAAKg6B,gBAAkB,GACvBh6B,KAAK0nB,SAAU,EACf1nB,KAAKg8B,YAAa,EAClBh8B,KAAKi8B,WAAc16B,IACf,GAAIvB,KAAKk8B,uBAAwB,CAC7B,MAAM,MAAEC,GAAU56B,EAAMrB,OAAS,GACjC,GAAIi8B,EAAO,CACPn8B,KAAKylB,SAAW,IAAInD,IAAIniB,OAAOslB,SAASrD,MACxC,MAAM,sBAAEoU,GAA0B2F,EAClCn8B,KAAKw2B,sBAAwBA,EAC7Bx2B,KAAKihB,SAASmb,iDAAiDp8B,KAAKylB,SAAU+Q,MAI1Fx2B,KAAKq8B,WAAar0B,MAAOzG,UAlqDtBoD,QAAQC,UAoqDP5E,KAAKg8B,YAAa,GAEtBh8B,KAAKihB,SAAWA,EAEpB,QACSjhB,KAAK0nB,UACNrlB,iBAAiB,WAAYrC,KAAKi8B,YAAY,GAC9C55B,iBAAiB,OAAQrC,KAAKq8B,YAAY,GAC1Cr8B,KAAK0nB,SAAU,EACf1nB,KAAKiG,QAAQ,IAAIqc,IAAIniB,OAAOslB,SAASrD,QAG7C,OACQpiB,KAAK0nB,UACLrT,oBAAoB,WAAYrU,KAAKi8B,YAAY,GACjD5nB,oBAAoB,OAAQrU,KAAKq8B,YAAY,GAC7Cr8B,KAAK0nB,SAAU,GAGvB,KAAKjC,EAAU+Q,GACXx2B,KAAK+3B,OAAOd,QAAQoD,UAAW5U,EAAU+Q,GAE7C,QAAQ/Q,EAAU+Q,GACdx2B,KAAK+3B,OAAOd,QAAQmD,aAAc3U,EAAU+Q,GAEhD,OAAOhR,EAAQC,EAAU+Q,EAAwBtR,KAC7C,MAAMhlB,EAAQ,CAAEi8B,MAAO,CAAE3F,0BACzBhR,EAAO9d,KAAKuvB,QAAS/2B,EAAO,GAAIulB,EAASrD,MACzCpiB,KAAKylB,SAAWA,EAChBzlB,KAAKw2B,sBAAwBA,EAEjC,gCAAgCA,GAC5B,OAAOx2B,KAAKg6B,gBAAgBxD,IAA0B,GAE1D,sBAAsB8F,GAClB,MAAM,sBAAE9F,GAA0Bx2B,KAC5Bg6B,EAAkBh6B,KAAKg6B,gBAAgBxD,GAC7Cx2B,KAAKg6B,gBAAgBxD,GAAyB/zB,OAAO6kB,OAAO7kB,OAAO6kB,OAAO,GAAI0S,GAAkBsC,GAEpG,mCACI,IAAIza,EACC7hB,KAAKu8B,4BACNv8B,KAAKu8B,0BAAiE,QAApC1a,EAAKoV,QAAQuF,yBAAsC,IAAP3a,EAAgBA,EAAK,OACnGoV,QAAQuF,kBAAoB,UAGpC,uCACQx8B,KAAKu8B,4BACLtF,QAAQuF,kBAAoBx8B,KAAKu8B,iCAC1Bv8B,KAAKu8B,2BAGpB,uBACI,OAAOv8B,KAAKy8B,eAEhB,eACI,OAAOz8B,KAAKg8B,YAAqC,YAAvBt8B,SAASsD,YAI3C,MAAM05B,GACF,YAAYzb,GACRjhB,KAAK0nB,SAAU,EACf1nB,KAAKggB,cAAgB,KACjB3L,oBAAoB,QAASrU,KAAK4tB,cAAc,GAChDvrB,iBAAiB,QAASrC,KAAK4tB,cAAc,IAEjD5tB,KAAK4tB,aAAgBrsB,IACjB,GAAIvB,KAAK28B,wBAAwBp7B,GAAQ,CACrC,MAAMq7B,EAAO58B,KAAK68B,wBAAwBt7B,EAAM8C,QAChD,GAAIu4B,EAAM,CACN,MAAMnX,EAAWzlB,KAAK88B,mBAAmBF,GACrC58B,KAAKihB,SAAS8b,yBAAyBH,EAAMnX,KAC7ClkB,EAAMkT,iBACNzU,KAAKihB,SAAS+b,uBAAuBJ,EAAMnX,OAK3DzlB,KAAKihB,SAAWA,EAEpB,QACSjhB,KAAK0nB,UACNrlB,iBAAiB,QAASrC,KAAKggB,eAAe,GAC9ChgB,KAAK0nB,SAAU,GAGvB,OACQ1nB,KAAK0nB,UACLrT,oBAAoB,QAASrU,KAAKggB,eAAe,GACjDhgB,KAAK0nB,SAAU,GAGvB,wBAAwBnmB,GACpB,QAAUA,EAAM8C,QAAU9C,EAAM8C,OAAO44B,mBAChC17B,EAAMulB,kBACNvlB,EAAM27B,MAAQ,GACd37B,EAAM47B,QACN57B,EAAM67B,SACN77B,EAAM87B,SACN97B,EAAM+7B,UAEjB,wBAAwBj5B,GACpB,GAAIA,aAAkB8b,QAClB,OAAO9b,EAAO+Z,QAAQ,4CAG9B,mBAAmBwe,GACf,OAAO5a,EAAU4a,EAAKpqB,aAAa,SAAW,KAItD,MAAM+qB,GACF,YAAYtc,GACRjhB,KAAKihB,SAAWA,EAEpB,aAAawE,EAAU/S,EAAU,IACzB1S,KAAKihB,SAASuc,uBAAuB/X,IACrCzlB,KAAKihB,SAASwc,wBAAwBhY,EAAU/S,GAGxD,WAAWuP,EAAWuU,EAAuB9jB,EAAU,IACnD1S,KAAKgyB,OACLhyB,KAAK09B,aAAe,IAAInH,EAAMv2B,KAAMgiB,EAAUC,GAAYuU,EAAuB/zB,OAAO6kB,OAAO,CAAEwP,SAAU92B,KAAKylB,UAAY/S,IAC5H1S,KAAK09B,aAAa/uB,QAEtB,WAAW4R,EAAMN,GACbjgB,KAAKgyB,OACLhyB,KAAK6qB,eAAiB,IAAIhC,EAAe7oB,KAAMugB,EAAMN,GAAW,GAC5DjgB,KAAK6qB,eAAezB,aAAavD,aACjC7lB,KAAK29B,aAAa39B,KAAK6qB,eAAezB,aAAa5G,KAGnDxiB,KAAK6qB,eAAelc,QAG5B,OACQ3O,KAAK6qB,iBACL7qB,KAAK6qB,eAAemH,cACbhyB,KAAK6qB,gBAEZ7qB,KAAK09B,eACL19B,KAAK09B,aAAa9wB,gBACX5M,KAAK09B,cAGpB,cACI,OAAO19B,KAAKihB,SAAS+V,QAEzB,WACI,OAAOh3B,KAAKihB,SAAS0Q,KAEzB,cACI,OAAO3xB,KAAKihB,SAASgW,QAEzB,sBAAsBpM,IAEtB,0CAA0CA,EAAgBhE,GACtD,GAAIgE,GAAkB7qB,KAAK6qB,eAAgB,CACvC,MAAMyH,QAAqBzL,EAAcyL,aACzC,GAAIA,EAAc,CACVzH,EAAerF,QAAU/E,EAAYrJ,KACrCpX,KAAK2xB,KAAKiM,qBAEd,MAAM,WAAEja,GAAekD,EACjBgX,EAAe,CAAEra,SAAU,CAAEG,aAAY2O,iBAC/CtyB,KAAK29B,aAAa9W,EAAcpB,SAAUoY,KAItD,uCAAuChT,EAAgBhE,GACnD,MAAMyL,QAAqBzL,EAAcyL,aACzC,GAAIA,EAAc,CACd,MAAM1G,EAAW+J,EAAaoD,eAAezG,SACvCtyB,KAAK2xB,KAAKmH,WAAWlN,GAC3B5rB,KAAK2xB,KAAKiM,sBAGlB,sBAAsB/S,EAAgBroB,IAEtC,uBAAuBqoB,IAEvB,aAAawH,GACTryB,KAAKihB,SAASoW,aAAahF,GAE/B,eAAeA,GACXryB,KAAKihB,SAASyW,eAAerF,GAEjC,eACI,OAAOryB,KAAKi3B,QAAQxR,SAExB,4BACI,OAAOzlB,KAAKi3B,QAAQT,wBAK5B,SAAWF,GACPA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAmB,QAAI,GAAK,UACtCA,EAAUA,EAAuB,YAAI,GAAK,cAC1CA,EAAUA,EAAoB,SAAI,GAAK,WAJ3C,CAKGA,IAAcA,EAAY,KAC7B,MAAMwH,GACF,YAAY7c,GACRjhB,KAAK+9B,MAAQzH,EAAU0H,QACvBh+B,KAAK0nB,SAAU,EACf1nB,KAAKi+B,oBAAsB,KACvB,MAAM,WAAEj7B,GAAehD,KACL,eAAdgD,EACAhD,KAAKk+B,oBAEc,YAAdl7B,GACLhD,KAAKm+B,kBAGbn+B,KAAKo+B,eAAiB,KAClBp+B,KAAKihB,SAASmd,kBAElBp+B,KAAKihB,SAAWA,EAEpB,QACSjhB,KAAK0nB,UACF1nB,KAAK+9B,OAASzH,EAAU0H,UACxBh+B,KAAK+9B,MAAQzH,EAAUpD,SAE3BxzB,SAAS2C,iBAAiB,mBAAoBrC,KAAKi+B,qBAAqB,GACxE57B,iBAAiB,WAAYrC,KAAKo+B,gBAAgB,GAClDp+B,KAAK0nB,SAAU,GAGvB,OACQ1nB,KAAK0nB,UACLhoB,SAAS2U,oBAAoB,mBAAoBrU,KAAKi+B,qBAAqB,GAC3E5pB,oBAAoB,WAAYrU,KAAKo+B,gBAAgB,GACrDp+B,KAAK0nB,SAAU,GAGvB,oBACQ1nB,KAAK+9B,OAASzH,EAAUpD,UACxBlzB,KAAK+9B,MAAQzH,EAAU+H,YACvBr+B,KAAKihB,SAASqd,yBAGtB,iBACIt+B,KAAKk+B,oBACDl+B,KAAK+9B,OAASzH,EAAU+H,cACxBr+B,KAAK+9B,MAAQzH,EAAU2C,SACvBj5B,KAAKihB,SAAS+a,cAGtB,iBACI,OAAOt8B,SAASsD,YAIxB,MAAMu7B,GACF,YAAYtd,GACRjhB,KAAK0nB,SAAU,EACf1nB,KAAKw+B,SAAW,KACZx+B,KAAKy+B,eAAe,CAAElS,EAAGpsB,OAAOu+B,YAAalS,EAAGrsB,OAAOw+B,eAE3D3+B,KAAKihB,SAAWA,EAEpB,QACSjhB,KAAK0nB,UACNrlB,iBAAiB,SAAUrC,KAAKw+B,UAAU,GAC1Cx+B,KAAKw+B,WACLx+B,KAAK0nB,SAAU,GAGvB,OACQ1nB,KAAK0nB,UACLrT,oBAAoB,SAAUrU,KAAKw+B,UAAU,GAC7Cx+B,KAAK0nB,SAAU,GAGvB,eAAekX,GACX5+B,KAAKihB,SAAS4d,sBAAsBD,IAI5C,MAAME,GACF,YAAY7d,GACRjhB,KAAK++B,QAAU,IAAI/5B,IACnBhF,KAAK0nB,SAAU,EACf1nB,KAAKg/B,qBAAyBz9B,IAC1B,MAAMiiB,EAkDlB,SAAgCjiB,GAC5B,IAAIsgB,EACJ,MAAMgF,EAAwC,QAAvBhF,EAAKtgB,EAAMG,cAA2B,IAAPmgB,OAAgB,EAASA,EAAGgF,cAClF,GAAIA,aAAyBtD,EACzB,OAAOsD,EAtDcoY,CAAuB19B,GACpCiiB,GAwDhB,SAA+BA,GAC3B,IAAI3B,EAEJ,OADoD,QAA/BA,EAAK2B,EAASK,mBAAgC,IAAPhC,EAAgBA,EAAK,IAC9D1X,WAAW+d,EAAcrE,aA3DpBqb,CAAsB1b,KAClCjiB,EAAMkT,iBACNzU,KAAKm/B,uBAAuB3b,KAGpCxjB,KAAKo/B,oBAAuB79B,IACpBvB,KAAK0nB,SAAgC,iBAAdnmB,EAAMC,MAC7BxB,KAAKq/B,mBAAmB99B,EAAMC,OAGtCxB,KAAKihB,SAAWA,EAEpB,QACSjhB,KAAK0nB,UACN1nB,KAAK0nB,SAAU,EACfrlB,iBAAiB,8BAA+BrC,KAAKg/B,sBAAsB,IAGnF,OACQh/B,KAAK0nB,UACL1nB,KAAK0nB,SAAU,EACfrT,oBAAoB,8BAA+BrU,KAAKg/B,sBAAsB,IAGtF,oBAAoBz6B,GACXvE,KAAKs/B,wBAAwB/6B,KAC9BvE,KAAK++B,QAAQ1wB,IAAI9J,GACjBA,EAAOlC,iBAAiB,UAAWrC,KAAKo/B,qBAAqB,IAGrE,uBAAuB76B,GACfvE,KAAKs/B,wBAAwB/6B,KAC7BvE,KAAK++B,QAAQ7Y,OAAO3hB,GACpBA,EAAO8P,oBAAoB,UAAWrU,KAAKo/B,qBAAqB,IAGxE,wBAAwB76B,GACpB,OAAOvE,KAAK++B,QAAQ9Y,IAAI1hB,GAE5B,6BAA6Bif,GACzB,MAAMe,QAAaf,EAAS8O,aACxB/N,GACAvkB,KAAKq/B,mBAAmB9a,GAGhC,mBAAmBA,GACfvkB,KAAKihB,SAASse,0BAA0B,IAAIrX,EAAc3D,KAoBlE,MAAMib,WAAsBrR,EACxB,eACInuB,KAAKy/B,qBACLz/B,KAAK0/B,yBAET,qBACI,MAAM,gBAAE3d,EAAe,KAAEsS,EAAI,KAAE10B,GAASD,SACxCqiB,EAAgByN,aAAaxvB,KAAK2/B,QAAStL,GAC3CtS,EAAgByN,aAAaxvB,KAAK6uB,WAAYlvB,GAElD,yBACI,IAAK,MAAMigC,KAAsB5/B,KAAK6/B,eAAgB,CAClD,MAAMrL,EAAaoL,EAAmBpL,WACtC,GAAIA,EAAY,CACZ,MAAMtU,EAAUlgB,KAAK8/B,oBAAoBF,GACzCpL,EAAWhF,aAAatP,EAAS0f,KAI7C,cACI,OAAO5/B,KAAK8sB,YAAY8I,aAAa1V,QAEzC,qBACI,MAAO,IAAIxgB,SAASqiB,gBAAgBniB,iBAAiB,YAI7D,MAAMmgC,WAAqB5R,EACvB,mBACI,OAAOnuB,KAAK8sB,YAAYkT,aAAehgC,KAAKigC,4BAEhD,kBACIjgC,KAAKkgC,YAET,eACIlgC,KAAKmgC,cAET,kBACIpf,MAAM0M,kBACFztB,KAAK4hB,WACL5hB,KAAK6vB,iCAGb,0BACI,OAAO7vB,KAAKouB,gBAAgBwH,aAEhC,sBACI,OAAO51B,KAAK8sB,YAAY8I,aAE5B,iBACI,OAAO51B,KAAK8sB,YAAY5M,QAE5B,YACIlgB,KAAKogC,gCACLpgC,KAAKqgC,4BACLrgC,KAAKsgC,uCACLtgC,KAAKugC,iCAET,cACIvgC,KAAK0vB,6BAA4B,KAC7B1vB,KAAKwgC,kBACLxgC,KAAKygC,mBAGb,kCACI,OAAOzgC,KAAK0gC,oBAAoBC,yBAA2B3gC,KAAK4gC,gBAAgBD,wBAEpF,gCACI,IAAK,MAAMzgB,KAAWlgB,KAAK6gC,0BACvBnhC,SAAS20B,KAAK7L,YAAYtI,GAGlC,4BACI,IAAK,MAAMA,KAAWlgB,KAAK8gC,sBACvBphC,SAAS20B,KAAK7L,YAAYxoB,KAAK8/B,oBAAoB5f,IAG3D,uCACI,IAAK,MAAMA,KAAWlgB,KAAK+gC,+BACvBrhC,SAAS20B,KAAKI,YAAYvU,GAGlC,iCACI,IAAK,MAAMA,KAAWlgB,KAAKghC,2BACvBthC,SAAS20B,KAAK7L,YAAYtI,GAGlC,kBACIxgB,SAASuhC,UAAUjhC,KAAK6uB,YACxB7uB,KAAKkhC,gCAET,gCACI,IAAK,MAAMC,KAAsBnhC,KAAKohC,sBAAuB,CAEzDpS,EAA0BmS,EADKnhC,KAAK8/B,oBAAoBqB,KAIhE,gBACQzhC,SAASC,MAAQK,KAAK6uB,sBAAsBwS,gBAC5CrS,EAA0BtvB,SAASC,KAAMK,KAAK6uB,YAG9CnvB,SAASqiB,gBAAgByG,YAAYxoB,KAAK6uB,YAGlD,gCACI,OAAO7uB,KAAK4gC,gBAAgBU,mCAAmCthC,KAAK0gC,qBAExE,4BACI,OAAO1gC,KAAK4gC,gBAAgBW,+BAA+BvhC,KAAK0gC,qBAEpE,qCACI,OAAO1gC,KAAK0gC,oBAAoBc,oBAEpC,iCACI,OAAOxhC,KAAK4gC,gBAAgBY,oBAEhC,4BACI,MAAO,IAAIxhC,KAAK6uB,WAAWjvB,iBAAiB,YAIpD,MAAM6hC,GACF,YAAYC,GACR1hC,KAAK6D,KAAO,GACZ7D,KAAK2hC,UAAY,GACjB3hC,KAAK0hC,KAAOA,EAEhB,IAAIjc,GACA,OAAOpC,EAAWoC,KAAazlB,KAAK2hC,UAExC,IAAIlc,GACA,GAAIzlB,KAAKimB,IAAIR,GAAW,CACpB,MAAMmG,EAAW5rB,KAAK4hC,KAAKnc,GAE3B,OADAzlB,KAAK6hC,MAAMpc,GACJmG,GAGf,IAAInG,EAAUmG,GAGV,OAFA5rB,KAAK8hC,MAAMrc,EAAUmG,GACrB5rB,KAAK6hC,MAAMpc,GACJmG,EAEX,QACI5rB,KAAK2hC,UAAY,GAErB,KAAKlc,GACD,OAAOzlB,KAAK2hC,UAAUte,EAAWoC,IAErC,MAAMA,EAAUmG,GACZ5rB,KAAK2hC,UAAUte,EAAWoC,IAAamG,EAE3C,MAAMnG,GACF,MAAMpiB,EAAMggB,EAAWoC,GACjBta,EAAQnL,KAAK6D,KAAK8F,QAAQtG,GAC5B8H,GAAS,GACTnL,KAAK6D,KAAKmR,OAAO7J,EAAO,GAC5BnL,KAAK6D,KAAKk+B,QAAQ1+B,GAClBrD,KAAKwN,OAET,OACI,IAAK,MAAMnK,KAAOrD,KAAK6D,KAAKmR,OAAOhV,KAAK0hC,aAC7B1hC,KAAK2hC,UAAUt+B,IAKlC,MAAM2+B,WAAiB5V,EACnB,cACIrL,SAASzc,WACTtE,KAAKiiC,cAAgB,IAAIR,GAAc,IACvCzhC,KAAKkiC,qBAAuB,IAAI5f,IAAImD,SAASrD,MAEjD,WAAWwJ,EAAUhK,GAAY,GAC7B,MAAMgL,EAAW,IAAImT,GAAa//B,KAAK4rB,SAAUA,EAAUhK,GAC3D,OAAO5hB,KAAKwtB,OAAOZ,GAEvB,YAAYhB,GACR,MAAMgB,EAAW,IAAI4S,GAAcx/B,KAAK4rB,SAAUA,GAAU,GAC5D5rB,KAAKwtB,OAAOZ,GAEhB,qBACI5sB,KAAKiiC,cAAcE,QAEvB,sBACI,GAAIniC,KAAKoiC,oBAAqB,CAC1BpiC,KAAKihB,SAASohB,wBACd,MAAM,SAAEzW,EAAUsW,qBAAsBzc,GAAazlB,WApsEtD,IAAI2E,SAAQC,GAAWoC,YAAW,IAAMpC,KAAW,KAssElD5E,KAAKiiC,cAAc3Y,IAAI7D,EAAUmG,EAAS1a,UAGlD,6BAA6BuU,GACzB,OAAOzlB,KAAKiiC,cAAc7qB,IAAIqO,GAElC,eACI,OAAOkQ,EAAarG,YAAYtvB,KAAKkgB,SAEzC,0BACI,OAAOlgB,KAAK4rB,SAAS0W,aA8L7B,SAASC,GAAkC/f,GACvC/f,OAAOgC,iBAAiB+d,EAAKggB,IAEjC,MAAMA,GAAwC,CAC1CC,YAAa,CACT,MACI,OAAOziC,KAAKqiB,cAKlBsY,GAAU,IArMhB,MACI,cACI36B,KAAKkF,UAAY,IAAIq4B,GAAUv9B,MAC/BA,KAAKi3B,QAAU,IAAI8E,EAAQ/7B,MAC3BA,KAAK2xB,KAAO,IAAIqQ,GAAShiC,KAAMN,SAASqiB,iBACxC/hB,KAAKg3B,QAAU,IAAI0D,EAAe16B,MAClCA,KAAK0iC,aAAe,IAAI5E,GAAa99B,MACrCA,KAAK2iC,kBAAoB,IAAIjG,GAAkB18B,MAC/CA,KAAK4iC,mBAAqB,IAAInH,EAAmBz7B,MACjDA,KAAK6iC,eAAiB,IAAItE,GAAev+B,MACzCA,KAAK8iC,eAAiB,IAAIhE,GAAe9+B,MACzCA,KAAK+iC,gBAAkB,IAAIlH,EAAgBn8B,SAASqiB,iBACpD/hB,KAAKgzB,SAAU,EACfhzB,KAAKw7B,iBAAmB,IACxBx7B,KAAK0nB,SAAU,EAEnB,QACS1nB,KAAK0nB,UACN1nB,KAAK0iC,aAAa/zB,QAClB3O,KAAK2iC,kBAAkBh0B,QACvB3O,KAAK4iC,mBAAmBj0B,QACxB3O,KAAK6iC,eAAel0B,QACpB3O,KAAK8iC,eAAen0B,QACpB3O,KAAK+iC,gBAAgBp0B,QACrB3O,KAAKi3B,QAAQtoB,QACb3O,KAAK0nB,SAAU,EACf1nB,KAAKgzB,SAAU,GAGvB,UACIhzB,KAAKgzB,SAAU,EAEnB,OACQhzB,KAAK0nB,UACL1nB,KAAK0iC,aAAa1Q,OAClBhyB,KAAK2iC,kBAAkB3Q,OACvBhyB,KAAK4iC,mBAAmB5Q,OACxBhyB,KAAK6iC,eAAe7Q,OACpBhyB,KAAK8iC,eAAe9Q,OACpBhyB,KAAK+iC,gBAAgB/Q,OACrBhyB,KAAKi3B,QAAQjF,OACbhyB,KAAK0nB,SAAU,GAGvB,gBAAgBsP,GACZh3B,KAAKg3B,QAAUA,EAEnB,MAAMvR,EAAU/S,EAAU,IACtB1S,KAAKkF,UAAUy4B,aAAa3b,EAAUyD,GAAW/S,GAErD,oBAAoBnO,GAChBvE,KAAK8iC,eAAeE,oBAAoBz+B,GAE5C,uBAAuBA,GACnBvE,KAAK8iC,eAAeG,uBAAuB1+B,GAE/C,oBAAoB6jB,GAChB1oB,SAASqiB,gBAAgByG,YAAYN,EAAc7N,KAAK+N,GAASC,UAErE,aACIroB,KAAK2xB,KAAKiM,qBAEd,oBAAoBsF,GAChBljC,KAAKw7B,iBAAmB0H,EAE5B,eACI,OAAOljC,KAAKi3B,QAAQxR,SAExB,4BACI,OAAOzlB,KAAKi3B,QAAQT,sBAExB,iDAAiD/Q,GACzCzlB,KAAKgzB,QACLhzB,KAAKkF,UAAUy4B,aAAalY,EAAU,CAAEgE,OAAQ,UAAW2M,gBAAgB,IAG3Ep2B,KAAKg3B,QAAQmM,kBAGrB,sBAAsBvE,GAClB5+B,KAAKi3B,QAAQmM,sBAAsB,CAAErJ,eAAgB6E,IAEzD,yBAAyBhC,EAAMnX,GAC3B,OAAOzlB,KAAKqjC,mBAAmBzG,IACxB58B,KAAKsjC,oBAAoB7d,IACzBzlB,KAAKujC,yCAAyC3G,EAAMnX,GAE/D,uBAAuBmX,EAAMnX,GACzB,MAAMgE,EAASzpB,KAAKwjC,iBAAiB5G,GACrC58B,KAAKqyB,MAAM5M,EAASrD,KAAM,CAAEqH,WAEhC,uBAAuBhE,GACnB,OAAOzlB,KAAKyjC,kCAAkChe,GAElD,wBAAwBA,EAAU/S,GAC9B6vB,GAAkC9c,GAClCzlB,KAAKg3B,QAAQyG,wBAAwBhY,EAAU/S,GAEnD,aAAa2f,GACTkQ,GAAkClQ,EAAM5M,UACxCzlB,KAAK0jC,uCAAuCrR,EAAM5M,UAEtD,eAAe4M,GACXryB,KAAK2jC,+BAA+BtR,EAAMuR,oBAE9C,eAAerjB,EAAMN,GACjB,OAAOjgB,KAAKqjC,mBAAmB9iB,IAASvgB,KAAKqjC,mBAAmBpjB,GAEpE,cAAcM,EAAMN,GAChBjgB,KAAKkF,UAAU2+B,WAAWtjB,EAAMN,GAEpC,wBACIjgB,KAAK2xB,KAAKuQ,qBAAuBliC,KAAKylB,SACtCzlB,KAAK2jC,iCAET,aACI3jC,KAAKi3B,QAAQ6M,mCAEjB,iBACI9jC,KAAKi3B,QAAQ8M,uCAEjB,0BAA0B3b,GACtBpoB,KAAKgkC,oBAAoB5b,GAE7B,wBACIpoB,KAAKikC,yCAET,wBAAuB,QAAE/jB,GAAW0B,GAChC5hB,KAAKkkC,8BAA8BhkB,GAEvC,qBAAqB0L,EAAUhK,GAC3B5hB,KAAK2xB,KAAKuQ,qBAAuBliC,KAAKi3B,QAAQxR,SAC9CzlB,KAAKmkC,+BAET,kBACInkC,KAAKg3B,QAAQmM,kBAEjB,yCAAyCvG,EAAMnX,GAE3C,OADczlB,KAAKokC,6CAA6CxH,EAAMnX,GACxDqB,iBAElB,kCAAkCrB,GAE9B,OADczlB,KAAKqkC,wCAAwC5e,GAC7CqB,iBAElB,6CAA6C8V,EAAMnX,GAC/C,OAAOvB,EAAS,cAAe,CAAE7f,OAAQu4B,EAAMl7B,OAAQ,CAAE8gB,IAAKiD,EAASrD,MAAQgC,YAAY,IAE/F,wCAAwCqB,GACpC,OAAOvB,EAAS,qBAAsB,CAAExiB,OAAQ,CAAE8gB,IAAKiD,EAASrD,MAAQgC,YAAY,IAExF,uCAAuCqB,GACnC,OAAOvB,EAAS,cAAe,CAAExiB,OAAQ,CAAE8gB,IAAKiD,EAASrD,QAE7D,yCACI,OAAO8B,EAAS,sBAEpB,8BAA8BziB,GAC1B,OAAOyiB,EAAS,sBAAuB,CAAExiB,OAAQ,CAAED,aAEvD,+BACI,OAAOyiB,EAAS,gBAEpB,+BAA+BogB,EAAS,IACpC,OAAOpgB,EAAS,aAAc,CAAExiB,OAAQ,CAAE8gB,IAAKxiB,KAAKylB,SAASrD,KAAMkiB,YAEvE,iBAAiB1H,GACb,MAAMnT,EAASmT,EAAKpqB,aAAa,qBACjC,OAvXR,SAAkBiX,GACd,MAAiB,WAAVA,GAAiC,WAAVA,GAAiC,WAAVA,EAsX1C8a,CAAS9a,GAAUA,EAAS,UAEvC,mBAAmBvJ,GACf,MAAM2S,EAAY3S,aAAyC,EAASA,EAAQ9B,QAAQ,gBACpF,OAAIyU,GAC+C,SAAxCA,EAAUrgB,aAAa,cAMtC,oBAAoBiT,GAChB,OAAOzC,EAAayC,EAAUzlB,KAAK4rB,SAAS4Y,iBA59EvC5hB,EA49E+D6C,GA59E7Ctf,MAAM,+BA89EjC,eACI,OAAOnG,KAAK2xB,KAAK/F,YAejB1mB,UAAS,IAAKy1B,GACtB,SAAShsB,KACLgsB,GAAQhsB,QAwBZA,K,iBC5pFI81B,GAA4B,oBAAdv/B,WAA4BA,UAAUC,UAAUQ,cAAcgE,QAAQ,WAAa,EAErG,SAAS+6B,GAAS/gC,EAAQpC,EAAOikB,GAC3B7hB,EAAOtB,iBACTsB,EAAOtB,iBAAiBd,EAAOikB,GAAQ,GAC9B7hB,EAAOghC,aAChBhhC,EAAOghC,YAAY,KAAKx7B,OAAO5H,IAAQ,WACrCikB,EAAOrlB,OAAOoB,UAMpB,SAASqjC,GAAQzvB,EAAU9R,GAGzB,IAFA,IAAIwhC,EAAOxhC,EAAIsf,MAAM,EAAGtf,EAAIzC,OAAS,GAE5BD,EAAI,EAAGA,EAAIkkC,EAAKjkC,OAAQD,IAC/BkkC,EAAKlkC,GAAKwU,EAAS0vB,EAAKlkC,GAAGgF,eAG7B,OAAOk/B,EAIT,SAASC,GAAQzhC,GACI,iBAARA,IAAkBA,EAAM,IAOnC,IAJA,IAAIQ,GAFJR,EAAMA,EAAI4C,QAAQ,MAAO,KAEVxF,MAAM,KAEjB0K,EAAQtH,EAAKkhC,YAAY,IAEtB55B,GAAS,GACdtH,EAAKsH,EAAQ,IAAM,IACnBtH,EAAKmR,OAAO7J,EAAO,GACnBA,EAAQtH,EAAKkhC,YAAY,IAG3B,OAAOlhC,EAuFT,IAvEA,IAAImhC,GAAU,CACZC,UAAW,EACXC,IAAK,EACL/C,MAAO,GACPgD,MAAO,GACPC,OAAQ,GACRC,IAAK,GACLtS,OAAQ,GACRuS,MAAO,GACPC,KAAM,GACNC,GAAI,GACJC,MAAO,GACPC,KAAM,GACNC,IAAK,GACLzf,OAAQ,GACR0f,IAAK,GACLC,OAAQ,GACRC,KAAM,GACN92B,IAAK,GACL+2B,OAAQ,GACRC,SAAU,GACVC,SAAU,GACV,IAAK,GACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAK,IACL,IAAKxB,GAAO,IAAM,IAClB,IAAKA,GAAO,GAAK,IACjB,IAAKA,GAAO,GAAK,IACjByB,IAAM,IACN,IAAK,IACL,IAAK,IACL,KAAM,KAGJC,GAAY,CAEd,IAAK,GACL/oB,MAAO,GAEP,IAAK,GACLgpB,IAAK,GACLzzB,OAAQ,GAER,IAAK,GACL0zB,KAAM,GACNC,QAAS,GAET,IAAK,GACLC,IAAK,GACLC,QAAS,IAEPC,GAAc,CAChBC,GAAI,WACJC,GAAI,SACJC,GAAI,UACJC,GAAI,UACJvJ,SAAU,GACVF,QAAS,GACTD,OAAQ,GACRE,QAAS,IAEPyJ,GAAQ,CACVJ,IAAI,EACJC,IAAI,EACJC,IAAI,EACJC,IAAI,GAEFE,GAAY,GAEPC,GAAI,EAAGA,GAAI,GAAIA,KACtBhC,GAAQ,IAAI77B,OAAO69B,KAAM,IAAMA,GAGjC,IAAIC,GAAY,GAEZC,GAAS,MAETC,GAAsB,GAGtBC,GAAO,SAAc7a,GACvB,OAAOyY,GAAQzY,EAAE5mB,gBAAkBwgC,GAAU5Z,EAAE5mB,gBAAkB4mB,EAAElmB,cAAcghC,WAAW,IAI9F,SAASC,GAASC,GAChBL,GAASK,GAAS,MAIpB,SAASC,KACP,OAAON,IAAU,MAuHnB,IAAIO,GAAa,SAAoBC,GACnC,IAAIrkC,EAAMqkC,EAAKrkC,IACXkkC,EAAQG,EAAKH,MACb/hB,EAASkiB,EAAKliB,OACdmiB,EAAgBD,EAAKE,SACrBA,OAA6B,IAAlBD,EAA2B,IAAMA,EAC7B7C,GAAQzhC,GACdxD,SAAQ,SAAUgoC,GAC7B,IAAIC,EAAaD,EAAUpnC,MAAMmnC,GAC7BG,EAAMD,EAAWlnC,OACjBonC,EAAUF,EAAWC,EAAM,GAC3BE,EAAsB,MAAZD,EAAkB,IAAMZ,GAAKY,GAC3C,GAAKjB,GAAUkB,GAAf,CAEKV,IAAOA,EAAQC,MACpB,IAAI3C,EAAOkD,EAAM,EAAInD,GAAQuB,GAAW2B,GAAc,GACtDf,GAAUkB,GAAWlB,GAAUkB,GAASn/B,KAAI,SAAUo/B,GAIpD,QAFuB1iB,GAAS0iB,EAAO1iB,SAAWA,IAE1B0iB,EAAOX,QAAUA,GApP/C,SAAsBY,EAAIC,GAKxB,IAJA,IAAIC,EAAOF,EAAGvnC,QAAUwnC,EAAGxnC,OAASunC,EAAKC,EACrCE,EAAOH,EAAGvnC,QAAUwnC,EAAGxnC,OAASwnC,EAAKD,EACrCI,GAAU,EAEL5nC,EAAI,EAAGA,EAAI0nC,EAAKznC,OAAQD,KACA,IAA3B2nC,EAAK3+B,QAAQ0+B,EAAK1nC,MAAY4nC,GAAU,GAG9C,OAAOA,EA2O+CC,CAAaN,EAAOrD,KAAMA,GACnE,GAGFqD,UAMb,SAASO,GAAalnC,EAAO0S,EAASszB,GACpC,IAAImB,EAEJ,GAAIz0B,EAAQszB,QAAUA,GAA2B,QAAlBtzB,EAAQszB,MAAiB,CAItD,IAAK,IAAI/a,KAFTkc,EAAiBz0B,EAAQ4wB,KAAKjkC,OAAS,EAEzBkmC,GACRrkC,OAAOG,UAAU0T,eAAe5O,KAAKo/B,GAAOta,MACzCsa,GAAMta,IAAMvY,EAAQ4wB,KAAKl7B,SAAS6iB,IAAM,GAAKsa,GAAMta,KAAoC,IAA9BvY,EAAQ4wB,KAAKl7B,SAAS6iB,MAClFkc,GAAiB,IAMK,IAAxBz0B,EAAQ4wB,KAAKjkC,QAAiBkmC,GAAM,KAAQA,GAAM,KAAQA,GAAM,KAAQA,GAAM,OAAO4B,GAAuC,MAArBz0B,EAAQ00B,WAC1E,IAAnC10B,EAAQuR,OAAOjkB,EAAO0S,KACpB1S,EAAMkT,eAAgBlT,EAAMkT,iBAAsBlT,EAAMqnC,aAAc,EACtErnC,EAAMmT,iBAAiBnT,EAAMmT,kBAC7BnT,EAAMsnC,eAActnC,EAAMsnC,cAAe,KAOrD,SAAS,GAAStnC,GAChB,IAAIunC,EAAW/B,GAAU,KACrB1jC,EAAM9B,EAAM0mC,SAAW1mC,EAAM27B,OAAS37B,EAAMwnC,SAEhD,GAAKC,GAAQhlC,OAAO0D,KAAK1H,KAAMuB,GAA/B,CAsCA,GAnCY,KAAR8B,GAAsB,MAARA,IAAaA,EAAM,KAQL,IAA5B4jC,GAAUt9B,QAAQtG,IAAuB,MAARA,GAAa4jC,GAAU/iC,KAAKb,GAMjE,CAAC,UAAW,SAAU,WAAY,WAAWxD,SAAQ,SAAUopC,GAC7D,IAAIC,EAASzC,GAAYwC,GAErB1nC,EAAM0nC,KAA2C,IAA/BhC,GAAUt9B,QAAQu/B,GACtCjC,GAAU/iC,KAAKglC,IACL3nC,EAAM0nC,IAAYhC,GAAUt9B,QAAQu/B,IAAW,EACzDjC,GAAUjyB,OAAOiyB,GAAUt9B,QAAQu/B,GAAS,GACvB,YAAZD,GAAyB1nC,EAAM0nC,IAAiC,IAArBhC,GAAUrmC,SAKxDW,EAAM67B,SAAW77B,EAAM+7B,UAAY/7B,EAAM47B,SAC7C8J,GAAYA,GAAUtkB,MAAMskB,GAAUt9B,QAAQu/B,SAQhD7lC,KAAOyjC,GAAO,CAGhB,IAAK,IAAIE,KAFTF,GAAMzjC,IAAO,EAEC8iC,GACRA,GAAUa,KAAO3jC,IAAK2lC,GAAQhC,IAAK,GAGzC,IAAK8B,EAAU,OAIjB,IAAK,IAAIxhC,KAAKw/B,GACRrkC,OAAOG,UAAU0T,eAAe5O,KAAKo/B,GAAOx/B,KAC9Cw/B,GAAMx/B,GAAK/F,EAAMklC,GAAYn/B,KAW7B/F,EAAM4nC,oBAAsB5nC,EAAM47B,QAAW57B,EAAM67B,UAAY77B,EAAM4nC,iBAAiB,eACzD,IAA3BlC,GAAUt9B,QAAQ,KACpBs9B,GAAU/iC,KAAK,KAGc,IAA3B+iC,GAAUt9B,QAAQ,KACpBs9B,GAAU/iC,KAAK,IAGjB4iC,GAAM,KAAM,EACZA,GAAM,KAAM,GAId,IAAIS,EAAQC,KAEZ,GAAIsB,EACF,IAAK,IAAInoC,EAAI,EAAGA,EAAImoC,EAASloC,OAAQD,IAC/BmoC,EAASnoC,GAAG4mC,QAAUA,IAAyB,YAAfhmC,EAAMoH,MAAsBmgC,EAASnoC,GAAGyoC,SAA0B,UAAf7nC,EAAMoH,MAAoBmgC,EAASnoC,GAAG0oC,QAC3HZ,GAAalnC,EAAOunC,EAASnoC,GAAI4mC,GAMvC,GAAMlkC,KAAO0jC,GAEb,IAAK,IAAIuC,EAAK,EAAGA,EAAKvC,GAAU1jC,GAAKzC,OAAQ0oC,IAC3C,IAAmB,YAAf/nC,EAAMoH,MAAsBo+B,GAAU1jC,GAAKimC,GAAIF,SAA0B,UAAf7nC,EAAMoH,MAAoBo+B,GAAU1jC,GAAKimC,GAAID,QACrGtC,GAAU1jC,GAAKimC,GAAIjmC,IAAK,CAM1B,IALA,IAAI6kC,EAASnB,GAAU1jC,GAAKimC,GACxB1B,EAAWM,EAAON,SAClB2B,EAAcrB,EAAO7kC,IAAI5C,MAAMmnC,GAC/B4B,EAAmB,GAEdhgC,EAAI,EAAGA,EAAI+/B,EAAY3oC,OAAQ4I,IACtCggC,EAAiBtlC,KAAKkjC,GAAKmC,EAAY//B,KAGrCggC,EAAiBjgC,OAAOiD,KAAK,MAAQy6B,GAAU19B,OAAOiD,KAAK,KAE7Di8B,GAAalnC,EAAO2mC,EAAQX,KAYtC,SAASyB,GAAQ3lC,EAAKsP,EAAQ6S,GAC5ByhB,GAAY,GACZ,IAAIpjC,EAAOihC,GAAQzhC,GAEfwhC,EAAO,GACP0C,EAAQ,MAERrnB,EAAUxgB,SAEViB,EAAI,EACJ0oC,GAAQ,EACRD,GAAU,EACVxB,EAAW,IAoBf,SAlBet2B,IAAXkU,GAA0C,mBAAX7S,IACjC6S,EAAS7S,GAGoC,oBAA3ClQ,OAAOG,UAAUyf,SAAS3a,KAAKiL,KAC7BA,EAAO40B,QAAOA,EAAQ50B,EAAO40B,OAE7B50B,EAAOuN,UAASA,EAAUvN,EAAOuN,SAEjCvN,EAAO02B,QAAOA,EAAQ12B,EAAO02B,YAEV/3B,IAAnBqB,EAAOy2B,UAAuBA,EAAUz2B,EAAOy2B,SAEpB,iBAApBz2B,EAAOi1B,WAAuBA,EAAWj1B,EAAOi1B,WAGvC,iBAAXj1B,IAAqB40B,EAAQ50B,GAEjChS,EAAIkD,EAAKjD,OAAQD,IAGtBkkC,EAAO,IAFPxhC,EAAMQ,EAAKlD,GAAGF,MAAMmnC,IAIZhnC,OAAS,IAAGikC,EAAOD,GAAQuB,GAAW9iC,KAG9CA,EAAc,OADdA,EAAMA,EAAIA,EAAIzC,OAAS,IACH,IAAMwmC,GAAK/jC,MAGlB0jC,KAAYA,GAAU1jC,GAAO,IAE1C0jC,GAAU1jC,GAAKa,KAAK,CAClBmlC,MAAOA,EACPD,QAASA,EACT7B,MAAOA,EACP1C,KAAMA,EACN8D,SAAU9kC,EAAKlD,GACf6kB,OAAQA,EACRniB,IAAKQ,EAAKlD,GACVinC,SAAUA,SAKS,IAAZ1nB,IA9Db,SAAuBA,GACrB,OAAOinB,GAAoBx9B,QAAQuW,IAAY,EA6DRupB,CAAcvpB,IAAY/f,SAC/DgnC,GAAoBjjC,KAAKgc,GACzBwkB,GAASxkB,EAAS,WAAW,SAAU5Y,GACrC,GAASA,MAEXo9B,GAASvkC,OAAQ,SAAS,WACxB8mC,GAAY,MAEdvC,GAASxkB,EAAS,SAAS,SAAU5Y,GACnC,GAASA,GArTf,SAAuB/F,GACrB,IAAI8B,EAAM9B,EAAM0mC,SAAW1mC,EAAM27B,OAAS37B,EAAMwnC,SAE5CpoC,EAAIsmC,GAAUt9B,QAAQtG,GAe1B,GAZI1C,GAAK,GACPsmC,GAAUjyB,OAAOrU,EAAG,GAIlBY,EAAM8B,KAAmC,SAA5B9B,EAAM8B,IAAIsC,eACzBshC,GAAUjyB,OAAO,EAAGiyB,GAAUrmC,QAIpB,KAARyC,GAAsB,MAARA,IAAaA,EAAM,IAEjCA,KAAOyjC,GAGT,IAAK,IAAIE,KAFTF,GAAMzjC,IAAO,EAEC8iC,GACRA,GAAUa,KAAO3jC,IAAK2lC,GAAQhC,IAAK,GAgSvC0C,CAAcpiC,OAKpB,IAAIqiC,GAAO,CACTrC,SAAUA,GACVE,SAAUA,GACVoC,YAnVF,SAAqBrC,EAAOsC,GAC1B,IAAIC,EACAnpC,EAIJ,IAAK,IAAI0C,KAFJkkC,IAAOA,EAAQC,MAEJT,GACd,GAAItkC,OAAOG,UAAU0T,eAAe5O,KAAKq/B,GAAW1jC,GAGlD,IAFAymC,EAAW/C,GAAU1jC,GAEhB1C,EAAI,EAAGA,EAAImpC,EAASlpC,QACnBkpC,EAASnpC,GAAG4mC,QAAUA,EAAOuC,EAAS90B,OAAOrU,EAAG,GAAQA,IAM9D6mC,OAAeD,GAAOD,GAASuC,GAAY,QAmU/CE,mBAhXF,WACE,OAAO9C,GAAUtkB,MAAM,IAgXvBqnB,UA9VF,SAAmB/B,GAKjB,MAJuB,iBAAZA,IACTA,EAAUb,GAAKa,KAGsB,IAAhChB,GAAUt9B,QAAQs+B,IA0VzBjkC,OA5WF,SAAgBzC,GACd,IAAI8C,EAAS9C,EAAM8C,QAAU9C,EAAM0oC,WAC/BvkC,EAAUrB,EAAOqB,QACjBwkC,GAAO,EAMX,OAJI7lC,EAAO44B,oBAAkC,UAAZv3B,GAAmC,aAAZA,GAAsC,WAAZA,GAA0BrB,EAAOwV,YACjHqwB,GAAO,GAGFA,GAoWPC,OAvSF,SAAgBC,GAEd,GAAKA,GAIE,GAAItnC,MAAMmM,QAAQm7B,GAEvBA,EAASvqC,SAAQ,SAAUwqC,GACrBA,EAAKhnC,KAAKokC,GAAW4C,WAEtB,GAAwB,iBAAbD,EAEZA,EAAS/mC,KAAKokC,GAAW2C,QACxB,GAAwB,iBAAbA,EAAuB,CACvC,IAAK,IAAIE,EAAOhmC,UAAU1D,OAAQiG,EAAO,IAAI/D,MAAMwnC,EAAO,EAAIA,EAAO,EAAI,GAAIC,EAAO,EAAGA,EAAOD,EAAMC,IAClG1jC,EAAK0jC,EAAO,GAAKjmC,UAAUimC,GAK7B,IAAIhD,EAAQ1gC,EAAK,GACb2e,EAAS3e,EAAK,GAEG,mBAAV0gC,IACT/hB,EAAS+hB,EACTA,EAAQ,IAGVE,GAAW,CACTpkC,IAAK+mC,EACL7C,MAAOA,EACP/hB,OAAQA,EACRoiB,SAAU,YA9BZnlC,OAAOoB,KAAKkjC,IAAWlnC,SAAQ,SAAUwD,GACvC,cAAc0jC,GAAU1jC,QAsS9B,IAAK,IAAImG,MAAKmgC,GACRlnC,OAAOG,UAAU0T,eAAe5O,KAAKiiC,GAAMngC,MAC7Cw/B,GAAQx/B,IAAKmgC,GAAKngC,KAItB,GAAsB,oBAAXrJ,OAAwB,CACjC,IAAIqqC,GAAWrqC,OAAO6oC,QAEtBA,GAAQyB,WAAa,SAAUC,GAK7B,OAJIA,GAAQvqC,OAAO6oC,UAAYA,KAC7B7oC,OAAO6oC,QAAUwB,IAGZxB,IAGT7oC,OAAO6oC,QAAUA,GC9hBnB2B,M,YCTIC,EAA2B,GAG/B,SAASC,EAAoBC,GAE5B,GAAGF,EAAyBE,GAC3B,OAAOF,EAAyBE,GAAU5nC,QAG3C,IAAID,EAAS2nC,EAAyBE,GAAY,CAGjD5nC,QAAS,IAOV,OAHA6nC,EAAoBD,GAAUpjC,KAAKzE,EAAOC,QAASD,EAAQA,EAAOC,QAAS2nC,GAGpE5nC,EAAOC,QAIf2nC,EAAoBG,EAAID,EAIxBF,EAAoBte,EAAIA,MC5BxBse,EAAoBlxB,EAAI,CAACvW,EAAK6nC,IAAUxoC,OAAOG,UAAU0T,eAAe5O,KAAKtE,EAAK6nC,G,MCKlF,IAAIC,EAAkB,CACrBC,IAAK,GAGFC,EAAkB,CACrB,CAAC,KACD,CAAC,MAYEC,EAAuB9e,MAGvB+e,EAAuB,CAACC,EAA4B/pC,KAKvD,IAJA,IAGIspC,EAAUU,GAHTC,EAAUC,EAAaC,EAASC,GAAkBpqC,EAGhCb,EAAI,EAAGkrC,EAAW,GACpClrC,EAAI8qC,EAAS7qC,OAAQD,IACzB6qC,EAAUC,EAAS9qC,GAChBkqC,EAAoBlxB,EAAEuxB,EAAiBM,IAAYN,EAAgBM,IACrEK,EAAS3nC,KAAKgnC,EAAgBM,GAAS,IAExCN,EAAgBM,GAAW,EAE5B,IAAIV,KAAYY,EACZb,EAAoBlxB,EAAE+xB,EAAaZ,KACrCD,EAAoBG,EAAEF,GAAYY,EAAYZ,IAKhD,IAFGa,GAASA,EAAQd,GACjBU,GAA4BA,EAA2B/pC,GACpDqqC,EAASjrC,QACdirC,EAASzuB,OAATyuB,GAOD,OAHGD,GAAgBR,EAAgBlnC,KAAKC,MAAMinC,EAAiBQ,GAGxDP,KAGJS,EAAqB3vB,KAAmB,aAAIA,KAAmB,cAAK,GAIxE,SAAS4vB,IAER,IADA,IAAIlnB,EACIlkB,EAAI,EAAGA,EAAIyqC,EAAgBxqC,OAAQD,IAAK,CAG/C,IAFA,IAAIqrC,EAAiBZ,EAAgBzqC,GACjCsrC,GAAY,EACRC,EAAI,EAAGA,EAAIF,EAAeprC,OAAQsrC,IAAK,CAC9C,IAAIC,EAAQH,EAAeE,GACG,IAA3BhB,EAAgBiB,KAAcF,GAAY,GAE3CA,IACFb,EAAgBp2B,OAAOrU,IAAK,GAC5BkkB,EAASgmB,EAAoBA,EAAoBuB,EAAIJ,EAAe,KAOtE,OAJ8B,IAA3BZ,EAAgBxqC,SAClBiqC,EAAoBte,IACpBse,EAAoBte,EAAIA,OAElB1H,EArBRinB,EAAmBjsC,QAAQyrC,EAAqBe,KAAK,KAAM,IAC3DP,EAAmB5nC,KAAOonC,EAAqBe,KAAK,KAAMP,EAAmB5nC,KAAKmoC,KAAKP,IAsBvF,IAAIQ,EAAUzB,EAAoBte,EAClCse,EAAoBte,EAAI,KAEvBse,EAAoBte,EAAI+f,GAAW,CAAC/f,QAC5B8e,EAAuBU,O,GCnFhClB,EAAoBte,K","file":"/js/app.js","sourcesContent":["function isValidVersion(required, current) {\n  const requiredArray = required.split('.');\n  const currentArray = current.split('.');\n\n  for (let i = 0; i < requiredArray.length; i++) {\n    if (!currentArray[i] || currentArray[i] < requiredArray[i]) {\n      return false;\n    }\n  }\n\n  return true;\n}\nfunction beforeDomReady(callback) {\n  if (document.readyState === 'loading') {\n    document.addEventListener('readystatechange', () => {\n      if (document.readyState === 'interactive') {\n        callback();\n      }\n    });\n  } else {\n    callback();\n  }\n}\n\nclass Bridge {\n  init() {\n    // Tag all cloaked elements on first page load.\n    document.body.querySelectorAll('[x-cloak]').forEach(node => {\n      node.setAttribute('data-alpine-was-cloaked', '');\n    });\n    this.configureEventHandlers();\n  }\n\n  setMutationObserverState(state) {\n    if (!window.Alpine.version || !isValidVersion('2.4.0', window.Alpine.version)) {\n      throw new Error('Invalid Alpine version. Please use Alpine 2.4.0 or above');\n    }\n\n    window.Alpine.pauseMutationObserver = state;\n  }\n\n  configureEventHandlers() {\n    // Once Turbolinks finished is magic, we initialise Alpine on the new page\n    // and resume the observer\n    const initCallback = () => {\n      window.Alpine.discoverUninitializedComponents(el => {\n        window.Alpine.initializeComponent(el);\n      });\n      requestAnimationFrame(() => {\n        this.setMutationObserverState(false);\n      });\n    }; // Before swapping the body, clean up any element with x-turbolinks-cached\n    // which do not have any Alpine properties.\n    // Note, at this point all html fragments marked as data-turbolinks-permanent\n    // are already copied over from the previous page so they retain their listener\n    // and custom properties and we don't want to reset them.\n\n\n    const beforeRenderCallback = event => {\n      const newBody = event.data ? event.data.newBody : event.detail.newBody;\n      newBody.querySelectorAll('[data-alpine-generated-me],[x-cloak]').forEach(el => {\n        if (el.hasAttribute('x-cloak')) {\n          // When we get a new document body tag any cloaked elements so we can cloak\n          // them again before caching.\n          el.setAttribute('data-alpine-was-cloaked', '');\n        }\n\n        if (el.hasAttribute('data-alpine-generated-me')) {\n          el.removeAttribute('data-alpine-generated-me');\n\n          if (typeof el.__x_for_key === 'undefined' && typeof el.__x_inserted_me === 'undefined') {\n            el.remove();\n          }\n        }\n      });\n    }; // Pause the the mutation observer to avoid data races, it will be resumed by the turbolinks:load event.\n    // We mark as `data-alpine-generated-m` all elements that are crated by an Alpine templating directives.\n    // The reason is that turbolinks caches pages using cloneNode which removes listeners and custom properties\n    // So we need to propagate this infomation using a HTML attribute. I know, not ideal but I could not think\n    // of a better option.\n    // Note, we can't remove any Alpine generated element as yet because if they live inside an element\n    // marked as data-turbolinks-permanent they need to be copied into the next page.\n    // The coping process happens somewhere between before-cache and before-render.\n\n\n    const beforeCacheCallback = () => {\n      this.setMutationObserverState(true);\n      document.body.querySelectorAll('[x-for],[x-if],[data-alpine-was-cloaked]').forEach(el => {\n        // Cloak any elements again that were tagged when the page was loaded\n        if (el.hasAttribute('data-alpine-was-cloaked')) {\n          el.setAttribute('x-cloak', '');\n          el.removeAttribute('data-alpine-was-cloaked');\n        }\n\n        if (el.hasAttribute('x-for')) {\n          let nextEl = el.nextElementSibling;\n\n          while (nextEl && typeof nextEl.__x_for_key !== 'undefined') {\n            const currEl = nextEl;\n            nextEl = nextEl.nextElementSibling;\n            currEl.setAttribute('data-alpine-generated-me', true);\n          }\n        } else if (el.hasAttribute('x-if')) {\n          const ifEl = el.nextElementSibling;\n\n          if (ifEl && typeof ifEl.__x_inserted_me !== 'undefined') {\n            ifEl.setAttribute('data-alpine-generated-me', true);\n          }\n        }\n      });\n    };\n\n    document.addEventListener('turbo:load', initCallback);\n    document.addEventListener('turbolinks:load', initCallback);\n    document.addEventListener('turbo:before-render', beforeRenderCallback);\n    document.addEventListener('turbolinks:before-render', beforeRenderCallback);\n    document.addEventListener('turbo:before-cache', beforeCacheCallback);\n    document.addEventListener('turbolinks:before-cache', beforeCacheCallback);\n  }\n\n}\n\nif (window.Alpine) {\n  console.error('Alpine-turbo-drive-adapter must be included before AlpineJs');\n} // Polyfill for legacy browsers\n\n\nif (!Object.getOwnPropertyDescriptor(NodeList.prototype, 'forEach')) {\n  Object.defineProperty(NodeList.prototype, 'forEach', Object.getOwnPropertyDescriptor(Array.prototype, 'forEach'));\n} // To better suport x-cloak, we need to init the library when the DOM\n// has been downloaded but before Alpine kicks in\n\n\nbeforeDomReady(() => {\n  const bridge = new Bridge();\n  bridge.init();\n});\n","(function (global, factory) {\n  typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n  typeof define === 'function' && define.amd ? define(factory) :\n  (global = global || self, global.Alpine = factory());\n}(this, (function () { 'use strict';\n\n  function _defineProperty(obj, key, value) {\n    if (key in obj) {\n      Object.defineProperty(obj, key, {\n        value: value,\n        enumerable: true,\n        configurable: true,\n        writable: true\n      });\n    } else {\n      obj[key] = value;\n    }\n\n    return obj;\n  }\n\n  function ownKeys(object, enumerableOnly) {\n    var keys = Object.keys(object);\n\n    if (Object.getOwnPropertySymbols) {\n      var symbols = Object.getOwnPropertySymbols(object);\n      if (enumerableOnly) symbols = symbols.filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n      });\n      keys.push.apply(keys, symbols);\n    }\n\n    return keys;\n  }\n\n  function _objectSpread2(target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i] != null ? arguments[i] : {};\n\n      if (i % 2) {\n        ownKeys(Object(source), true).forEach(function (key) {\n          _defineProperty(target, key, source[key]);\n        });\n      } else if (Object.getOwnPropertyDescriptors) {\n        Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n      } else {\n        ownKeys(Object(source)).forEach(function (key) {\n          Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n        });\n      }\n    }\n\n    return target;\n  }\n\n  // Thanks @stimulus:\n  // https://github.com/stimulusjs/stimulus/blob/master/packages/%40stimulus/core/src/application.ts\n  function domReady() {\n    return new Promise(resolve => {\n      if (document.readyState == \"loading\") {\n        document.addEventListener(\"DOMContentLoaded\", resolve);\n      } else {\n        resolve();\n      }\n    });\n  }\n  function arrayUnique(array) {\n    return Array.from(new Set(array));\n  }\n  function isTesting() {\n    return navigator.userAgent.includes(\"Node.js\") || navigator.userAgent.includes(\"jsdom\");\n  }\n  function checkedAttrLooseCompare(valueA, valueB) {\n    return valueA == valueB;\n  }\n  function warnIfMalformedTemplate(el, directive) {\n    if (el.tagName.toLowerCase() !== 'template') {\n      console.warn(`Alpine: [${directive}] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#${directive}`);\n    } else if (el.content.childElementCount !== 1) {\n      console.warn(`Alpine: <template> tag with [${directive}] encountered with multiple element roots. Make sure <template> only has a single child element.`);\n    }\n  }\n  function kebabCase(subject) {\n    return subject.replace(/([a-z])([A-Z])/g, '$1-$2').replace(/[_\\s]/, '-').toLowerCase();\n  }\n  function camelCase(subject) {\n    return subject.toLowerCase().replace(/-(\\w)/g, (match, char) => char.toUpperCase());\n  }\n  function walk(el, callback) {\n    if (callback(el) === false) return;\n    let node = el.firstElementChild;\n\n    while (node) {\n      walk(node, callback);\n      node = node.nextElementSibling;\n    }\n  }\n  function debounce(func, wait) {\n    var timeout;\n    return function () {\n      var context = this,\n          args = arguments;\n\n      var later = function later() {\n        timeout = null;\n        func.apply(context, args);\n      };\n\n      clearTimeout(timeout);\n      timeout = setTimeout(later, wait);\n    };\n  }\n\n  const handleError = (el, expression, error) => {\n    console.warn(`Alpine Error: \"${error}\"\\n\\nExpression: \"${expression}\"\\nElement:`, el);\n\n    if (!isTesting()) {\n      throw error;\n    }\n  };\n\n  function tryCatch(cb, {\n    el,\n    expression\n  }) {\n    try {\n      const value = cb();\n      return value instanceof Promise ? value.catch(e => handleError(el, expression, e)) : value;\n    } catch (e) {\n      handleError(el, expression, e);\n    }\n  }\n\n  function saferEval(el, expression, dataContext, additionalHelperVariables = {}) {\n    return tryCatch(() => {\n      if (typeof expression === 'function') {\n        return expression.call(dataContext);\n      }\n\n      return new Function(['$data', ...Object.keys(additionalHelperVariables)], `var __alpine_result; with($data) { __alpine_result = ${expression} }; return __alpine_result`)(dataContext, ...Object.values(additionalHelperVariables));\n    }, {\n      el,\n      expression\n    });\n  }\n  function saferEvalNoReturn(el, expression, dataContext, additionalHelperVariables = {}) {\n    return tryCatch(() => {\n      if (typeof expression === 'function') {\n        return Promise.resolve(expression.call(dataContext, additionalHelperVariables['$event']));\n      }\n\n      let AsyncFunction = Function;\n      /* MODERN-ONLY:START */\n\n      AsyncFunction = Object.getPrototypeOf(async function () {}).constructor;\n      /* MODERN-ONLY:END */\n      // For the cases when users pass only a function reference to the caller: `x-on:click=\"foo\"`\n      // Where \"foo\" is a function. Also, we'll pass the function the event instance when we call it.\n\n      if (Object.keys(dataContext).includes(expression)) {\n        let methodReference = new Function(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { return ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables));\n\n        if (typeof methodReference === 'function') {\n          return Promise.resolve(methodReference.call(dataContext, additionalHelperVariables['$event']));\n        } else {\n          return Promise.resolve();\n        }\n      }\n\n      return Promise.resolve(new AsyncFunction(['dataContext', ...Object.keys(additionalHelperVariables)], `with(dataContext) { ${expression} }`)(dataContext, ...Object.values(additionalHelperVariables)));\n    }, {\n      el,\n      expression\n    });\n  }\n  const xAttrRE = /^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\\b/;\n  function isXAttr(attr) {\n    const name = replaceAtAndColonWithStandardSyntax(attr.name);\n    return xAttrRE.test(name);\n  }\n  function getXAttrs(el, component, type) {\n    let directives = Array.from(el.attributes).filter(isXAttr).map(parseHtmlAttribute); // Get an object of directives from x-spread.\n\n    let spreadDirective = directives.filter(directive => directive.type === 'spread')[0];\n\n    if (spreadDirective) {\n      let spreadObject = saferEval(el, spreadDirective.expression, component.$data); // Add x-spread directives to the pile of existing directives.\n\n      directives = directives.concat(Object.entries(spreadObject).map(([name, value]) => parseHtmlAttribute({\n        name,\n        value\n      })));\n    }\n\n    if (type) return directives.filter(i => i.type === type);\n    return sortDirectives(directives);\n  }\n\n  function sortDirectives(directives) {\n    let directiveOrder = ['bind', 'model', 'show', 'catch-all'];\n    return directives.sort((a, b) => {\n      let typeA = directiveOrder.indexOf(a.type) === -1 ? 'catch-all' : a.type;\n      let typeB = directiveOrder.indexOf(b.type) === -1 ? 'catch-all' : b.type;\n      return directiveOrder.indexOf(typeA) - directiveOrder.indexOf(typeB);\n    });\n  }\n\n  function parseHtmlAttribute({\n    name,\n    value\n  }) {\n    const normalizedName = replaceAtAndColonWithStandardSyntax(name);\n    const typeMatch = normalizedName.match(xAttrRE);\n    const valueMatch = normalizedName.match(/:([a-zA-Z0-9\\-:]+)/);\n    const modifiers = normalizedName.match(/\\.[^.\\]]+(?=[^\\]]*$)/g) || [];\n    return {\n      type: typeMatch ? typeMatch[1] : null,\n      value: valueMatch ? valueMatch[1] : null,\n      modifiers: modifiers.map(i => i.replace('.', '')),\n      expression: value\n    };\n  }\n  function isBooleanAttr(attrName) {\n    // As per HTML spec table https://html.spec.whatwg.org/multipage/indices.html#attributes-3:boolean-attribute\n    // Array roughly ordered by estimated usage\n    const booleanAttributes = ['disabled', 'checked', 'required', 'readonly', 'hidden', 'open', 'selected', 'autofocus', 'itemscope', 'multiple', 'novalidate', 'allowfullscreen', 'allowpaymentrequest', 'formnovalidate', 'autoplay', 'controls', 'loop', 'muted', 'playsinline', 'default', 'ismap', 'reversed', 'async', 'defer', 'nomodule'];\n    return booleanAttributes.includes(attrName);\n  }\n  function replaceAtAndColonWithStandardSyntax(name) {\n    if (name.startsWith('@')) {\n      return name.replace('@', 'x-on:');\n    } else if (name.startsWith(':')) {\n      return name.replace(':', 'x-bind:');\n    }\n\n    return name;\n  }\n  function convertClassStringToArray(classList, filterFn = Boolean) {\n    return classList.split(' ').filter(filterFn);\n  }\n  const TRANSITION_TYPE_IN = 'in';\n  const TRANSITION_TYPE_OUT = 'out';\n  const TRANSITION_CANCELLED = 'cancelled';\n  function transitionIn(el, show, reject, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return show();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_IN) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0]; // If this is triggered by a x-show.transition.\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers; // If x-show.transition.out, we'll skip the \"in\" transition.\n\n      if (modifiers.includes('out') && !modifiers.includes('in')) return show();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out'); // If x-show.transition.in...out... only use \"in\" related modifiers for this transition.\n\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index < modifiers.indexOf('out')) : modifiers;\n      transitionHelperIn(el, modifiers, show, reject); // Otherwise, we can assume x-transition:enter.\n    } else if (attrs.some(attr => ['enter', 'enter-start', 'enter-end'].includes(attr.value))) {\n      transitionClassesIn(el, component, attrs, show, reject);\n    } else {\n      // If neither, just show that damn thing.\n      show();\n    }\n  }\n  function transitionOut(el, hide, reject, component, forceSkip = false) {\n    // We don't want to transition on the initial page load.\n    if (forceSkip) return hide();\n\n    if (el.__x_transition && el.__x_transition.type === TRANSITION_TYPE_OUT) {\n      // there is already a similar transition going on, this was probably triggered by\n      // a change in a different property, let's just leave the previous one doing its job\n      return;\n    }\n\n    const attrs = getXAttrs(el, component, 'transition');\n    const showAttr = getXAttrs(el, component, 'show')[0];\n\n    if (showAttr && showAttr.modifiers.includes('transition')) {\n      let modifiers = showAttr.modifiers;\n      if (modifiers.includes('in') && !modifiers.includes('out')) return hide();\n      const settingBothSidesOfTransition = modifiers.includes('in') && modifiers.includes('out');\n      modifiers = settingBothSidesOfTransition ? modifiers.filter((i, index) => index > modifiers.indexOf('out')) : modifiers;\n      transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hide, reject);\n    } else if (attrs.some(attr => ['leave', 'leave-start', 'leave-end'].includes(attr.value))) {\n      transitionClassesOut(el, component, attrs, hide, reject);\n    } else {\n      hide();\n    }\n  }\n  function transitionHelperIn(el, modifiers, showCallback, reject) {\n    // Default values inspired by: https://material.io/design/motion/speed.html#duration\n    const styleValues = {\n      duration: modifierValue(modifiers, 'duration', 150),\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      },\n      second: {\n        opacity: 1,\n        scale: 100\n      }\n    };\n    transitionHelper(el, modifiers, showCallback, () => {}, reject, styleValues, TRANSITION_TYPE_IN);\n  }\n  function transitionHelperOut(el, modifiers, settingBothSidesOfTransition, hideCallback, reject) {\n    // Make the \"out\" transition .5x slower than the \"in\". (Visually better)\n    // HOWEVER, if they explicitly set a duration for the \"out\" transition,\n    // use that.\n    const duration = settingBothSidesOfTransition ? modifierValue(modifiers, 'duration', 150) : modifierValue(modifiers, 'duration', 150) / 2;\n    const styleValues = {\n      duration: duration,\n      origin: modifierValue(modifiers, 'origin', 'center'),\n      first: {\n        opacity: 1,\n        scale: 100\n      },\n      second: {\n        opacity: 0,\n        scale: modifierValue(modifiers, 'scale', 95)\n      }\n    };\n    transitionHelper(el, modifiers, () => {}, hideCallback, reject, styleValues, TRANSITION_TYPE_OUT);\n  }\n\n  function modifierValue(modifiers, key, fallback) {\n    // If the modifier isn't present, use the default.\n    if (modifiers.indexOf(key) === -1) return fallback; // If it IS present, grab the value after it: x-show.transition.duration.500ms\n\n    const rawValue = modifiers[modifiers.indexOf(key) + 1];\n    if (!rawValue) return fallback;\n\n    if (key === 'scale') {\n      // Check if the very next value is NOT a number and return the fallback.\n      // If x-show.transition.scale, we'll use the default scale value.\n      // That is how a user opts out of the opacity transition.\n      if (!isNumeric(rawValue)) return fallback;\n    }\n\n    if (key === 'duration') {\n      // Support x-show.transition.duration.500ms && duration.500\n      let match = rawValue.match(/([0-9]+)ms/);\n      if (match) return match[1];\n    }\n\n    if (key === 'origin') {\n      // Support chaining origin directions: x-show.transition.top.right\n      if (['top', 'right', 'left', 'center', 'bottom'].includes(modifiers[modifiers.indexOf(key) + 2])) {\n        return [rawValue, modifiers[modifiers.indexOf(key) + 2]].join(' ');\n      }\n    }\n\n    return rawValue;\n  }\n\n  function transitionHelper(el, modifiers, hook1, hook2, reject, styleValues, type) {\n    // clear the previous transition if exists to avoid caching the wrong styles\n    if (el.__x_transition) {\n      el.__x_transition.cancel && el.__x_transition.cancel();\n    } // If the user set these style values, we'll put them back when we're done with them.\n\n\n    const opacityCache = el.style.opacity;\n    const transformCache = el.style.transform;\n    const transformOriginCache = el.style.transformOrigin; // If no modifiers are present: x-show.transition, we'll default to both opacity and scale.\n\n    const noModifiers = !modifiers.includes('opacity') && !modifiers.includes('scale');\n    const transitionOpacity = noModifiers || modifiers.includes('opacity');\n    const transitionScale = noModifiers || modifiers.includes('scale'); // These are the explicit stages of a transition (same stages for in and for out).\n    // This way you can get a birds eye view of the hooks, and the differences\n    // between them.\n\n    const stages = {\n      start() {\n        if (transitionOpacity) el.style.opacity = styleValues.first.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.first.scale / 100})`;\n      },\n\n      during() {\n        if (transitionScale) el.style.transformOrigin = styleValues.origin;\n        el.style.transitionProperty = [transitionOpacity ? `opacity` : ``, transitionScale ? `transform` : ``].join(' ').trim();\n        el.style.transitionDuration = `${styleValues.duration / 1000}s`;\n        el.style.transitionTimingFunction = `cubic-bezier(0.4, 0.0, 0.2, 1)`;\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        if (transitionOpacity) el.style.opacity = styleValues.second.opacity;\n        if (transitionScale) el.style.transform = `scale(${styleValues.second.scale / 100})`;\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        if (transitionOpacity) el.style.opacity = opacityCache;\n        if (transitionScale) el.style.transform = transformCache;\n        if (transitionScale) el.style.transformOrigin = transformOriginCache;\n        el.style.transitionProperty = null;\n        el.style.transitionDuration = null;\n        el.style.transitionTimingFunction = null;\n      }\n\n    };\n    transition(el, stages, type, reject);\n  }\n\n  const ensureStringExpression = (expression, el, component) => {\n    return typeof expression === 'function' ? component.evaluateReturnExpression(el, expression) : expression;\n  };\n\n  function transitionClassesIn(el, component, directives, showCallback, reject) {\n    const enter = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter') || {\n      expression: ''\n    }).expression, el, component));\n    const enterStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-start') || {\n      expression: ''\n    }).expression, el, component));\n    const enterEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'enter-end') || {\n      expression: ''\n    }).expression, el, component));\n    transitionClasses(el, enter, enterStart, enterEnd, showCallback, () => {}, TRANSITION_TYPE_IN, reject);\n  }\n  function transitionClassesOut(el, component, directives, hideCallback, reject) {\n    const leave = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave') || {\n      expression: ''\n    }).expression, el, component));\n    const leaveStart = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave-start') || {\n      expression: ''\n    }).expression, el, component));\n    const leaveEnd = convertClassStringToArray(ensureStringExpression((directives.find(i => i.value === 'leave-end') || {\n      expression: ''\n    }).expression, el, component));\n    transitionClasses(el, leave, leaveStart, leaveEnd, () => {}, hideCallback, TRANSITION_TYPE_OUT, reject);\n  }\n  function transitionClasses(el, classesDuring, classesStart, classesEnd, hook1, hook2, type, reject) {\n    // clear the previous transition if exists to avoid caching the wrong classes\n    if (el.__x_transition) {\n      el.__x_transition.cancel && el.__x_transition.cancel();\n    }\n\n    const originalClasses = el.__x_original_classes || [];\n    const stages = {\n      start() {\n        el.classList.add(...classesStart);\n      },\n\n      during() {\n        el.classList.add(...classesDuring);\n      },\n\n      show() {\n        hook1();\n      },\n\n      end() {\n        // Don't remove classes that were in the original class attribute.\n        el.classList.remove(...classesStart.filter(i => !originalClasses.includes(i)));\n        el.classList.add(...classesEnd);\n      },\n\n      hide() {\n        hook2();\n      },\n\n      cleanup() {\n        el.classList.remove(...classesDuring.filter(i => !originalClasses.includes(i)));\n        el.classList.remove(...classesEnd.filter(i => !originalClasses.includes(i)));\n      }\n\n    };\n    transition(el, stages, type, reject);\n  }\n  function transition(el, stages, type, reject) {\n    const finish = once(() => {\n      stages.hide(); // Adding an \"isConnected\" check, in case the callback\n      // removed the element from the DOM.\n\n      if (el.isConnected) {\n        stages.cleanup();\n      }\n\n      delete el.__x_transition;\n    });\n    el.__x_transition = {\n      // Set transition type so we can avoid clearing transition if the direction is the same\n      type: type,\n      // create a callback for the last stages of the transition so we can call it\n      // from different point and early terminate it. Once will ensure that function\n      // is only called one time.\n      cancel: once(() => {\n        reject(TRANSITION_CANCELLED);\n        finish();\n      }),\n      finish,\n      // This store the next animation frame so we can cancel it\n      nextFrame: null\n    };\n    stages.start();\n    stages.during();\n    el.__x_transition.nextFrame = requestAnimationFrame(() => {\n      // Note: Safari's transitionDuration property will list out comma separated transition durations\n      // for every single transition property. Let's grab the first one and call it a day.\n      let duration = Number(getComputedStyle(el).transitionDuration.replace(/,.*/, '').replace('s', '')) * 1000;\n\n      if (duration === 0) {\n        duration = Number(getComputedStyle(el).animationDuration.replace('s', '')) * 1000;\n      }\n\n      stages.show();\n      el.__x_transition.nextFrame = requestAnimationFrame(() => {\n        stages.end();\n        setTimeout(el.__x_transition.finish, duration);\n      });\n    });\n  }\n  function isNumeric(subject) {\n    return !Array.isArray(subject) && !isNaN(subject);\n  } // Thanks @vuejs\n  // https://github.com/vuejs/vue/blob/4de4649d9637262a9b007720b59f80ac72a5620c/src/shared/util.js\n\n  function once(callback) {\n    let called = false;\n    return function () {\n      if (!called) {\n        called = true;\n        callback.apply(this, arguments);\n      }\n    };\n  }\n\n  function handleForDirective(component, templateEl, expression, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(templateEl, 'x-for');\n    let iteratorNames = typeof expression === 'function' ? parseForExpression(component.evaluateReturnExpression(templateEl, expression)) : parseForExpression(expression);\n    let items = evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, templateEl, iteratorNames, extraVars); // As we walk the array, we'll also walk the DOM (updating/creating as we go).\n\n    let currentEl = templateEl;\n    items.forEach((item, index) => {\n      let iterationScopeVariables = getIterationScopeVariables(iteratorNames, item, index, items, extraVars());\n      let currentKey = generateKeyForIteration(component, templateEl, index, iterationScopeVariables);\n      let nextEl = lookAheadForMatchingKeyedElementAndMoveItIfFound(currentEl.nextElementSibling, currentKey); // If we haven't found a matching key, insert the element at the current position.\n\n      if (!nextEl) {\n        nextEl = addElementInLoopAfterCurrentEl(templateEl, currentEl); // And transition it in if it's not the first page load.\n\n        transitionIn(nextEl, () => {}, () => {}, component, initialUpdate);\n        nextEl.__x_for = iterationScopeVariables;\n        component.initializeElements(nextEl, () => nextEl.__x_for); // Otherwise update the element we found.\n      } else {\n        // Temporarily remove the key indicator to allow the normal \"updateElements\" to work.\n        delete nextEl.__x_for_key;\n        nextEl.__x_for = iterationScopeVariables;\n        component.updateElements(nextEl, () => nextEl.__x_for);\n      }\n\n      currentEl = nextEl;\n      currentEl.__x_for_key = currentKey;\n    });\n    removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component);\n  } // This was taken from VueJS 2.* core. Thanks Vue!\n\n  function parseForExpression(expression) {\n    let forIteratorRE = /,([^,\\}\\]]*)(?:,([^,\\}\\]]*))?$/;\n    let stripParensRE = /^\\(|\\)$/g;\n    let forAliasRE = /([\\s\\S]*?)\\s+(?:in|of)\\s+([\\s\\S]*)/;\n    let inMatch = expression.match(forAliasRE);\n    if (!inMatch) return;\n    let res = {};\n    res.items = inMatch[2].trim();\n    let item = inMatch[1].trim().replace(stripParensRE, '');\n    let iteratorMatch = item.match(forIteratorRE);\n\n    if (iteratorMatch) {\n      res.item = item.replace(forIteratorRE, '').trim();\n      res.index = iteratorMatch[1].trim();\n\n      if (iteratorMatch[2]) {\n        res.collection = iteratorMatch[2].trim();\n      }\n    } else {\n      res.item = item;\n    }\n\n    return res;\n  }\n\n  function getIterationScopeVariables(iteratorNames, item, index, items, extraVars) {\n    // We must create a new object, so each iteration has a new scope\n    let scopeVariables = extraVars ? _objectSpread2({}, extraVars) : {};\n    scopeVariables[iteratorNames.item] = item;\n    if (iteratorNames.index) scopeVariables[iteratorNames.index] = index;\n    if (iteratorNames.collection) scopeVariables[iteratorNames.collection] = items;\n    return scopeVariables;\n  }\n\n  function generateKeyForIteration(component, el, index, iterationScopeVariables) {\n    let bindKeyAttribute = getXAttrs(el, component, 'bind').filter(attr => attr.value === 'key')[0]; // If the dev hasn't specified a key, just return the index of the iteration.\n\n    if (!bindKeyAttribute) return index;\n    return component.evaluateReturnExpression(el, bindKeyAttribute.expression, () => iterationScopeVariables);\n  }\n\n  function evaluateItemsAndReturnEmptyIfXIfIsPresentAndFalseOnElement(component, el, iteratorNames, extraVars) {\n    let ifAttribute = getXAttrs(el, component, 'if')[0];\n\n    if (ifAttribute && !component.evaluateReturnExpression(el, ifAttribute.expression)) {\n      return [];\n    }\n\n    let items = component.evaluateReturnExpression(el, iteratorNames.items, extraVars); // This adds support for the `i in n` syntax.\n\n    if (isNumeric(items) && items > 0) {\n      items = Array.from(Array(items).keys(), i => i + 1);\n    }\n\n    return items;\n  }\n\n  function addElementInLoopAfterCurrentEl(templateEl, currentEl) {\n    let clone = document.importNode(templateEl.content, true);\n    currentEl.parentElement.insertBefore(clone, currentEl.nextElementSibling);\n    return currentEl.nextElementSibling;\n  }\n\n  function lookAheadForMatchingKeyedElementAndMoveItIfFound(nextEl, currentKey) {\n    if (!nextEl) return; // If we are already past the x-for generated elements, we don't need to look ahead.\n\n    if (nextEl.__x_for_key === undefined) return; // If the the key's DO match, no need to look ahead.\n\n    if (nextEl.__x_for_key === currentKey) return nextEl; // If they don't, we'll look ahead for a match.\n    // If we find it, we'll move it to the current position in the loop.\n\n    let tmpNextEl = nextEl;\n\n    while (tmpNextEl) {\n      if (tmpNextEl.__x_for_key === currentKey) {\n        return tmpNextEl.parentElement.insertBefore(tmpNextEl, nextEl);\n      }\n\n      tmpNextEl = tmpNextEl.nextElementSibling && tmpNextEl.nextElementSibling.__x_for_key !== undefined ? tmpNextEl.nextElementSibling : false;\n    }\n  }\n\n  function removeAnyLeftOverElementsFromPreviousUpdate(currentEl, component) {\n    var nextElementFromOldLoop = currentEl.nextElementSibling && currentEl.nextElementSibling.__x_for_key !== undefined ? currentEl.nextElementSibling : false;\n\n    while (nextElementFromOldLoop) {\n      let nextElementFromOldLoopImmutable = nextElementFromOldLoop;\n      let nextSibling = nextElementFromOldLoop.nextElementSibling;\n      transitionOut(nextElementFromOldLoop, () => {\n        nextElementFromOldLoopImmutable.remove();\n      }, () => {}, component);\n      nextElementFromOldLoop = nextSibling && nextSibling.__x_for_key !== undefined ? nextSibling : false;\n    }\n  }\n\n  function handleAttributeBindingDirective(component, el, attrName, expression, extraVars, attrType, modifiers) {\n    var value = component.evaluateReturnExpression(el, expression, extraVars);\n\n    if (attrName === 'value') {\n      if (Alpine.ignoreFocusedForValueBinding && document.activeElement.isSameNode(el)) return; // If nested model key is undefined, set the default value to empty string.\n\n      if (value === undefined && expression.match(/\\./)) {\n        value = '';\n      }\n\n      if (el.type === 'radio') {\n        // Set radio value from x-bind:value, if no \"value\" attribute exists.\n        // If there are any initial state values, radio will have a correct\n        // \"checked\" value since x-bind:value is processed before x-model.\n        if (el.attributes.value === undefined && attrType === 'bind') {\n          el.value = value;\n        } else if (attrType !== 'bind') {\n          el.checked = checkedAttrLooseCompare(el.value, value);\n        }\n      } else if (el.type === 'checkbox') {\n        // If we are explicitly binding a string to the :value, set the string,\n        // If the value is a boolean, leave it alone, it will be set to \"on\"\n        // automatically.\n        if (typeof value !== 'boolean' && ![null, undefined].includes(value) && attrType === 'bind') {\n          el.value = String(value);\n        } else if (attrType !== 'bind') {\n          if (Array.isArray(value)) {\n            // I'm purposely not using Array.includes here because it's\n            // strict, and because of Numeric/String mis-casting, I\n            // want the \"includes\" to be \"fuzzy\".\n            el.checked = value.some(val => checkedAttrLooseCompare(val, el.value));\n          } else {\n            el.checked = !!value;\n          }\n        }\n      } else if (el.tagName === 'SELECT') {\n        updateSelect(el, value);\n      } else {\n        if (el.value === value) return;\n        el.value = value;\n      }\n    } else if (attrName === 'class') {\n      if (Array.isArray(value)) {\n        const originalClasses = el.__x_original_classes || [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(value)).join(' '));\n      } else if (typeof value === 'object') {\n        // Sorting the keys / class names by their boolean value will ensure that\n        // anything that evaluates to `false` and needs to remove classes is run first.\n        const keysSortedByBooleanValue = Object.keys(value).sort((a, b) => value[a] - value[b]);\n        keysSortedByBooleanValue.forEach(classNames => {\n          if (value[classNames]) {\n            convertClassStringToArray(classNames).forEach(className => el.classList.add(className));\n          } else {\n            convertClassStringToArray(classNames).forEach(className => el.classList.remove(className));\n          }\n        });\n      } else {\n        const originalClasses = el.__x_original_classes || [];\n        const newClasses = value ? convertClassStringToArray(value) : [];\n        el.setAttribute('class', arrayUnique(originalClasses.concat(newClasses)).join(' '));\n      }\n    } else {\n      attrName = modifiers.includes('camel') ? camelCase(attrName) : attrName; // If an attribute's bound value is null, undefined or false, remove the attribute\n\n      if ([null, undefined, false].includes(value)) {\n        el.removeAttribute(attrName);\n      } else {\n        isBooleanAttr(attrName) ? setIfChanged(el, attrName, attrName) : setIfChanged(el, attrName, value);\n      }\n    }\n  }\n\n  function setIfChanged(el, attrName, value) {\n    if (el.getAttribute(attrName) != value) {\n      el.setAttribute(attrName, value);\n    }\n  }\n\n  function updateSelect(el, value) {\n    const arrayWrappedValue = [].concat(value).map(value => {\n      return value + '';\n    });\n    Array.from(el.options).forEach(option => {\n      option.selected = arrayWrappedValue.includes(option.value || option.text);\n    });\n  }\n\n  function handleTextDirective(el, output, expression) {\n    // If nested model key is undefined, set the default value to empty string.\n    if (output === undefined && expression.match(/\\./)) {\n      output = '';\n    }\n\n    el.textContent = output;\n  }\n\n  function handleHtmlDirective(component, el, expression, extraVars) {\n    el.innerHTML = component.evaluateReturnExpression(el, expression, extraVars);\n  }\n\n  function handleShowDirective(component, el, value, modifiers, initialUpdate = false) {\n    const hide = () => {\n      el.style.display = 'none';\n      el.__x_is_shown = false;\n    };\n\n    const show = () => {\n      if (el.style.length === 1 && el.style.display === 'none') {\n        el.removeAttribute('style');\n      } else {\n        el.style.removeProperty('display');\n      }\n\n      el.__x_is_shown = true;\n    };\n\n    if (initialUpdate === true) {\n      if (value) {\n        show();\n      } else {\n        hide();\n      }\n\n      return;\n    }\n\n    const handle = (resolve, reject) => {\n      if (value) {\n        if (el.style.display === 'none' || el.__x_transition) {\n          transitionIn(el, () => {\n            show();\n          }, reject, component);\n        }\n\n        resolve(() => {});\n      } else {\n        if (el.style.display !== 'none') {\n          transitionOut(el, () => {\n            resolve(() => {\n              hide();\n            });\n          }, reject, component);\n        } else {\n          resolve(() => {});\n        }\n      }\n    }; // The working of x-show is a bit complex because we need to\n    // wait for any child transitions to finish before hiding\n    // some element. Also, this has to be done recursively.\n    // If x-show.immediate, foregoe the waiting.\n\n\n    if (modifiers.includes('immediate')) {\n      handle(finish => finish(), () => {});\n      return;\n    } // x-show is encountered during a DOM tree walk. If an element\n    // we encounter is NOT a child of another x-show element we\n    // can execute the previous x-show stack (if one exists).\n\n\n    if (component.showDirectiveLastElement && !component.showDirectiveLastElement.contains(el)) {\n      component.executeAndClearRemainingShowDirectiveStack();\n    }\n\n    component.showDirectiveStack.push(handle);\n    component.showDirectiveLastElement = el;\n  }\n\n  function handleIfDirective(component, el, expressionResult, initialUpdate, extraVars) {\n    warnIfMalformedTemplate(el, 'x-if');\n    const elementHasAlreadyBeenAdded = el.nextElementSibling && el.nextElementSibling.__x_inserted_me === true;\n\n    if (expressionResult && (!elementHasAlreadyBeenAdded || el.__x_transition)) {\n      const clone = document.importNode(el.content, true);\n      el.parentElement.insertBefore(clone, el.nextElementSibling);\n      transitionIn(el.nextElementSibling, () => {}, () => {}, component, initialUpdate);\n      component.initializeElements(el.nextElementSibling, extraVars);\n      el.nextElementSibling.__x_inserted_me = true;\n    } else if (!expressionResult && elementHasAlreadyBeenAdded) {\n      transitionOut(el.nextElementSibling, () => {\n        el.nextElementSibling.remove();\n      }, () => {}, component, initialUpdate);\n    }\n  }\n\n  function registerListener(component, el, event, modifiers, expression, extraVars = {}) {\n    const options = {\n      passive: modifiers.includes('passive')\n    };\n\n    if (modifiers.includes('camel')) {\n      event = camelCase(event);\n    }\n\n    if (modifiers.includes('away')) {\n      let handler = e => {\n        // Don't do anything if the click came from the element or within it.\n        if (el.contains(e.target)) return; // Don't do anything if this element isn't currently visible.\n\n        if (el.offsetWidth < 1 && el.offsetHeight < 1) return; // Now that we are sure the element is visible, AND the click\n        // is from outside it, let's run the expression.\n\n        runListenerHandler(component, expression, e, extraVars);\n\n        if (modifiers.includes('once')) {\n          document.removeEventListener(event, handler, options);\n        }\n      }; // Listen for this event at the root level.\n\n\n      document.addEventListener(event, handler, options);\n    } else {\n      let listenerTarget = modifiers.includes('window') ? window : modifiers.includes('document') ? document : el;\n\n      let handler = e => {\n        // Remove this global event handler if the element that declared it\n        // has been removed. It's now stale.\n        if (listenerTarget === window || listenerTarget === document) {\n          if (!document.body.contains(el)) {\n            listenerTarget.removeEventListener(event, handler, options);\n            return;\n          }\n        }\n\n        if (isKeyEvent(event)) {\n          if (isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers)) {\n            return;\n          }\n        }\n\n        if (modifiers.includes('prevent')) e.preventDefault();\n        if (modifiers.includes('stop')) e.stopPropagation(); // If the .self modifier isn't present, or if it is present and\n        // the target element matches the element we are registering the\n        // event on, run the handler\n\n        if (!modifiers.includes('self') || e.target === el) {\n          const returnValue = runListenerHandler(component, expression, e, extraVars);\n          returnValue.then(value => {\n            if (value === false) {\n              e.preventDefault();\n            } else {\n              if (modifiers.includes('once')) {\n                listenerTarget.removeEventListener(event, handler, options);\n              }\n            }\n          });\n        }\n      };\n\n      if (modifiers.includes('debounce')) {\n        let nextModifier = modifiers[modifiers.indexOf('debounce') + 1] || 'invalid-wait';\n        let wait = isNumeric(nextModifier.split('ms')[0]) ? Number(nextModifier.split('ms')[0]) : 250;\n        handler = debounce(handler, wait);\n      }\n\n      listenerTarget.addEventListener(event, handler, options);\n    }\n  }\n\n  function runListenerHandler(component, expression, e, extraVars) {\n    return component.evaluateCommandExpression(e.target, expression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        '$event': e\n      });\n    });\n  }\n\n  function isKeyEvent(event) {\n    return ['keydown', 'keyup'].includes(event);\n  }\n\n  function isListeningForASpecificKeyThatHasntBeenPressed(e, modifiers) {\n    let keyModifiers = modifiers.filter(i => {\n      return !['window', 'document', 'prevent', 'stop'].includes(i);\n    });\n\n    if (keyModifiers.includes('debounce')) {\n      let debounceIndex = keyModifiers.indexOf('debounce');\n      keyModifiers.splice(debounceIndex, isNumeric((keyModifiers[debounceIndex + 1] || 'invalid-wait').split('ms')[0]) ? 2 : 1);\n    } // If no modifier is specified, we'll call it a press.\n\n\n    if (keyModifiers.length === 0) return false; // If one is passed, AND it matches the key pressed, we'll call it a press.\n\n    if (keyModifiers.length === 1 && keyModifiers[0] === keyToModifier(e.key)) return false; // The user is listening for key combinations.\n\n    const systemKeyModifiers = ['ctrl', 'shift', 'alt', 'meta', 'cmd', 'super'];\n    const selectedSystemKeyModifiers = systemKeyModifiers.filter(modifier => keyModifiers.includes(modifier));\n    keyModifiers = keyModifiers.filter(i => !selectedSystemKeyModifiers.includes(i));\n\n    if (selectedSystemKeyModifiers.length > 0) {\n      const activelyPressedKeyModifiers = selectedSystemKeyModifiers.filter(modifier => {\n        // Alias \"cmd\" and \"super\" to \"meta\"\n        if (modifier === 'cmd' || modifier === 'super') modifier = 'meta';\n        return e[`${modifier}Key`];\n      }); // If all the modifiers selected are pressed, ...\n\n      if (activelyPressedKeyModifiers.length === selectedSystemKeyModifiers.length) {\n        // AND the remaining key is pressed as well. It's a press.\n        if (keyModifiers[0] === keyToModifier(e.key)) return false;\n      }\n    } // We'll call it NOT a valid keypress.\n\n\n    return true;\n  }\n\n  function keyToModifier(key) {\n    switch (key) {\n      case '/':\n        return 'slash';\n\n      case ' ':\n      case 'Spacebar':\n        return 'space';\n\n      default:\n        return key && kebabCase(key);\n    }\n  }\n\n  function registerModelListener(component, el, modifiers, expression, extraVars) {\n    // If the element we are binding to is a select, a radio, or checkbox\n    // we'll listen for the change event instead of the \"input\" event.\n    var event = el.tagName.toLowerCase() === 'select' || ['checkbox', 'radio'].includes(el.type) || modifiers.includes('lazy') ? 'change' : 'input';\n    const listenerExpression = `${expression} = rightSideOfExpression($event, ${expression})`;\n    registerListener(component, el, event, modifiers, listenerExpression, () => {\n      return _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        rightSideOfExpression: generateModelAssignmentFunction(el, modifiers, expression)\n      });\n    });\n  }\n\n  function generateModelAssignmentFunction(el, modifiers, expression) {\n    if (el.type === 'radio') {\n      // Radio buttons only work properly when they share a name attribute.\n      // People might assume we take care of that for them, because\n      // they already set a shared \"x-model\" attribute.\n      if (!el.hasAttribute('name')) el.setAttribute('name', expression);\n    }\n\n    return (event, currentValue) => {\n      // Check for event.detail due to an issue where IE11 handles other events as a CustomEvent.\n      if (event instanceof CustomEvent && event.detail) {\n        return event.detail;\n      } else if (el.type === 'checkbox') {\n        // If the data we are binding to is an array, toggle its value inside the array.\n        if (Array.isArray(currentValue)) {\n          const newValue = modifiers.includes('number') ? safeParseNumber(event.target.value) : event.target.value;\n          return event.target.checked ? currentValue.concat([newValue]) : currentValue.filter(el => !checkedAttrLooseCompare(el, newValue));\n        } else {\n          return event.target.checked;\n        }\n      } else if (el.tagName.toLowerCase() === 'select' && el.multiple) {\n        return modifiers.includes('number') ? Array.from(event.target.selectedOptions).map(option => {\n          const rawValue = option.value || option.text;\n          return safeParseNumber(rawValue);\n        }) : Array.from(event.target.selectedOptions).map(option => {\n          return option.value || option.text;\n        });\n      } else {\n        const rawValue = event.target.value;\n        return modifiers.includes('number') ? safeParseNumber(rawValue) : modifiers.includes('trim') ? rawValue.trim() : rawValue;\n      }\n    };\n  }\n\n  function safeParseNumber(rawValue) {\n    const number = rawValue ? parseFloat(rawValue) : null;\n    return isNumeric(number) ? number : rawValue;\n  }\n\n  /**\n   * Copyright (C) 2017 salesforce.com, inc.\n   */\n  const { isArray } = Array;\n  const { getPrototypeOf, create: ObjectCreate, defineProperty: ObjectDefineProperty, defineProperties: ObjectDefineProperties, isExtensible, getOwnPropertyDescriptor, getOwnPropertyNames, getOwnPropertySymbols, preventExtensions, hasOwnProperty, } = Object;\n  const { push: ArrayPush, concat: ArrayConcat, map: ArrayMap, } = Array.prototype;\n  function isUndefined(obj) {\n      return obj === undefined;\n  }\n  function isFunction(obj) {\n      return typeof obj === 'function';\n  }\n  function isObject(obj) {\n      return typeof obj === 'object';\n  }\n  const proxyToValueMap = new WeakMap();\n  function registerProxy(proxy, value) {\n      proxyToValueMap.set(proxy, value);\n  }\n  const unwrap = (replicaOrAny) => proxyToValueMap.get(replicaOrAny) || replicaOrAny;\n\n  function wrapValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getProxy(value) : value;\n  }\n  /**\n   * Unwrap property descriptors will set value on original descriptor\n   * We only need to unwrap if value is specified\n   * @param descriptor external descrpitor provided to define new property on original value\n   */\n  function unwrapDescriptor(descriptor) {\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = unwrap(descriptor.value);\n      }\n      return descriptor;\n  }\n  function lockShadowTarget(membrane, shadowTarget, originalTarget) {\n      const targetKeys = ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      targetKeys.forEach((key) => {\n          let descriptor = getOwnPropertyDescriptor(originalTarget, key);\n          // We do not need to wrap the descriptor if configurable\n          // Because we can deal with wrapping it when user goes through\n          // Get own property descriptor. There is also a chance that this descriptor\n          // could change sometime in the future, so we can defer wrapping\n          // until we need to\n          if (!descriptor.configurable) {\n              descriptor = wrapDescriptor(membrane, descriptor, wrapValue);\n          }\n          ObjectDefineProperty(shadowTarget, key, descriptor);\n      });\n      preventExtensions(shadowTarget);\n  }\n  class ReactiveProxyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          const oldValue = originalTarget[key];\n          if (oldValue !== value) {\n              originalTarget[key] = value;\n              valueMutated(originalTarget, key);\n          }\n          else if (key === 'length' && isArray(originalTarget)) {\n              // fix for issue #236: push will add the new index, and by the time length\n              // is updated, the internal length is already equal to the new length value\n              // therefore, the oldValue is equal to the value. This is the forking logic\n              // to support this use case.\n              valueMutated(originalTarget, key);\n          }\n          return true;\n      }\n      deleteProperty(shadowTarget, key) {\n          const { originalTarget, membrane: { valueMutated } } = this;\n          delete originalTarget[key];\n          valueMutated(originalTarget, key);\n          return true;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      isExtensible(shadowTarget) {\n          const shadowIsExtensible = isExtensible(shadowTarget);\n          if (!shadowIsExtensible) {\n              return shadowIsExtensible;\n          }\n          const { originalTarget, membrane } = this;\n          const targetIsExtensible = isExtensible(originalTarget);\n          if (!targetIsExtensible) {\n              lockShadowTarget(membrane, shadowTarget, originalTarget);\n          }\n          return targetIsExtensible;\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getPrototypeOf(shadowTarget) {\n          const { originalTarget } = this;\n          return getPrototypeOf(originalTarget);\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = this.membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value, setter or getter (if available) cannot observe\n          // mutations, just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapValue);\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          const { originalTarget, membrane } = this;\n          lockShadowTarget(membrane, shadowTarget, originalTarget);\n          preventExtensions(originalTarget);\n          return true;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          const { originalTarget, membrane } = this;\n          const { valueMutated } = membrane;\n          const { configurable } = descriptor;\n          // We have to check for value in descriptor\n          // because Object.freeze(proxy) calls this method\n          // with only { configurable: false, writeable: false }\n          // Additionally, method will only be called with writeable:false\n          // if the descriptor has a value, as opposed to getter/setter\n          // So we can just check if writable is present and then see if\n          // value is present. This eliminates getter and setter descriptors\n          if (hasOwnProperty.call(descriptor, 'writable') && !hasOwnProperty.call(descriptor, 'value')) {\n              const originalDescriptor = getOwnPropertyDescriptor(originalTarget, key);\n              descriptor.value = originalDescriptor.value;\n          }\n          ObjectDefineProperty(originalTarget, key, unwrapDescriptor(descriptor));\n          if (configurable === false) {\n              ObjectDefineProperty(shadowTarget, key, wrapDescriptor(membrane, descriptor, wrapValue));\n          }\n          valueMutated(originalTarget, key);\n          return true;\n      }\n  }\n\n  function wrapReadOnlyValue(membrane, value) {\n      return membrane.valueIsObservable(value) ? membrane.getReadOnlyProxy(value) : value;\n  }\n  class ReadOnlyHandler {\n      constructor(membrane, value) {\n          this.originalTarget = value;\n          this.membrane = membrane;\n      }\n      get(shadowTarget, key) {\n          const { membrane, originalTarget } = this;\n          const value = originalTarget[key];\n          const { valueObserved } = membrane;\n          valueObserved(originalTarget, key);\n          return membrane.getReadOnlyProxy(value);\n      }\n      set(shadowTarget, key, value) {\n          return false;\n      }\n      deleteProperty(shadowTarget, key) {\n          return false;\n      }\n      apply(shadowTarget, thisArg, argArray) {\n          /* No op */\n      }\n      construct(target, argArray, newTarget) {\n          /* No op */\n      }\n      has(shadowTarget, key) {\n          const { originalTarget, membrane: { valueObserved } } = this;\n          valueObserved(originalTarget, key);\n          return key in originalTarget;\n      }\n      ownKeys(shadowTarget) {\n          const { originalTarget } = this;\n          return ArrayConcat.call(getOwnPropertyNames(originalTarget), getOwnPropertySymbols(originalTarget));\n      }\n      setPrototypeOf(shadowTarget, prototype) {\n      }\n      getOwnPropertyDescriptor(shadowTarget, key) {\n          const { originalTarget, membrane } = this;\n          const { valueObserved } = membrane;\n          // keys looked up via hasOwnProperty need to be reactive\n          valueObserved(originalTarget, key);\n          let desc = getOwnPropertyDescriptor(originalTarget, key);\n          if (isUndefined(desc)) {\n              return desc;\n          }\n          const shadowDescriptor = getOwnPropertyDescriptor(shadowTarget, key);\n          if (!isUndefined(shadowDescriptor)) {\n              return shadowDescriptor;\n          }\n          // Note: by accessing the descriptor, the key is marked as observed\n          // but access to the value or getter (if available) cannot be observed,\n          // just like regular methods, in which case we just do nothing.\n          desc = wrapDescriptor(membrane, desc, wrapReadOnlyValue);\n          if (hasOwnProperty.call(desc, 'set')) {\n              desc.set = undefined; // readOnly membrane does not allow setters\n          }\n          if (!desc.configurable) {\n              // If descriptor from original target is not configurable,\n              // We must copy the wrapped descriptor over to the shadow target.\n              // Otherwise, proxy will throw an invariant error.\n              // This is our last chance to lock the value.\n              // https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Proxy/handler/getOwnPropertyDescriptor#Invariants\n              ObjectDefineProperty(shadowTarget, key, desc);\n          }\n          return desc;\n      }\n      preventExtensions(shadowTarget) {\n          return false;\n      }\n      defineProperty(shadowTarget, key, descriptor) {\n          return false;\n      }\n  }\n  function createShadowTarget(value) {\n      let shadowTarget = undefined;\n      if (isArray(value)) {\n          shadowTarget = [];\n      }\n      else if (isObject(value)) {\n          shadowTarget = {};\n      }\n      return shadowTarget;\n  }\n  const ObjectDotPrototype = Object.prototype;\n  function defaultValueIsObservable(value) {\n      // intentionally checking for null\n      if (value === null) {\n          return false;\n      }\n      // treat all non-object types, including undefined, as non-observable values\n      if (typeof value !== 'object') {\n          return false;\n      }\n      if (isArray(value)) {\n          return true;\n      }\n      const proto = getPrototypeOf(value);\n      return (proto === ObjectDotPrototype || proto === null || getPrototypeOf(proto) === null);\n  }\n  const defaultValueObserved = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueMutated = (obj, key) => {\n      /* do nothing */\n  };\n  const defaultValueDistortion = (value) => value;\n  function wrapDescriptor(membrane, descriptor, getValue) {\n      const { set, get } = descriptor;\n      if (hasOwnProperty.call(descriptor, 'value')) {\n          descriptor.value = getValue(membrane, descriptor.value);\n      }\n      else {\n          if (!isUndefined(get)) {\n              descriptor.get = function () {\n                  // invoking the original getter with the original target\n                  return getValue(membrane, get.call(unwrap(this)));\n              };\n          }\n          if (!isUndefined(set)) {\n              descriptor.set = function (value) {\n                  // At this point we don't have a clear indication of whether\n                  // or not a valid mutation will occur, we don't have the key,\n                  // and we are not sure why and how they are invoking this setter.\n                  // Nevertheless we preserve the original semantics by invoking the\n                  // original setter with the original target and the unwrapped value\n                  set.call(unwrap(this), membrane.unwrapProxy(value));\n              };\n          }\n      }\n      return descriptor;\n  }\n  class ReactiveMembrane {\n      constructor(options) {\n          this.valueDistortion = defaultValueDistortion;\n          this.valueMutated = defaultValueMutated;\n          this.valueObserved = defaultValueObserved;\n          this.valueIsObservable = defaultValueIsObservable;\n          this.objectGraph = new WeakMap();\n          if (!isUndefined(options)) {\n              const { valueDistortion, valueMutated, valueObserved, valueIsObservable } = options;\n              this.valueDistortion = isFunction(valueDistortion) ? valueDistortion : defaultValueDistortion;\n              this.valueMutated = isFunction(valueMutated) ? valueMutated : defaultValueMutated;\n              this.valueObserved = isFunction(valueObserved) ? valueObserved : defaultValueObserved;\n              this.valueIsObservable = isFunction(valueIsObservable) ? valueIsObservable : defaultValueIsObservable;\n          }\n      }\n      getProxy(value) {\n          const unwrappedValue = unwrap(value);\n          const distorted = this.valueDistortion(unwrappedValue);\n          if (this.valueIsObservable(distorted)) {\n              const o = this.getReactiveState(unwrappedValue, distorted);\n              // when trying to extract the writable version of a readonly\n              // we return the readonly.\n              return o.readOnly === value ? value : o.reactive;\n          }\n          return distorted;\n      }\n      getReadOnlyProxy(value) {\n          value = unwrap(value);\n          const distorted = this.valueDistortion(value);\n          if (this.valueIsObservable(distorted)) {\n              return this.getReactiveState(value, distorted).readOnly;\n          }\n          return distorted;\n      }\n      unwrapProxy(p) {\n          return unwrap(p);\n      }\n      getReactiveState(value, distortedValue) {\n          const { objectGraph, } = this;\n          let reactiveState = objectGraph.get(distortedValue);\n          if (reactiveState) {\n              return reactiveState;\n          }\n          const membrane = this;\n          reactiveState = {\n              get reactive() {\n                  const reactiveHandler = new ReactiveProxyHandler(membrane, distortedValue);\n                  // caching the reactive proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), reactiveHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'reactive', { value: proxy });\n                  return proxy;\n              },\n              get readOnly() {\n                  const readOnlyHandler = new ReadOnlyHandler(membrane, distortedValue);\n                  // caching the readOnly proxy after the first time it is accessed\n                  const proxy = new Proxy(createShadowTarget(distortedValue), readOnlyHandler);\n                  registerProxy(proxy, value);\n                  ObjectDefineProperty(this, 'readOnly', { value: proxy });\n                  return proxy;\n              }\n          };\n          objectGraph.set(distortedValue, reactiveState);\n          return reactiveState;\n      }\n  }\n  /** version: 0.26.0 */\n\n  function wrap(data, mutationCallback) {\n\n    let membrane = new ReactiveMembrane({\n      valueMutated(target, key) {\n        mutationCallback(target, key);\n      }\n\n    });\n    return {\n      data: membrane.getProxy(data),\n      membrane: membrane\n    };\n  }\n  function unwrap$1(membrane, observable) {\n    let unwrappedData = membrane.unwrapProxy(observable);\n    let copy = {};\n    Object.keys(unwrappedData).forEach(key => {\n      if (['$el', '$refs', '$nextTick', '$watch'].includes(key)) return;\n      copy[key] = unwrappedData[key];\n    });\n    return copy;\n  }\n\n  class Component {\n    constructor(el, componentForClone = null) {\n      this.$el = el;\n      const dataAttr = this.$el.getAttribute('x-data');\n      const dataExpression = dataAttr === '' ? '{}' : dataAttr;\n      const initExpression = this.$el.getAttribute('x-init');\n      let dataExtras = {\n        $el: this.$el\n      };\n      let canonicalComponentElementReference = componentForClone ? componentForClone.$el : this.$el;\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(dataExtras, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference);\n          }\n        });\n      });\n      this.unobservedData = componentForClone ? componentForClone.getUnobservedData() : saferEval(el, dataExpression, dataExtras);\n      // Construct a Proxy-based observable. This will be used to handle reactivity.\n\n      let {\n        membrane,\n        data\n      } = this.wrapDataInObservable(this.unobservedData);\n      this.$data = data;\n      this.membrane = membrane; // After making user-supplied data methods reactive, we can now add\n      // our magic properties to the original data for access.\n\n      this.unobservedData.$el = this.$el;\n      this.unobservedData.$refs = this.getRefsProxy();\n      this.nextTickStack = [];\n\n      this.unobservedData.$nextTick = callback => {\n        this.nextTickStack.push(callback);\n      };\n\n      this.watchers = {};\n\n      this.unobservedData.$watch = (property, callback) => {\n        if (!this.watchers[property]) this.watchers[property] = [];\n        this.watchers[property].push(callback);\n      };\n      /* MODERN-ONLY:START */\n      // We remove this piece of code from the legacy build.\n      // In IE11, we have already defined our helpers at this point.\n      // Register custom magic properties.\n\n\n      Object.entries(Alpine.magicProperties).forEach(([name, callback]) => {\n        Object.defineProperty(this.unobservedData, `$${name}`, {\n          get: function get() {\n            return callback(canonicalComponentElementReference, this.$el);\n          }\n        });\n      });\n      /* MODERN-ONLY:END */\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement;\n      componentForClone || Alpine.onBeforeComponentInitializeds.forEach(callback => callback(this));\n      var initReturnedCallback; // If x-init is present AND we aren't cloning (skip x-init on clone)\n\n      if (initExpression && !componentForClone) {\n        // We want to allow data manipulation, but not trigger DOM updates just yet.\n        // We haven't even initialized the elements with their Alpine bindings. I mean c'mon.\n        this.pauseReactivity = true;\n        initReturnedCallback = this.evaluateReturnExpression(this.$el, initExpression);\n        this.pauseReactivity = false;\n      } // Register all our listeners and set all our attribute bindings.\n\n\n      this.initializeElements(this.$el); // Use mutation observer to detect new elements being added within this component at run-time.\n      // Alpine's just so darn flexible amirite?\n\n      this.listenForNewElementsToInitialize();\n\n      if (typeof initReturnedCallback === 'function') {\n        // Run the callback returned from the \"x-init\" hook to allow the user to do stuff after\n        // Alpine's got it's grubby little paws all over everything.\n        initReturnedCallback.call(this.$data);\n      }\n\n      componentForClone || setTimeout(() => {\n        Alpine.onComponentInitializeds.forEach(callback => callback(this));\n      }, 0);\n    }\n\n    getUnobservedData() {\n      return unwrap$1(this.membrane, this.$data);\n    }\n\n    wrapDataInObservable(data) {\n      var self = this;\n      let updateDom = debounce(function () {\n        self.updateElements(self.$el);\n      }, 0);\n      return wrap(data, (target, key) => {\n        if (self.watchers[key]) {\n          // If there's a watcher for this specific key, run it.\n          self.watchers[key].forEach(callback => callback(target[key]));\n        } else if (Array.isArray(target)) {\n          // Arrays are special cases, if any of the items change, we consider the array as mutated.\n          Object.keys(self.watchers).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // Ignore length mutations since they would result in duplicate calls.\n            // For example, when calling push, we would get a mutation for the item's key\n            // and a second mutation for the length property.\n\n            if (key === 'length') return;\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData[part])) {\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target));\n              }\n\n              return comparisonData[part];\n            }, self.unobservedData);\n          });\n        } else {\n          // Let's walk through the watchers with \"dot-notation\" (foo.bar) and see\n          // if this mutation fits any of them.\n          Object.keys(self.watchers).filter(i => i.includes('.')).forEach(fullDotNotationKey => {\n            let dotNotationParts = fullDotNotationKey.split('.'); // If this dot-notation watcher's last \"part\" doesn't match the current\n            // key, then skip it early for performance reasons.\n\n            if (key !== dotNotationParts[dotNotationParts.length - 1]) return; // Now, walk through the dot-notation \"parts\" recursively to find\n            // a match, and call the watcher if one's found.\n\n            dotNotationParts.reduce((comparisonData, part) => {\n              if (Object.is(target, comparisonData)) {\n                // Run the watchers.\n                self.watchers[fullDotNotationKey].forEach(callback => callback(target[key]));\n              }\n\n              return comparisonData[part];\n            }, self.unobservedData);\n          });\n        } // Don't react to data changes for cases like the `x-created` hook.\n\n\n        if (self.pauseReactivity) return;\n        updateDom();\n      });\n    }\n\n    walkAndSkipNestedComponents(el, callback, initializeComponentCallback = () => {}) {\n      walk(el, el => {\n        // We've hit a component.\n        if (el.hasAttribute('x-data')) {\n          // If it's not the current one.\n          if (!el.isSameNode(this.$el)) {\n            // Initialize it if it's not.\n            if (!el.__x) initializeComponentCallback(el); // Now we'll let that sub-component deal with itself.\n\n            return false;\n          }\n        }\n\n        return callback(el);\n      });\n    }\n\n    initializeElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop\n        if (el.__x_for_key !== undefined) return false; // Don't touch spawns from if directives\n\n        if (el.__x_inserted_me !== undefined) return false;\n        this.initializeElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    initializeElement(el, extraVars) {\n      // To support class attribute merging, we have to know what the element's\n      // original class attribute looked like for reference.\n      if (el.hasAttribute('class') && getXAttrs(el, this).length > 0) {\n        el.__x_original_classes = convertClassStringToArray(el.getAttribute('class'));\n      }\n\n      this.registerListeners(el, extraVars);\n      this.resolveBoundAttributes(el, true, extraVars);\n    }\n\n    updateElements(rootEl, extraVars = () => {}) {\n      this.walkAndSkipNestedComponents(rootEl, el => {\n        // Don't touch spawns from for loop (and check if the root is actually a for loop in a parent, don't skip it.)\n        if (el.__x_for_key !== undefined && !el.isSameNode(this.$el)) return false;\n        this.updateElement(el, extraVars);\n      }, el => {\n        el.__x = new Component(el);\n      });\n      this.executeAndClearRemainingShowDirectiveStack();\n      this.executeAndClearNextTickStack(rootEl);\n    }\n\n    executeAndClearNextTickStack(el) {\n      // Skip spawns from alpine directives\n      if (el === this.$el && this.nextTickStack.length > 0) {\n        // We run the tick stack after the next frame to allow any\n        // running transitions to pass the initial show stage.\n        requestAnimationFrame(() => {\n          while (this.nextTickStack.length > 0) {\n            this.nextTickStack.shift()();\n          }\n        });\n      }\n    }\n\n    executeAndClearRemainingShowDirectiveStack() {\n      // The goal here is to start all the x-show transitions\n      // and build a nested promise chain so that elements\n      // only hide when the children are finished hiding.\n      this.showDirectiveStack.reverse().map(handler => {\n        return new Promise((resolve, reject) => {\n          handler(resolve, reject);\n        });\n      }).reduce((promiseChain, promise) => {\n        return promiseChain.then(() => {\n          return promise.then(finishElement => {\n            finishElement();\n          });\n        });\n      }, Promise.resolve(() => {})).catch(e => {\n        if (e !== TRANSITION_CANCELLED) throw e;\n      }); // We've processed the handler stack. let's clear it.\n\n      this.showDirectiveStack = [];\n      this.showDirectiveLastElement = undefined;\n    }\n\n    updateElement(el, extraVars) {\n      this.resolveBoundAttributes(el, false, extraVars);\n    }\n\n    registerListeners(el, extraVars) {\n      getXAttrs(el, this).forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'on':\n            registerListener(this, el, value, modifiers, expression, extraVars);\n            break;\n\n          case 'model':\n            registerModelListener(this, el, modifiers, expression, extraVars);\n            break;\n        }\n      });\n    }\n\n    resolveBoundAttributes(el, initialUpdate = false, extraVars) {\n      let attrs = getXAttrs(el, this);\n      attrs.forEach(({\n        type,\n        value,\n        modifiers,\n        expression\n      }) => {\n        switch (type) {\n          case 'model':\n            handleAttributeBindingDirective(this, el, 'value', expression, extraVars, type, modifiers);\n            break;\n\n          case 'bind':\n            // The :key binding on an x-for is special, ignore it.\n            if (el.tagName.toLowerCase() === 'template' && value === 'key') return;\n            handleAttributeBindingDirective(this, el, value, expression, extraVars, type, modifiers);\n            break;\n\n          case 'text':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleTextDirective(el, output, expression);\n            break;\n\n          case 'html':\n            handleHtmlDirective(this, el, expression, extraVars);\n            break;\n\n          case 'show':\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleShowDirective(this, el, output, modifiers, initialUpdate);\n            break;\n\n          case 'if':\n            // If this element also has x-for on it, don't process x-if.\n            // We will let the \"x-for\" directive handle the \"if\"ing.\n            if (attrs.some(i => i.type === 'for')) return;\n            var output = this.evaluateReturnExpression(el, expression, extraVars);\n            handleIfDirective(this, el, output, initialUpdate, extraVars);\n            break;\n\n          case 'for':\n            handleForDirective(this, el, expression, initialUpdate, extraVars);\n            break;\n\n          case 'cloak':\n            el.removeAttribute('x-cloak');\n            break;\n        }\n      });\n    }\n\n    evaluateReturnExpression(el, expression, extraVars = () => {}) {\n      return saferEval(el, expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    evaluateCommandExpression(el, expression, extraVars = () => {}) {\n      return saferEvalNoReturn(el, expression, this.$data, _objectSpread2(_objectSpread2({}, extraVars()), {}, {\n        $dispatch: this.getDispatchFunction(el)\n      }));\n    }\n\n    getDispatchFunction(el) {\n      return (event, detail = {}) => {\n        el.dispatchEvent(new CustomEvent(event, {\n          detail,\n          bubbles: true\n        }));\n      };\n    }\n\n    listenForNewElementsToInitialize() {\n      const targetNode = this.$el;\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        for (let i = 0; i < mutations.length; i++) {\n          // Filter out mutations triggered from child components.\n          const closestParentComponent = mutations[i].target.closest('[x-data]');\n          if (!(closestParentComponent && closestParentComponent.isSameNode(this.$el))) continue;\n\n          if (mutations[i].type === 'attributes' && mutations[i].attributeName === 'x-data') {\n            const xAttr = mutations[i].target.getAttribute('x-data') || '{}';\n            const rawData = saferEval(this.$el, xAttr, {\n              $el: this.$el\n            });\n            Object.keys(rawData).forEach(key => {\n              if (this.$data[key] !== rawData[key]) {\n                this.$data[key] = rawData[key];\n              }\n            });\n          }\n\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              if (node.nodeType !== 1 || node.__x_inserted_me) return;\n\n              if (node.matches('[x-data]') && !node.__x) {\n                node.__x = new Component(node);\n                return;\n              }\n\n              this.initializeElements(node);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    }\n\n    getRefsProxy() {\n      var self = this;\n      var refObj = {};\n      // One of the goals of this is to not hold elements in memory, but rather re-evaluate\n      // the DOM when the system needs something from it. This way, the framework is flexible and\n      // friendly to outside DOM changes from libraries like Vue/Livewire.\n      // For this reason, I'm using an \"on-demand\" proxy to fake a \"$refs\" object.\n\n      return new Proxy(refObj, {\n        get(object, property) {\n          if (property === '$isAlpineProxy') return true;\n          var ref; // We can't just query the DOM because it's hard to filter out refs in\n          // nested components.\n\n          self.walkAndSkipNestedComponents(self.$el, el => {\n            if (el.hasAttribute('x-ref') && el.getAttribute('x-ref') === property) {\n              ref = el;\n            }\n          });\n          return ref;\n        }\n\n      });\n    }\n\n  }\n\n  const Alpine = {\n    version: \"2.8.0\",\n    pauseMutationObserver: false,\n    magicProperties: {},\n    onComponentInitializeds: [],\n    onBeforeComponentInitializeds: [],\n    ignoreFocusedForValueBinding: false,\n    start: async function start() {\n      if (!isTesting()) {\n        await domReady();\n      }\n\n      this.discoverComponents(el => {\n        this.initializeComponent(el);\n      }); // It's easier and more performant to just support Turbolinks than listen\n      // to MutationObserver mutations at the document level.\n\n      document.addEventListener(\"turbolinks:load\", () => {\n        this.discoverUninitializedComponents(el => {\n          this.initializeComponent(el);\n        });\n      });\n      this.listenForNewUninitializedComponentsAtRunTime();\n    },\n    discoverComponents: function discoverComponents(callback) {\n      const rootEls = document.querySelectorAll('[x-data]');\n      rootEls.forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    discoverUninitializedComponents: function discoverUninitializedComponents(callback, el = null) {\n      const rootEls = (el || document).querySelectorAll('[x-data]');\n      Array.from(rootEls).filter(el => el.__x === undefined).forEach(rootEl => {\n        callback(rootEl);\n      });\n    },\n    listenForNewUninitializedComponentsAtRunTime: function listenForNewUninitializedComponentsAtRunTime() {\n      const targetNode = document.querySelector('body');\n      const observerOptions = {\n        childList: true,\n        attributes: true,\n        subtree: true\n      };\n      const observer = new MutationObserver(mutations => {\n        if (this.pauseMutationObserver) return;\n\n        for (let i = 0; i < mutations.length; i++) {\n          if (mutations[i].addedNodes.length > 0) {\n            mutations[i].addedNodes.forEach(node => {\n              // Discard non-element nodes (like line-breaks)\n              if (node.nodeType !== 1) return; // Discard any changes happening within an existing component.\n              // They will take care of themselves.\n\n              if (node.parentElement && node.parentElement.closest('[x-data]')) return;\n              this.discoverUninitializedComponents(el => {\n                this.initializeComponent(el);\n              }, node.parentElement);\n            });\n          }\n        }\n      });\n      observer.observe(targetNode, observerOptions);\n    },\n    initializeComponent: function initializeComponent(el) {\n      if (!el.__x) {\n        // Wrap in a try/catch so that we don't prevent other components\n        // from initializing when one component contains an error.\n        try {\n          el.__x = new Component(el);\n        } catch (error) {\n          setTimeout(() => {\n            throw error;\n          }, 0);\n        }\n      }\n    },\n    clone: function clone(component, newEl) {\n      if (!newEl.__x) {\n        newEl.__x = new Component(newEl, component);\n      }\n    },\n    addMagicProperty: function addMagicProperty(name, callback) {\n      this.magicProperties[name] = callback;\n    },\n    onComponentInitialized: function onComponentInitialized(callback) {\n      this.onComponentInitializeds.push(callback);\n    },\n    onBeforeComponentInitialized: function onBeforeComponentInitialized(callback) {\n      this.onBeforeComponentInitializeds.push(callback);\n    }\n  };\n\n  if (!isTesting()) {\n    window.Alpine = Alpine;\n\n    if (window.deferLoadingAlpine) {\n      window.deferLoadingAlpine(function () {\n        window.Alpine.start();\n      });\n    } else {\n      window.Alpine.start();\n    }\n  }\n\n  return Alpine;\n\n})));\n","/*\nTurbo 7.0.0-beta.4\nCopyright © 2021 Basecamp, LLC\n */\n(function () {\n    if (window.Reflect === undefined || window.customElements === undefined ||\n        window.customElements.polyfillWrapFlushCallback) {\n        return;\n    }\n    const BuiltInHTMLElement = HTMLElement;\n    const wrapperForTheName = {\n        'HTMLElement': function HTMLElement() {\n            return Reflect.construct(BuiltInHTMLElement, [], this.constructor);\n        }\n    };\n    window.HTMLElement =\n        wrapperForTheName['HTMLElement'];\n    HTMLElement.prototype = BuiltInHTMLElement.prototype;\n    HTMLElement.prototype.constructor = HTMLElement;\n    Object.setPrototypeOf(HTMLElement, BuiltInHTMLElement);\n})();\n\nconst submittersByForm = new WeakMap;\nfunction findSubmitterFromClickTarget(target) {\n    const element = target instanceof Element ? target : target instanceof Node ? target.parentElement : null;\n    const candidate = element ? element.closest(\"input, button\") : null;\n    return (candidate === null || candidate === void 0 ? void 0 : candidate.type) == \"submit\" ? candidate : null;\n}\nfunction clickCaptured(event) {\n    const submitter = findSubmitterFromClickTarget(event.target);\n    if (submitter && submitter.form) {\n        submittersByForm.set(submitter.form, submitter);\n    }\n}\n(function () {\n    if (\"SubmitEvent\" in window)\n        return;\n    addEventListener(\"click\", clickCaptured, true);\n    Object.defineProperty(Event.prototype, \"submitter\", {\n        get() {\n            if (this.type == \"submit\" && this.target instanceof HTMLFormElement) {\n                return submittersByForm.get(this.target);\n            }\n        }\n    });\n})();\n\nvar FrameLoadingStyle;\n(function (FrameLoadingStyle) {\n    FrameLoadingStyle[\"eager\"] = \"eager\";\n    FrameLoadingStyle[\"lazy\"] = \"lazy\";\n})(FrameLoadingStyle || (FrameLoadingStyle = {}));\nclass FrameElement extends HTMLElement {\n    constructor() {\n        super();\n        this.loaded = Promise.resolve();\n        this.delegate = new FrameElement.delegateConstructor(this);\n    }\n    static get observedAttributes() {\n        return [\"loading\", \"src\"];\n    }\n    connectedCallback() {\n        this.delegate.connect();\n    }\n    disconnectedCallback() {\n        this.delegate.disconnect();\n    }\n    attributeChangedCallback(name) {\n        if (name == \"loading\") {\n            this.delegate.loadingStyleChanged();\n        }\n        else if (name == \"src\") {\n            this.delegate.sourceURLChanged();\n        }\n    }\n    get src() {\n        return this.getAttribute(\"src\");\n    }\n    set src(value) {\n        if (value) {\n            this.setAttribute(\"src\", value);\n        }\n        else {\n            this.removeAttribute(\"src\");\n        }\n    }\n    get loading() {\n        return frameLoadingStyleFromString(this.getAttribute(\"loading\") || \"\");\n    }\n    set loading(value) {\n        if (value) {\n            this.setAttribute(\"loading\", value);\n        }\n        else {\n            this.removeAttribute(\"loading\");\n        }\n    }\n    get disabled() {\n        return this.hasAttribute(\"disabled\");\n    }\n    set disabled(value) {\n        if (value) {\n            this.setAttribute(\"disabled\", \"\");\n        }\n        else {\n            this.removeAttribute(\"disabled\");\n        }\n    }\n    get autoscroll() {\n        return this.hasAttribute(\"autoscroll\");\n    }\n    set autoscroll(value) {\n        if (value) {\n            this.setAttribute(\"autoscroll\", \"\");\n        }\n        else {\n            this.removeAttribute(\"autoscroll\");\n        }\n    }\n    get complete() {\n        return !this.delegate.isLoading;\n    }\n    get isActive() {\n        return this.ownerDocument === document && !this.isPreview;\n    }\n    get isPreview() {\n        var _a, _b;\n        return (_b = (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.documentElement) === null || _b === void 0 ? void 0 : _b.hasAttribute(\"data-turbo-preview\");\n    }\n}\nfunction frameLoadingStyleFromString(style) {\n    switch (style.toLowerCase()) {\n        case \"lazy\": return FrameLoadingStyle.lazy;\n        default: return FrameLoadingStyle.eager;\n    }\n}\n\nfunction expandURL(locatable) {\n    const anchor = document.createElement(\"a\");\n    anchor.href = locatable.toString();\n    return new URL(anchor.href);\n}\nfunction getAnchor(url) {\n    let anchorMatch;\n    if (url.hash) {\n        return url.hash.slice(1);\n    }\n    else if (anchorMatch = url.href.match(/#(.*)$/)) {\n        return anchorMatch[1];\n    }\n    else {\n        return \"\";\n    }\n}\nfunction getExtension(url) {\n    return (getLastPathComponent(url).match(/\\.[^.]*$/) || [])[0] || \"\";\n}\nfunction isHTML(url) {\n    return !!getExtension(url).match(/^(?:|\\.(?:htm|html|xhtml))$/);\n}\nfunction isPrefixedBy(baseURL, url) {\n    const prefix = getPrefix(url);\n    return baseURL.href === expandURL(prefix).href || baseURL.href.startsWith(prefix);\n}\nfunction toCacheKey(url) {\n    const anchorLength = url.hash.length;\n    if (anchorLength < 2) {\n        return url.href;\n    }\n    else {\n        return url.href.slice(0, -anchorLength);\n    }\n}\nfunction getPathComponents(url) {\n    return url.pathname.split(\"/\").slice(1);\n}\nfunction getLastPathComponent(url) {\n    return getPathComponents(url).slice(-1)[0];\n}\nfunction getPrefix(url) {\n    return addTrailingSlash(url.origin + url.pathname);\n}\nfunction addTrailingSlash(value) {\n    return value.endsWith(\"/\") ? value : value + \"/\";\n}\n\nclass FetchResponse {\n    constructor(response) {\n        this.response = response;\n    }\n    get succeeded() {\n        return this.response.ok;\n    }\n    get failed() {\n        return !this.succeeded;\n    }\n    get clientError() {\n        return this.statusCode >= 400 && this.statusCode <= 499;\n    }\n    get serverError() {\n        return this.statusCode >= 500 && this.statusCode <= 599;\n    }\n    get redirected() {\n        return this.response.redirected;\n    }\n    get location() {\n        return expandURL(this.response.url);\n    }\n    get isHTML() {\n        return this.contentType && this.contentType.match(/^(?:text\\/([^\\s;,]+\\b)?html|application\\/xhtml\\+xml)\\b/);\n    }\n    get statusCode() {\n        return this.response.status;\n    }\n    get contentType() {\n        return this.header(\"Content-Type\");\n    }\n    get responseText() {\n        return this.response.text();\n    }\n    get responseHTML() {\n        if (this.isHTML) {\n            return this.response.text();\n        }\n        else {\n            return Promise.resolve(undefined);\n        }\n    }\n    header(name) {\n        return this.response.headers.get(name);\n    }\n}\n\nfunction dispatch(eventName, { target, cancelable, detail } = {}) {\n    const event = new CustomEvent(eventName, { cancelable, bubbles: true, detail });\n    void (target || document.documentElement).dispatchEvent(event);\n    return event;\n}\nfunction nextAnimationFrame() {\n    return new Promise(resolve => requestAnimationFrame(() => resolve()));\n}\nfunction nextEventLoopTick() {\n    return new Promise(resolve => setTimeout(() => resolve(), 0));\n}\nfunction nextMicrotask() {\n    return Promise.resolve();\n}\nfunction parseHTMLDocument(html = \"\") {\n    return new DOMParser().parseFromString(html, \"text/html\");\n}\nfunction unindent(strings, ...values) {\n    const lines = interpolate(strings, values).replace(/^\\n/, \"\").split(\"\\n\");\n    const match = lines[0].match(/^\\s+/);\n    const indent = match ? match[0].length : 0;\n    return lines.map(line => line.slice(indent)).join(\"\\n\");\n}\nfunction interpolate(strings, values) {\n    return strings.reduce((result, string, i) => {\n        const value = values[i] == undefined ? \"\" : values[i];\n        return result + string + value;\n    }, \"\");\n}\nfunction uuid() {\n    return Array.apply(null, { length: 36 }).map((_, i) => {\n        if (i == 8 || i == 13 || i == 18 || i == 23) {\n            return \"-\";\n        }\n        else if (i == 14) {\n            return \"4\";\n        }\n        else if (i == 19) {\n            return (Math.floor(Math.random() * 4) + 8).toString(16);\n        }\n        else {\n            return Math.floor(Math.random() * 15).toString(16);\n        }\n    }).join(\"\");\n}\n\nvar FetchMethod;\n(function (FetchMethod) {\n    FetchMethod[FetchMethod[\"get\"] = 0] = \"get\";\n    FetchMethod[FetchMethod[\"post\"] = 1] = \"post\";\n    FetchMethod[FetchMethod[\"put\"] = 2] = \"put\";\n    FetchMethod[FetchMethod[\"patch\"] = 3] = \"patch\";\n    FetchMethod[FetchMethod[\"delete\"] = 4] = \"delete\";\n})(FetchMethod || (FetchMethod = {}));\nfunction fetchMethodFromString(method) {\n    switch (method.toLowerCase()) {\n        case \"get\": return FetchMethod.get;\n        case \"post\": return FetchMethod.post;\n        case \"put\": return FetchMethod.put;\n        case \"patch\": return FetchMethod.patch;\n        case \"delete\": return FetchMethod.delete;\n    }\n}\nclass FetchRequest {\n    constructor(delegate, method, location, body = new URLSearchParams) {\n        this.abortController = new AbortController;\n        this.delegate = delegate;\n        this.method = method;\n        if (this.isIdempotent) {\n            this.url = mergeFormDataEntries(location, [...body.entries()]);\n        }\n        else {\n            this.body = body;\n            this.url = location;\n        }\n    }\n    get location() {\n        return this.url;\n    }\n    get params() {\n        return this.url.searchParams;\n    }\n    get entries() {\n        return this.body ? Array.from(this.body.entries()) : [];\n    }\n    cancel() {\n        this.abortController.abort();\n    }\n    async perform() {\n        const { fetchOptions } = this;\n        dispatch(\"turbo:before-fetch-request\", { detail: { fetchOptions } });\n        try {\n            this.delegate.requestStarted(this);\n            const response = await fetch(this.url.href, fetchOptions);\n            return await this.receive(response);\n        }\n        catch (error) {\n            this.delegate.requestErrored(this, error);\n            throw error;\n        }\n        finally {\n            this.delegate.requestFinished(this);\n        }\n    }\n    async receive(response) {\n        const fetchResponse = new FetchResponse(response);\n        const event = dispatch(\"turbo:before-fetch-response\", { cancelable: true, detail: { fetchResponse } });\n        if (event.defaultPrevented) {\n            this.delegate.requestPreventedHandlingResponse(this, fetchResponse);\n        }\n        else if (fetchResponse.succeeded) {\n            this.delegate.requestSucceededWithResponse(this, fetchResponse);\n        }\n        else {\n            this.delegate.requestFailedWithResponse(this, fetchResponse);\n        }\n        return fetchResponse;\n    }\n    get fetchOptions() {\n        return {\n            method: FetchMethod[this.method].toUpperCase(),\n            credentials: \"same-origin\",\n            headers: this.headers,\n            redirect: \"follow\",\n            body: this.body,\n            signal: this.abortSignal\n        };\n    }\n    get isIdempotent() {\n        return this.method == FetchMethod.get;\n    }\n    get headers() {\n        const headers = Object.assign({}, this.defaultHeaders);\n        if (typeof this.delegate.prepareHeadersForRequest == \"function\") {\n            this.delegate.prepareHeadersForRequest(headers, this);\n        }\n        return headers;\n    }\n    get abortSignal() {\n        return this.abortController.signal;\n    }\n    get defaultHeaders() {\n        return {\n            \"Accept\": \"text/html, application/xhtml+xml\"\n        };\n    }\n}\nfunction mergeFormDataEntries(url, entries) {\n    const currentSearchParams = new URLSearchParams(url.search);\n    for (const [name, value] of entries) {\n        if (value instanceof File)\n            continue;\n        if (currentSearchParams.has(name)) {\n            currentSearchParams.delete(name);\n            url.searchParams.set(name, value);\n        }\n        else {\n            url.searchParams.append(name, value);\n        }\n    }\n    return url;\n}\n\nclass AppearanceObserver {\n    constructor(delegate, element) {\n        this.started = false;\n        this.intersect = entries => {\n            const lastEntry = entries.slice(-1)[0];\n            if (lastEntry === null || lastEntry === void 0 ? void 0 : lastEntry.isIntersecting) {\n                this.delegate.elementAppearedInViewport(this.element);\n            }\n        };\n        this.delegate = delegate;\n        this.element = element;\n        this.intersectionObserver = new IntersectionObserver(this.intersect);\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            this.intersectionObserver.observe(this.element);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            this.intersectionObserver.unobserve(this.element);\n        }\n    }\n}\n\nclass StreamMessage {\n    constructor(html) {\n        this.templateElement = document.createElement(\"template\");\n        this.templateElement.innerHTML = html;\n    }\n    static wrap(message) {\n        if (typeof message == \"string\") {\n            return new this(message);\n        }\n        else {\n            return message;\n        }\n    }\n    get fragment() {\n        const fragment = document.createDocumentFragment();\n        for (const element of this.foreignElements) {\n            fragment.appendChild(document.importNode(element, true));\n        }\n        return fragment;\n    }\n    get foreignElements() {\n        return this.templateChildren.reduce((streamElements, child) => {\n            if (child.tagName.toLowerCase() == \"turbo-stream\") {\n                return [...streamElements, child];\n            }\n            else {\n                return streamElements;\n            }\n        }, []);\n    }\n    get templateChildren() {\n        return Array.from(this.templateElement.content.children);\n    }\n}\nStreamMessage.contentType = \"text/vnd.turbo-stream.html\";\n\nvar FormSubmissionState;\n(function (FormSubmissionState) {\n    FormSubmissionState[FormSubmissionState[\"initialized\"] = 0] = \"initialized\";\n    FormSubmissionState[FormSubmissionState[\"requesting\"] = 1] = \"requesting\";\n    FormSubmissionState[FormSubmissionState[\"waiting\"] = 2] = \"waiting\";\n    FormSubmissionState[FormSubmissionState[\"receiving\"] = 3] = \"receiving\";\n    FormSubmissionState[FormSubmissionState[\"stopping\"] = 4] = \"stopping\";\n    FormSubmissionState[FormSubmissionState[\"stopped\"] = 5] = \"stopped\";\n})(FormSubmissionState || (FormSubmissionState = {}));\nvar FormEnctype;\n(function (FormEnctype) {\n    FormEnctype[\"urlEncoded\"] = \"application/x-www-form-urlencoded\";\n    FormEnctype[\"multipart\"] = \"multipart/form-data\";\n    FormEnctype[\"plain\"] = \"text/plain\";\n})(FormEnctype || (FormEnctype = {}));\nfunction formEnctypeFromString(encoding) {\n    switch (encoding.toLowerCase()) {\n        case FormEnctype.multipart: return FormEnctype.multipart;\n        case FormEnctype.plain: return FormEnctype.plain;\n        default: return FormEnctype.urlEncoded;\n    }\n}\nclass FormSubmission {\n    constructor(delegate, formElement, submitter, mustRedirect = false) {\n        this.state = FormSubmissionState.initialized;\n        this.delegate = delegate;\n        this.formElement = formElement;\n        this.submitter = submitter;\n        this.formData = buildFormData(formElement, submitter);\n        this.fetchRequest = new FetchRequest(this, this.method, this.location, this.body);\n        this.mustRedirect = mustRedirect;\n    }\n    get method() {\n        var _a;\n        const method = ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formmethod\")) || this.formElement.getAttribute(\"method\") || \"\";\n        return fetchMethodFromString(method.toLowerCase()) || FetchMethod.get;\n    }\n    get action() {\n        var _a;\n        return ((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formaction\")) || this.formElement.action;\n    }\n    get location() {\n        return expandURL(this.action);\n    }\n    get body() {\n        if (this.enctype == FormEnctype.urlEncoded || this.method == FetchMethod.get) {\n            return new URLSearchParams(this.stringFormData);\n        }\n        else {\n            return this.formData;\n        }\n    }\n    get enctype() {\n        var _a;\n        return formEnctypeFromString(((_a = this.submitter) === null || _a === void 0 ? void 0 : _a.getAttribute(\"formenctype\")) || this.formElement.enctype);\n    }\n    get stringFormData() {\n        return [...this.formData].reduce((entries, [name, value]) => {\n            return entries.concat(typeof value == \"string\" ? [[name, value]] : []);\n        }, []);\n    }\n    async start() {\n        const { initialized, requesting } = FormSubmissionState;\n        if (this.state == initialized) {\n            this.state = requesting;\n            return this.fetchRequest.perform();\n        }\n    }\n    stop() {\n        const { stopping, stopped } = FormSubmissionState;\n        if (this.state != stopping && this.state != stopped) {\n            this.state = stopping;\n            this.fetchRequest.cancel();\n            return true;\n        }\n    }\n    prepareHeadersForRequest(headers, request) {\n        if (!request.isIdempotent) {\n            const token = getCookieValue(getMetaContent(\"csrf-param\")) || getMetaContent(\"csrf-token\");\n            if (token) {\n                headers[\"X-CSRF-Token\"] = token;\n            }\n            headers[\"Accept\"] = [StreamMessage.contentType, headers[\"Accept\"]].join(\", \");\n        }\n    }\n    requestStarted(request) {\n        this.state = FormSubmissionState.waiting;\n        dispatch(\"turbo:submit-start\", { target: this.formElement, detail: { formSubmission: this } });\n        this.delegate.formSubmissionStarted(this);\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.result = { success: response.succeeded, fetchResponse: response };\n    }\n    requestSucceededWithResponse(request, response) {\n        if (response.clientError || response.serverError) {\n            this.delegate.formSubmissionFailedWithResponse(this, response);\n        }\n        else if (this.requestMustRedirect(request) && responseSucceededWithoutRedirect(response)) {\n            const error = new Error(\"Form responses must redirect to another location\");\n            this.delegate.formSubmissionErrored(this, error);\n        }\n        else {\n            this.state = FormSubmissionState.receiving;\n            this.result = { success: true, fetchResponse: response };\n            this.delegate.formSubmissionSucceededWithResponse(this, response);\n        }\n    }\n    requestFailedWithResponse(request, response) {\n        this.result = { success: false, fetchResponse: response };\n        this.delegate.formSubmissionFailedWithResponse(this, response);\n    }\n    requestErrored(request, error) {\n        this.result = { success: false, error };\n        this.delegate.formSubmissionErrored(this, error);\n    }\n    requestFinished(request) {\n        this.state = FormSubmissionState.stopped;\n        dispatch(\"turbo:submit-end\", { target: this.formElement, detail: Object.assign({ formSubmission: this }, this.result) });\n        this.delegate.formSubmissionFinished(this);\n    }\n    requestMustRedirect(request) {\n        return !request.isIdempotent && this.mustRedirect;\n    }\n}\nfunction buildFormData(formElement, submitter) {\n    const formData = new FormData(formElement);\n    const name = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"name\");\n    const value = submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"value\");\n    if (name && formData.get(name) != value) {\n        formData.append(name, value || \"\");\n    }\n    return formData;\n}\nfunction getCookieValue(cookieName) {\n    if (cookieName != null) {\n        const cookies = document.cookie ? document.cookie.split(\"; \") : [];\n        const cookie = cookies.find((cookie) => cookie.startsWith(cookieName));\n        if (cookie) {\n            const value = cookie.split(\"=\").slice(1).join(\"=\");\n            return value ? decodeURIComponent(value) : undefined;\n        }\n    }\n}\nfunction getMetaContent(name) {\n    const element = document.querySelector(`meta[name=\"${name}\"]`);\n    return element && element.content;\n}\nfunction responseSucceededWithoutRedirect(response) {\n    return response.statusCode == 200 && !response.redirected;\n}\n\nclass Snapshot {\n    constructor(element) {\n        this.element = element;\n    }\n    get children() {\n        return [...this.element.children];\n    }\n    hasAnchor(anchor) {\n        return this.getElementForAnchor(anchor) != null;\n    }\n    getElementForAnchor(anchor) {\n        try {\n            return this.element.querySelector(`[id='${anchor}'], a[name='${anchor}']`);\n        }\n        catch (_a) {\n            return null;\n        }\n    }\n    get firstAutofocusableElement() {\n        return this.element.querySelector(\"[autofocus]\");\n    }\n    get permanentElements() {\n        return [...this.element.querySelectorAll(\"[id][data-turbo-permanent]\")];\n    }\n    getPermanentElementById(id) {\n        return this.element.querySelector(`#${id}[data-turbo-permanent]`);\n    }\n    getPermanentElementsPresentInSnapshot(snapshot) {\n        return this.permanentElements.filter(({ id }) => snapshot.getPermanentElementById(id));\n    }\n}\n\nclass FormInterceptor {\n    constructor(delegate, element) {\n        this.submitBubbled = ((event) => {\n            if (event.target instanceof HTMLFormElement) {\n                const form = event.target;\n                const submitter = event.submitter || undefined;\n                if (this.delegate.shouldInterceptFormSubmission(form, submitter)) {\n                    event.preventDefault();\n                    event.stopImmediatePropagation();\n                    this.delegate.formSubmissionIntercepted(form, submitter);\n                }\n            }\n        });\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"submit\", this.submitBubbled);\n    }\n    stop() {\n        this.element.removeEventListener(\"submit\", this.submitBubbled);\n    }\n}\n\nclass View {\n    constructor(delegate, element) {\n        this.delegate = delegate;\n        this.element = element;\n    }\n    scrollToAnchor(anchor) {\n        const element = this.snapshot.getElementForAnchor(anchor);\n        if (element) {\n            this.scrollToElement(element);\n        }\n        else {\n            this.scrollToPosition({ x: 0, y: 0 });\n        }\n    }\n    scrollToElement(element) {\n        element.scrollIntoView();\n    }\n    scrollToPosition({ x, y }) {\n        this.scrollRoot.scrollTo(x, y);\n    }\n    get scrollRoot() {\n        return window;\n    }\n    async render(renderer) {\n        if (this.renderer) {\n            throw new Error(\"rendering is already in progress\");\n        }\n        const { isPreview, shouldRender, newSnapshot: snapshot } = renderer;\n        if (shouldRender) {\n            try {\n                this.renderer = renderer;\n                this.prepareToRenderSnapshot(renderer);\n                this.delegate.viewWillRenderSnapshot(snapshot, isPreview);\n                await this.renderSnapshot(renderer);\n                this.delegate.viewRenderedSnapshot(snapshot, isPreview);\n                this.finishRenderingSnapshot(renderer);\n            }\n            finally {\n                delete this.renderer;\n            }\n        }\n        else {\n            this.invalidate();\n        }\n    }\n    invalidate() {\n        this.delegate.viewInvalidated();\n    }\n    prepareToRenderSnapshot(renderer) {\n        this.markAsPreview(renderer.isPreview);\n        renderer.prepareToRender();\n    }\n    markAsPreview(isPreview) {\n        if (isPreview) {\n            this.element.setAttribute(\"data-turbo-preview\", \"\");\n        }\n        else {\n            this.element.removeAttribute(\"data-turbo-preview\");\n        }\n    }\n    async renderSnapshot(renderer) {\n        await renderer.render();\n    }\n    finishRenderingSnapshot(renderer) {\n        renderer.finishRendering();\n    }\n}\n\nclass FrameView extends View {\n    invalidate() {\n        this.element.innerHTML = \"\";\n    }\n    get snapshot() {\n        return new Snapshot(this.element);\n    }\n}\n\nclass LinkInterceptor {\n    constructor(delegate, element) {\n        this.clickBubbled = (event) => {\n            if (this.respondsToEventTarget(event.target)) {\n                this.clickEvent = event;\n            }\n            else {\n                delete this.clickEvent;\n            }\n        };\n        this.linkClicked = ((event) => {\n            if (this.clickEvent && this.respondsToEventTarget(event.target) && event.target instanceof Element) {\n                if (this.delegate.shouldInterceptLinkClick(event.target, event.detail.url)) {\n                    this.clickEvent.preventDefault();\n                    event.preventDefault();\n                    this.delegate.linkClickIntercepted(event.target, event.detail.url);\n                }\n            }\n            delete this.clickEvent;\n        });\n        this.willVisit = () => {\n            delete this.clickEvent;\n        };\n        this.delegate = delegate;\n        this.element = element;\n    }\n    start() {\n        this.element.addEventListener(\"click\", this.clickBubbled);\n        document.addEventListener(\"turbo:click\", this.linkClicked);\n        document.addEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    stop() {\n        this.element.removeEventListener(\"click\", this.clickBubbled);\n        document.removeEventListener(\"turbo:click\", this.linkClicked);\n        document.removeEventListener(\"turbo:before-visit\", this.willVisit);\n    }\n    respondsToEventTarget(target) {\n        const element = target instanceof Element\n            ? target\n            : target instanceof Node\n                ? target.parentElement\n                : null;\n        return element && element.closest(\"turbo-frame, html\") == this.element;\n    }\n}\n\nclass Renderer {\n    constructor(currentSnapshot, newSnapshot, isPreview) {\n        this.currentSnapshot = currentSnapshot;\n        this.newSnapshot = newSnapshot;\n        this.isPreview = isPreview;\n        this.promise = new Promise((resolve, reject) => this.resolvingFunctions = { resolve, reject });\n    }\n    get shouldRender() {\n        return true;\n    }\n    prepareToRender() {\n        return;\n    }\n    finishRendering() {\n        if (this.resolvingFunctions) {\n            this.resolvingFunctions.resolve();\n            delete this.resolvingFunctions;\n        }\n    }\n    createScriptElement(element) {\n        if (element.getAttribute(\"data-turbo-eval\") == \"false\") {\n            return element;\n        }\n        else {\n            const createdScriptElement = document.createElement(\"script\");\n            createdScriptElement.textContent = element.textContent;\n            createdScriptElement.async = false;\n            copyElementAttributes(createdScriptElement, element);\n            return createdScriptElement;\n        }\n    }\n    preservingPermanentElements(callback) {\n        const placeholders = relocatePermanentElements(this.currentSnapshot, this.newSnapshot);\n        callback();\n        replacePlaceholderElementsWithClonedPermanentElements(placeholders);\n    }\n    focusFirstAutofocusableElement() {\n        const element = this.newSnapshot.firstAutofocusableElement;\n        if (elementIsFocusable(element)) {\n            element.focus();\n        }\n    }\n    get currentElement() {\n        return this.currentSnapshot.element;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n}\nfunction replaceElementWithElement(fromElement, toElement) {\n    const parentElement = fromElement.parentElement;\n    if (parentElement) {\n        return parentElement.replaceChild(toElement, fromElement);\n    }\n}\nfunction copyElementAttributes(destinationElement, sourceElement) {\n    for (const { name, value } of [...sourceElement.attributes]) {\n        destinationElement.setAttribute(name, value);\n    }\n}\nfunction createPlaceholderForPermanentElement(permanentElement) {\n    const element = document.createElement(\"meta\");\n    element.setAttribute(\"name\", \"turbo-permanent-placeholder\");\n    element.setAttribute(\"content\", permanentElement.id);\n    return { element, permanentElement };\n}\nfunction replacePlaceholderElementsWithClonedPermanentElements(placeholders) {\n    for (const { element, permanentElement } of placeholders) {\n        const clonedElement = permanentElement.cloneNode(true);\n        replaceElementWithElement(element, clonedElement);\n    }\n}\nfunction relocatePermanentElements(currentSnapshot, newSnapshot) {\n    return currentSnapshot.getPermanentElementsPresentInSnapshot(newSnapshot).reduce((placeholders, permanentElement) => {\n        const newElement = newSnapshot.getPermanentElementById(permanentElement.id);\n        if (newElement) {\n            const placeholder = createPlaceholderForPermanentElement(permanentElement);\n            replaceElementWithElement(permanentElement, placeholder.element);\n            replaceElementWithElement(newElement, permanentElement);\n            return [...placeholders, placeholder];\n        }\n        else {\n            return placeholders;\n        }\n    }, []);\n}\nfunction elementIsFocusable(element) {\n    return element && typeof element.focus == \"function\";\n}\n\nclass FrameRenderer extends Renderer {\n    get shouldRender() {\n        return true;\n    }\n    async render() {\n        await nextAnimationFrame();\n        this.preservingPermanentElements(() => {\n            this.loadFrameElement();\n        });\n        this.scrollFrameIntoView();\n        await nextAnimationFrame();\n        this.focusFirstAutofocusableElement();\n    }\n    loadFrameElement() {\n        var _a;\n        const destinationRange = document.createRange();\n        destinationRange.selectNodeContents(this.currentElement);\n        destinationRange.deleteContents();\n        const frameElement = this.newElement;\n        const sourceRange = (_a = frameElement.ownerDocument) === null || _a === void 0 ? void 0 : _a.createRange();\n        if (sourceRange) {\n            sourceRange.selectNodeContents(frameElement);\n            this.currentElement.appendChild(sourceRange.extractContents());\n        }\n    }\n    scrollFrameIntoView() {\n        if (this.currentElement.autoscroll || this.newElement.autoscroll) {\n            const element = this.currentElement.firstElementChild;\n            const block = readScrollLogicalPosition(this.currentElement.getAttribute(\"data-autoscroll-block\"), \"end\");\n            if (element) {\n                element.scrollIntoView({ block });\n                return true;\n            }\n        }\n        return false;\n    }\n}\nfunction readScrollLogicalPosition(value, defaultValue) {\n    if (value == \"end\" || value == \"start\" || value == \"center\" || value == \"nearest\") {\n        return value;\n    }\n    else {\n        return defaultValue;\n    }\n}\n\nclass FrameController {\n    constructor(element) {\n        this.resolveVisitPromise = () => { };\n        this.element = element;\n        this.view = new FrameView(this, this.element);\n        this.appearanceObserver = new AppearanceObserver(this, this.element);\n        this.linkInterceptor = new LinkInterceptor(this, this.element);\n        this.formInterceptor = new FormInterceptor(this, this.element);\n    }\n    connect() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        this.linkInterceptor.start();\n        this.formInterceptor.start();\n    }\n    disconnect() {\n        this.appearanceObserver.stop();\n        this.linkInterceptor.stop();\n        this.formInterceptor.stop();\n    }\n    sourceURLChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.eager) {\n            this.loadSourceURL();\n        }\n    }\n    loadingStyleChanged() {\n        if (this.loadingStyle == FrameLoadingStyle.lazy) {\n            this.appearanceObserver.start();\n        }\n        else {\n            this.appearanceObserver.stop();\n            this.loadSourceURL();\n        }\n    }\n    async loadSourceURL() {\n        if (this.isActive && this.sourceURL && this.sourceURL != this.loadingURL) {\n            try {\n                this.loadingURL = this.sourceURL;\n                this.element.loaded = this.visit(this.sourceURL);\n                this.appearanceObserver.stop();\n                await this.element.loaded;\n            }\n            finally {\n                delete this.loadingURL;\n            }\n        }\n    }\n    async loadResponse(response) {\n        try {\n            const html = await response.responseHTML;\n            if (html) {\n                const { body } = parseHTMLDocument(html);\n                const snapshot = new Snapshot(await this.extractForeignFrameElement(body));\n                const renderer = new FrameRenderer(this.view.snapshot, snapshot, false);\n                await this.view.render(renderer);\n            }\n        }\n        catch (error) {\n            console.error(error);\n            this.view.invalidate();\n        }\n    }\n    elementAppearedInViewport(element) {\n        this.loadSourceURL();\n    }\n    shouldInterceptLinkClick(element, url) {\n        return this.shouldInterceptNavigation(element);\n    }\n    linkClickIntercepted(element, url) {\n        this.navigateFrame(element, url);\n    }\n    shouldInterceptFormSubmission(element) {\n        return this.shouldInterceptNavigation(element);\n    }\n    formSubmissionIntercepted(element, submitter) {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n        }\n        this.formSubmission = new FormSubmission(this, element, submitter);\n        if (this.formSubmission.fetchRequest.isIdempotent) {\n            this.navigateFrame(element, this.formSubmission.fetchRequest.url.href);\n        }\n        else {\n            this.formSubmission.start();\n        }\n    }\n    prepareHeadersForRequest(headers, request) {\n        headers[\"Turbo-Frame\"] = this.id;\n    }\n    requestStarted(request) {\n        this.element.setAttribute(\"busy\", \"\");\n    }\n    requestPreventedHandlingResponse(request, response) {\n        this.resolveVisitPromise();\n    }\n    async requestSucceededWithResponse(request, response) {\n        await this.loadResponse(response);\n        this.resolveVisitPromise();\n    }\n    requestFailedWithResponse(request, response) {\n        console.error(response);\n        this.resolveVisitPromise();\n    }\n    requestErrored(request, error) {\n        console.error(error);\n        this.resolveVisitPromise();\n    }\n    requestFinished(request) {\n        this.element.removeAttribute(\"busy\");\n    }\n    formSubmissionStarted(formSubmission) {\n    }\n    formSubmissionSucceededWithResponse(formSubmission, response) {\n        const frame = this.findFrameElement(formSubmission.formElement);\n        frame.delegate.loadResponse(response);\n    }\n    formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        this.element.delegate.loadResponse(fetchResponse);\n    }\n    formSubmissionErrored(formSubmission, error) {\n    }\n    formSubmissionFinished(formSubmission) {\n    }\n    viewWillRenderSnapshot(snapshot, isPreview) {\n    }\n    viewRenderedSnapshot(snapshot, isPreview) {\n    }\n    viewInvalidated() {\n    }\n    async visit(url) {\n        const request = new FetchRequest(this, FetchMethod.get, expandURL(url));\n        return new Promise(resolve => {\n            this.resolveVisitPromise = () => {\n                this.resolveVisitPromise = () => { };\n                resolve();\n            };\n            request.perform();\n        });\n    }\n    navigateFrame(element, url) {\n        const frame = this.findFrameElement(element);\n        frame.src = url;\n    }\n    findFrameElement(element) {\n        var _a;\n        const id = element.getAttribute(\"data-turbo-frame\") || this.element.getAttribute(\"target\");\n        return (_a = getFrameElementById(id)) !== null && _a !== void 0 ? _a : this.element;\n    }\n    async extractForeignFrameElement(container) {\n        let element;\n        const id = CSS.escape(this.id);\n        if (element = activateElement(container.querySelector(`turbo-frame#${id}`))) {\n            return element;\n        }\n        if (element = activateElement(container.querySelector(`turbo-frame[src][recurse~=${id}]`))) {\n            await element.loaded;\n            return await this.extractForeignFrameElement(element);\n        }\n        console.error(`Response has no matching <turbo-frame id=\"${id}\"> element`);\n        return new FrameElement();\n    }\n    shouldInterceptNavigation(element) {\n        const id = element.getAttribute(\"data-turbo-frame\") || this.element.getAttribute(\"target\");\n        if (!this.enabled || id == \"_top\") {\n            return false;\n        }\n        if (id) {\n            const frameElement = getFrameElementById(id);\n            if (frameElement) {\n                return !frameElement.disabled;\n            }\n        }\n        return true;\n    }\n    get id() {\n        return this.element.id;\n    }\n    get enabled() {\n        return !this.element.disabled;\n    }\n    get sourceURL() {\n        return this.element.src;\n    }\n    get loadingStyle() {\n        return this.element.loading;\n    }\n    get isLoading() {\n        return this.formSubmission !== undefined || this.loadingURL !== undefined;\n    }\n    get isActive() {\n        return this.element.isActive;\n    }\n}\nfunction getFrameElementById(id) {\n    if (id != null) {\n        const element = document.getElementById(id);\n        if (element instanceof FrameElement) {\n            return element;\n        }\n    }\n}\nfunction activateElement(element) {\n    if (element && element.ownerDocument !== document) {\n        element = document.importNode(element, true);\n    }\n    if (element instanceof FrameElement) {\n        return element;\n    }\n}\n\nconst StreamActions = {\n    append() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.append(this.templateContent);\n    },\n    prepend() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.prepend(this.templateContent);\n    },\n    remove() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.remove();\n    },\n    replace() {\n        var _a;\n        (_a = this.targetElement) === null || _a === void 0 ? void 0 : _a.replaceWith(this.templateContent);\n    },\n    update() {\n        if (this.targetElement) {\n            this.targetElement.innerHTML = \"\";\n            this.targetElement.append(this.templateContent);\n        }\n    }\n};\n\nclass StreamElement extends HTMLElement {\n    async connectedCallback() {\n        try {\n            await this.render();\n        }\n        catch (error) {\n            console.error(error);\n        }\n        finally {\n            this.disconnect();\n        }\n    }\n    async render() {\n        var _a;\n        return (_a = this.renderPromise) !== null && _a !== void 0 ? _a : (this.renderPromise = (async () => {\n            if (this.dispatchEvent(this.beforeRenderEvent)) {\n                await nextAnimationFrame();\n                this.performAction();\n            }\n        })());\n    }\n    disconnect() {\n        try {\n            this.remove();\n        }\n        catch (_a) { }\n    }\n    get performAction() {\n        if (this.action) {\n            const actionFunction = StreamActions[this.action];\n            if (actionFunction) {\n                return actionFunction;\n            }\n            this.raise(\"unknown action\");\n        }\n        this.raise(\"action attribute is missing\");\n    }\n    get targetElement() {\n        var _a;\n        if (this.target) {\n            return (_a = this.ownerDocument) === null || _a === void 0 ? void 0 : _a.getElementById(this.target);\n        }\n        this.raise(\"target attribute is missing\");\n    }\n    get templateContent() {\n        return this.templateElement.content;\n    }\n    get templateElement() {\n        if (this.firstElementChild instanceof HTMLTemplateElement) {\n            return this.firstElementChild;\n        }\n        this.raise(\"first child element must be a <template> element\");\n    }\n    get action() {\n        return this.getAttribute(\"action\");\n    }\n    get target() {\n        return this.getAttribute(\"target\");\n    }\n    raise(message) {\n        throw new Error(`${this.description}: ${message}`);\n    }\n    get description() {\n        var _a, _b;\n        return (_b = ((_a = this.outerHTML.match(/<[^>]+>/)) !== null && _a !== void 0 ? _a : [])[0]) !== null && _b !== void 0 ? _b : \"<turbo-stream>\";\n    }\n    get beforeRenderEvent() {\n        return new CustomEvent(\"turbo:before-stream-render\", { bubbles: true, cancelable: true });\n    }\n}\n\nFrameElement.delegateConstructor = FrameController;\ncustomElements.define(\"turbo-frame\", FrameElement);\ncustomElements.define(\"turbo-stream\", StreamElement);\n\n(() => {\n    let element = document.currentScript;\n    if (!element)\n        return;\n    if (element.hasAttribute(\"data-turbo-suppress-warning\"))\n        return;\n    while (element = element.parentElement) {\n        if (element == document.body) {\n            return console.warn(unindent `\n        You are loading Turbo from a <script> element inside the <body> element. This is probably not what you meant to do!\n\n        Load your application’s JavaScript bundle inside the <head> element instead. <script> elements in <body> are evaluated with each page change.\n\n        For more information, see: https://turbo.hotwire.dev/handbook/building#working-with-script-elements\n\n        ——\n        Suppress this warning by adding a \"data-turbo-suppress-warning\" attribute to: %s\n      `, element.outerHTML);\n        }\n    }\n})();\n\nclass ProgressBar {\n    constructor() {\n        this.hiding = false;\n        this.value = 0;\n        this.visible = false;\n        this.trickle = () => {\n            this.setValue(this.value + Math.random() / 100);\n        };\n        this.stylesheetElement = this.createStylesheetElement();\n        this.progressElement = this.createProgressElement();\n        this.installStylesheetElement();\n        this.setValue(0);\n    }\n    static get defaultCSS() {\n        return unindent `\n      .turbo-progress-bar {\n        position: fixed;\n        display: block;\n        top: 0;\n        left: 0;\n        height: 3px;\n        background: #0076ff;\n        z-index: 9999;\n        transition:\n          width ${ProgressBar.animationDuration}ms ease-out,\n          opacity ${ProgressBar.animationDuration / 2}ms ${ProgressBar.animationDuration / 2}ms ease-in;\n        transform: translate3d(0, 0, 0);\n      }\n    `;\n    }\n    show() {\n        if (!this.visible) {\n            this.visible = true;\n            this.installProgressElement();\n            this.startTrickling();\n        }\n    }\n    hide() {\n        if (this.visible && !this.hiding) {\n            this.hiding = true;\n            this.fadeProgressElement(() => {\n                this.uninstallProgressElement();\n                this.stopTrickling();\n                this.visible = false;\n                this.hiding = false;\n            });\n        }\n    }\n    setValue(value) {\n        this.value = value;\n        this.refresh();\n    }\n    installStylesheetElement() {\n        document.head.insertBefore(this.stylesheetElement, document.head.firstChild);\n    }\n    installProgressElement() {\n        this.progressElement.style.width = \"0\";\n        this.progressElement.style.opacity = \"1\";\n        document.documentElement.insertBefore(this.progressElement, document.body);\n        this.refresh();\n    }\n    fadeProgressElement(callback) {\n        this.progressElement.style.opacity = \"0\";\n        setTimeout(callback, ProgressBar.animationDuration * 1.5);\n    }\n    uninstallProgressElement() {\n        if (this.progressElement.parentNode) {\n            document.documentElement.removeChild(this.progressElement);\n        }\n    }\n    startTrickling() {\n        if (!this.trickleInterval) {\n            this.trickleInterval = window.setInterval(this.trickle, ProgressBar.animationDuration);\n        }\n    }\n    stopTrickling() {\n        window.clearInterval(this.trickleInterval);\n        delete this.trickleInterval;\n    }\n    refresh() {\n        requestAnimationFrame(() => {\n            this.progressElement.style.width = `${10 + (this.value * 90)}%`;\n        });\n    }\n    createStylesheetElement() {\n        const element = document.createElement(\"style\");\n        element.type = \"text/css\";\n        element.textContent = ProgressBar.defaultCSS;\n        return element;\n    }\n    createProgressElement() {\n        const element = document.createElement(\"div\");\n        element.className = \"turbo-progress-bar\";\n        return element;\n    }\n}\nProgressBar.animationDuration = 300;\n\nclass HeadSnapshot extends Snapshot {\n    constructor() {\n        super(...arguments);\n        this.detailsByOuterHTML = this.children.reduce((result, element) => {\n            const { outerHTML } = element;\n            const details = outerHTML in result\n                ? result[outerHTML]\n                : {\n                    type: elementType(element),\n                    tracked: elementIsTracked(element),\n                    elements: []\n                };\n            return Object.assign(Object.assign({}, result), { [outerHTML]: Object.assign(Object.assign({}, details), { elements: [...details.elements, element] }) });\n        }, {});\n    }\n    get trackedElementSignature() {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter(outerHTML => this.detailsByOuterHTML[outerHTML].tracked)\n            .join(\"\");\n    }\n    getScriptElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"script\", snapshot);\n    }\n    getStylesheetElementsNotInSnapshot(snapshot) {\n        return this.getElementsMatchingTypeNotInSnapshot(\"stylesheet\", snapshot);\n    }\n    getElementsMatchingTypeNotInSnapshot(matchedType, snapshot) {\n        return Object.keys(this.detailsByOuterHTML)\n            .filter(outerHTML => !(outerHTML in snapshot.detailsByOuterHTML))\n            .map(outerHTML => this.detailsByOuterHTML[outerHTML])\n            .filter(({ type }) => type == matchedType)\n            .map(({ elements: [element] }) => element);\n    }\n    get provisionalElements() {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { type, tracked, elements } = this.detailsByOuterHTML[outerHTML];\n            if (type == null && !tracked) {\n                return [...result, ...elements];\n            }\n            else if (elements.length > 1) {\n                return [...result, ...elements.slice(1)];\n            }\n            else {\n                return result;\n            }\n        }, []);\n    }\n    getMetaValue(name) {\n        const element = this.findMetaElementByName(name);\n        return element\n            ? element.getAttribute(\"content\")\n            : null;\n    }\n    findMetaElementByName(name) {\n        return Object.keys(this.detailsByOuterHTML).reduce((result, outerHTML) => {\n            const { elements: [element] } = this.detailsByOuterHTML[outerHTML];\n            return elementIsMetaElementWithName(element, name) ? element : result;\n        }, undefined);\n    }\n}\nfunction elementType(element) {\n    if (elementIsScript(element)) {\n        return \"script\";\n    }\n    else if (elementIsStylesheet(element)) {\n        return \"stylesheet\";\n    }\n}\nfunction elementIsTracked(element) {\n    return element.getAttribute(\"data-turbo-track\") == \"reload\";\n}\nfunction elementIsScript(element) {\n    const tagName = element.tagName.toLowerCase();\n    return tagName == \"script\";\n}\nfunction elementIsStylesheet(element) {\n    const tagName = element.tagName.toLowerCase();\n    return tagName == \"style\" || (tagName == \"link\" && element.getAttribute(\"rel\") == \"stylesheet\");\n}\nfunction elementIsMetaElementWithName(element, name) {\n    const tagName = element.tagName.toLowerCase();\n    return tagName == \"meta\" && element.getAttribute(\"name\") == name;\n}\n\nclass PageSnapshot extends Snapshot {\n    constructor(element, headSnapshot) {\n        super(element);\n        this.headSnapshot = headSnapshot;\n    }\n    static fromHTMLString(html = \"\") {\n        return this.fromDocument(parseHTMLDocument(html));\n    }\n    static fromElement(element) {\n        return this.fromDocument(element.ownerDocument);\n    }\n    static fromDocument({ head, body }) {\n        return new this(body, new HeadSnapshot(head));\n    }\n    clone() {\n        return new PageSnapshot(this.element.cloneNode(true), this.headSnapshot);\n    }\n    get headElement() {\n        return this.headSnapshot.element;\n    }\n    get rootLocation() {\n        var _a;\n        const root = (_a = this.getSetting(\"root\")) !== null && _a !== void 0 ? _a : \"/\";\n        return expandURL(root);\n    }\n    get cacheControlValue() {\n        return this.getSetting(\"cache-control\");\n    }\n    get isPreviewable() {\n        return this.cacheControlValue != \"no-preview\";\n    }\n    get isCacheable() {\n        return this.cacheControlValue != \"no-cache\";\n    }\n    get isVisitable() {\n        return this.getSetting(\"visit-control\") != \"reload\";\n    }\n    getSetting(name) {\n        return this.headSnapshot.getMetaValue(`turbo-${name}`);\n    }\n}\n\nvar TimingMetric;\n(function (TimingMetric) {\n    TimingMetric[\"visitStart\"] = \"visitStart\";\n    TimingMetric[\"requestStart\"] = \"requestStart\";\n    TimingMetric[\"requestEnd\"] = \"requestEnd\";\n    TimingMetric[\"visitEnd\"] = \"visitEnd\";\n})(TimingMetric || (TimingMetric = {}));\nvar VisitState;\n(function (VisitState) {\n    VisitState[\"initialized\"] = \"initialized\";\n    VisitState[\"started\"] = \"started\";\n    VisitState[\"canceled\"] = \"canceled\";\n    VisitState[\"failed\"] = \"failed\";\n    VisitState[\"completed\"] = \"completed\";\n})(VisitState || (VisitState = {}));\nconst defaultOptions = {\n    action: \"advance\",\n    historyChanged: false\n};\nvar SystemStatusCode;\n(function (SystemStatusCode) {\n    SystemStatusCode[SystemStatusCode[\"networkFailure\"] = 0] = \"networkFailure\";\n    SystemStatusCode[SystemStatusCode[\"timeoutFailure\"] = -1] = \"timeoutFailure\";\n    SystemStatusCode[SystemStatusCode[\"contentTypeMismatch\"] = -2] = \"contentTypeMismatch\";\n})(SystemStatusCode || (SystemStatusCode = {}));\nclass Visit {\n    constructor(delegate, location, restorationIdentifier, options = {}) {\n        this.identifier = uuid();\n        this.timingMetrics = {};\n        this.followedRedirect = false;\n        this.historyChanged = false;\n        this.scrolled = false;\n        this.snapshotCached = false;\n        this.state = VisitState.initialized;\n        this.delegate = delegate;\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier || uuid();\n        const { action, historyChanged, referrer, snapshotHTML, response } = Object.assign(Object.assign({}, defaultOptions), options);\n        this.action = action;\n        this.historyChanged = historyChanged;\n        this.referrer = referrer;\n        this.snapshotHTML = snapshotHTML;\n        this.response = response;\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    get restorationData() {\n        return this.history.getRestorationDataForIdentifier(this.restorationIdentifier);\n    }\n    start() {\n        if (this.state == VisitState.initialized) {\n            this.recordTimingMetric(TimingMetric.visitStart);\n            this.state = VisitState.started;\n            this.adapter.visitStarted(this);\n            this.delegate.visitStarted(this);\n        }\n    }\n    cancel() {\n        if (this.state == VisitState.started) {\n            if (this.request) {\n                this.request.cancel();\n            }\n            this.cancelRender();\n            this.state = VisitState.canceled;\n        }\n    }\n    complete() {\n        if (this.state == VisitState.started) {\n            this.recordTimingMetric(TimingMetric.visitEnd);\n            this.state = VisitState.completed;\n            this.adapter.visitCompleted(this);\n            this.delegate.visitCompleted(this);\n        }\n    }\n    fail() {\n        if (this.state == VisitState.started) {\n            this.state = VisitState.failed;\n            this.adapter.visitFailed(this);\n        }\n    }\n    changeHistory() {\n        var _a;\n        if (!this.historyChanged) {\n            const actionForHistory = this.location.href === ((_a = this.referrer) === null || _a === void 0 ? void 0 : _a.href) ? \"replace\" : this.action;\n            const method = this.getHistoryMethodForAction(actionForHistory);\n            this.history.update(method, this.location, this.restorationIdentifier);\n            this.historyChanged = true;\n        }\n    }\n    issueRequest() {\n        if (this.hasPreloadedResponse()) {\n            this.simulateRequest();\n        }\n        else if (this.shouldIssueRequest() && !this.request) {\n            this.request = new FetchRequest(this, FetchMethod.get, this.location);\n            this.request.perform();\n        }\n    }\n    simulateRequest() {\n        if (this.response) {\n            this.startRequest();\n            this.recordResponse();\n            this.finishRequest();\n        }\n    }\n    startRequest() {\n        this.recordTimingMetric(TimingMetric.requestStart);\n        this.adapter.visitRequestStarted(this);\n    }\n    recordResponse(response = this.response) {\n        this.response = response;\n        if (response) {\n            const { statusCode } = response;\n            if (isSuccessful(statusCode)) {\n                this.adapter.visitRequestCompleted(this);\n            }\n            else {\n                this.adapter.visitRequestFailedWithStatusCode(this, statusCode);\n            }\n        }\n    }\n    finishRequest() {\n        this.recordTimingMetric(TimingMetric.requestEnd);\n        this.adapter.visitRequestFinished(this);\n    }\n    loadResponse() {\n        if (this.response) {\n            const { statusCode, responseHTML } = this.response;\n            this.render(async () => {\n                this.cacheSnapshot();\n                if (isSuccessful(statusCode) && responseHTML != null) {\n                    await this.view.renderPage(PageSnapshot.fromHTMLString(responseHTML));\n                    this.adapter.visitRendered(this);\n                    this.complete();\n                }\n                else {\n                    await this.view.renderError(PageSnapshot.fromHTMLString(responseHTML));\n                    this.adapter.visitRendered(this);\n                    this.fail();\n                }\n            });\n        }\n    }\n    getCachedSnapshot() {\n        const snapshot = this.view.getCachedSnapshotForLocation(this.location) || this.getPreloadedSnapshot();\n        if (snapshot && (!getAnchor(this.location) || snapshot.hasAnchor(getAnchor(this.location)))) {\n            if (this.action == \"restore\" || snapshot.isPreviewable) {\n                return snapshot;\n            }\n        }\n    }\n    getPreloadedSnapshot() {\n        if (this.snapshotHTML) {\n            return PageSnapshot.fromHTMLString(this.snapshotHTML);\n        }\n    }\n    hasCachedSnapshot() {\n        return this.getCachedSnapshot() != null;\n    }\n    loadCachedSnapshot() {\n        const snapshot = this.getCachedSnapshot();\n        if (snapshot) {\n            const isPreview = this.shouldIssueRequest();\n            this.render(async () => {\n                this.cacheSnapshot();\n                await this.view.renderPage(snapshot);\n                this.adapter.visitRendered(this);\n                if (!isPreview) {\n                    this.complete();\n                }\n            });\n        }\n    }\n    followRedirect() {\n        if (this.redirectedToLocation && !this.followedRedirect) {\n            this.location = this.redirectedToLocation;\n            this.history.replace(this.redirectedToLocation, this.restorationIdentifier);\n            this.followedRedirect = true;\n        }\n    }\n    requestStarted() {\n        this.startRequest();\n    }\n    requestPreventedHandlingResponse(request, response) {\n    }\n    async requestSucceededWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        if (responseHTML == undefined) {\n            this.recordResponse({ statusCode: SystemStatusCode.contentTypeMismatch });\n        }\n        else {\n            this.redirectedToLocation = response.redirected ? response.location : undefined;\n            this.recordResponse({ statusCode: response.statusCode, responseHTML });\n        }\n    }\n    async requestFailedWithResponse(request, response) {\n        const responseHTML = await response.responseHTML;\n        if (responseHTML == undefined) {\n            this.recordResponse({ statusCode: SystemStatusCode.contentTypeMismatch });\n        }\n        else {\n            this.recordResponse({ statusCode: response.statusCode, responseHTML });\n        }\n    }\n    requestErrored(request, error) {\n        this.recordResponse({ statusCode: SystemStatusCode.networkFailure });\n    }\n    requestFinished() {\n        this.finishRequest();\n    }\n    performScroll() {\n        if (!this.scrolled) {\n            if (this.action == \"restore\") {\n                this.scrollToRestoredPosition() || this.scrollToTop();\n            }\n            else {\n                this.scrollToAnchor() || this.scrollToTop();\n            }\n            this.scrolled = true;\n        }\n    }\n    scrollToRestoredPosition() {\n        const { scrollPosition } = this.restorationData;\n        if (scrollPosition) {\n            this.view.scrollToPosition(scrollPosition);\n            return true;\n        }\n    }\n    scrollToAnchor() {\n        if (getAnchor(this.location) != null) {\n            this.view.scrollToAnchor(getAnchor(this.location));\n            return true;\n        }\n    }\n    scrollToTop() {\n        this.view.scrollToPosition({ x: 0, y: 0 });\n    }\n    recordTimingMetric(metric) {\n        this.timingMetrics[metric] = new Date().getTime();\n    }\n    getTimingMetrics() {\n        return Object.assign({}, this.timingMetrics);\n    }\n    getHistoryMethodForAction(action) {\n        switch (action) {\n            case \"replace\": return history.replaceState;\n            case \"advance\":\n            case \"restore\": return history.pushState;\n        }\n    }\n    hasPreloadedResponse() {\n        return typeof this.response == \"object\";\n    }\n    shouldIssueRequest() {\n        return this.action == \"restore\"\n            ? !this.hasCachedSnapshot()\n            : true;\n    }\n    cacheSnapshot() {\n        if (!this.snapshotCached) {\n            this.view.cacheSnapshot();\n            this.snapshotCached = true;\n        }\n    }\n    async render(callback) {\n        this.cancelRender();\n        await new Promise(resolve => {\n            this.frame = requestAnimationFrame(() => resolve());\n        });\n        callback();\n        delete this.frame;\n        this.performScroll();\n    }\n    cancelRender() {\n        if (this.frame) {\n            cancelAnimationFrame(this.frame);\n            delete this.frame;\n        }\n    }\n}\nfunction isSuccessful(statusCode) {\n    return statusCode >= 200 && statusCode < 300;\n}\n\nclass BrowserAdapter {\n    constructor(session) {\n        this.progressBar = new ProgressBar;\n        this.showProgressBar = () => {\n            this.progressBar.show();\n        };\n        this.session = session;\n    }\n    visitProposedToLocation(location, options) {\n        this.navigator.startVisit(location, uuid(), options);\n    }\n    visitStarted(visit) {\n        visit.issueRequest();\n        visit.changeHistory();\n        visit.loadCachedSnapshot();\n    }\n    visitRequestStarted(visit) {\n        this.progressBar.setValue(0);\n        if (visit.hasCachedSnapshot() || visit.action != \"restore\") {\n            this.showProgressBarAfterDelay();\n        }\n        else {\n            this.showProgressBar();\n        }\n    }\n    visitRequestCompleted(visit) {\n        visit.loadResponse();\n    }\n    visitRequestFailedWithStatusCode(visit, statusCode) {\n        switch (statusCode) {\n            case SystemStatusCode.networkFailure:\n            case SystemStatusCode.timeoutFailure:\n            case SystemStatusCode.contentTypeMismatch:\n                return this.reload();\n            default:\n                return visit.loadResponse();\n        }\n    }\n    visitRequestFinished(visit) {\n        this.progressBar.setValue(1);\n        this.hideProgressBar();\n    }\n    visitCompleted(visit) {\n        visit.followRedirect();\n    }\n    pageInvalidated() {\n        this.reload();\n    }\n    visitFailed(visit) {\n    }\n    visitRendered(visit) {\n    }\n    showProgressBarAfterDelay() {\n        this.progressBarTimeout = window.setTimeout(this.showProgressBar, this.session.progressBarDelay);\n    }\n    hideProgressBar() {\n        this.progressBar.hide();\n        if (this.progressBarTimeout != null) {\n            window.clearTimeout(this.progressBarTimeout);\n            delete this.progressBarTimeout;\n        }\n    }\n    reload() {\n        window.location.reload();\n    }\n    get navigator() {\n        return this.session.navigator;\n    }\n}\n\nclass FormSubmitObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.submitCaptured = () => {\n            removeEventListener(\"submit\", this.submitBubbled, false);\n            addEventListener(\"submit\", this.submitBubbled, false);\n        };\n        this.submitBubbled = ((event) => {\n            if (!event.defaultPrevented) {\n                const form = event.target instanceof HTMLFormElement ? event.target : undefined;\n                const submitter = event.submitter || undefined;\n                if (form) {\n                    const method = (submitter === null || submitter === void 0 ? void 0 : submitter.getAttribute(\"formmethod\")) || form.method;\n                    if (method != \"dialog\" && this.delegate.willSubmitForm(form, submitter)) {\n                        event.preventDefault();\n                        this.delegate.formSubmitted(form, submitter);\n                    }\n                }\n            }\n        });\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"submit\", this.submitCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"submit\", this.submitCaptured, true);\n            this.started = false;\n        }\n    }\n}\n\nclass FrameRedirector {\n    constructor(element) {\n        this.element = element;\n        this.linkInterceptor = new LinkInterceptor(this, element);\n        this.formInterceptor = new FormInterceptor(this, element);\n    }\n    start() {\n        this.linkInterceptor.start();\n        this.formInterceptor.start();\n    }\n    stop() {\n        this.linkInterceptor.stop();\n        this.formInterceptor.stop();\n    }\n    shouldInterceptLinkClick(element, url) {\n        return this.shouldRedirect(element);\n    }\n    linkClickIntercepted(element, url) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.src = url;\n        }\n    }\n    shouldInterceptFormSubmission(element, submitter) {\n        return this.shouldRedirect(element, submitter);\n    }\n    formSubmissionIntercepted(element, submitter) {\n        const frame = this.findFrameElement(element);\n        if (frame) {\n            frame.delegate.formSubmissionIntercepted(element, submitter);\n        }\n    }\n    shouldRedirect(element, submitter) {\n        const frame = this.findFrameElement(element);\n        return frame ? frame != element.closest(\"turbo-frame\") : false;\n    }\n    findFrameElement(element) {\n        const id = element.getAttribute(\"data-turbo-frame\");\n        if (id && id != \"_top\") {\n            const frame = this.element.querySelector(`#${id}:not([disabled])`);\n            if (frame instanceof FrameElement) {\n                return frame;\n            }\n        }\n    }\n}\n\nclass History {\n    constructor(delegate) {\n        this.restorationIdentifier = uuid();\n        this.restorationData = {};\n        this.started = false;\n        this.pageLoaded = false;\n        this.onPopState = (event) => {\n            if (this.shouldHandlePopState()) {\n                const { turbo } = event.state || {};\n                if (turbo) {\n                    this.location = new URL(window.location.href);\n                    const { restorationIdentifier } = turbo;\n                    this.restorationIdentifier = restorationIdentifier;\n                    this.delegate.historyPoppedToLocationWithRestorationIdentifier(this.location, restorationIdentifier);\n                }\n            }\n        };\n        this.onPageLoad = async (event) => {\n            await nextMicrotask();\n            this.pageLoaded = true;\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"popstate\", this.onPopState, false);\n            addEventListener(\"load\", this.onPageLoad, false);\n            this.started = true;\n            this.replace(new URL(window.location.href));\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"popstate\", this.onPopState, false);\n            removeEventListener(\"load\", this.onPageLoad, false);\n            this.started = false;\n        }\n    }\n    push(location, restorationIdentifier) {\n        this.update(history.pushState, location, restorationIdentifier);\n    }\n    replace(location, restorationIdentifier) {\n        this.update(history.replaceState, location, restorationIdentifier);\n    }\n    update(method, location, restorationIdentifier = uuid()) {\n        const state = { turbo: { restorationIdentifier } };\n        method.call(history, state, \"\", location.href);\n        this.location = location;\n        this.restorationIdentifier = restorationIdentifier;\n    }\n    getRestorationDataForIdentifier(restorationIdentifier) {\n        return this.restorationData[restorationIdentifier] || {};\n    }\n    updateRestorationData(additionalData) {\n        const { restorationIdentifier } = this;\n        const restorationData = this.restorationData[restorationIdentifier];\n        this.restorationData[restorationIdentifier] = Object.assign(Object.assign({}, restorationData), additionalData);\n    }\n    assumeControlOfScrollRestoration() {\n        var _a;\n        if (!this.previousScrollRestoration) {\n            this.previousScrollRestoration = (_a = history.scrollRestoration) !== null && _a !== void 0 ? _a : \"auto\";\n            history.scrollRestoration = \"manual\";\n        }\n    }\n    relinquishControlOfScrollRestoration() {\n        if (this.previousScrollRestoration) {\n            history.scrollRestoration = this.previousScrollRestoration;\n            delete this.previousScrollRestoration;\n        }\n    }\n    shouldHandlePopState() {\n        return this.pageIsLoaded();\n    }\n    pageIsLoaded() {\n        return this.pageLoaded || document.readyState == \"complete\";\n    }\n}\n\nclass LinkClickObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.clickCaptured = () => {\n            removeEventListener(\"click\", this.clickBubbled, false);\n            addEventListener(\"click\", this.clickBubbled, false);\n        };\n        this.clickBubbled = (event) => {\n            if (this.clickEventIsSignificant(event)) {\n                const link = this.findLinkFromClickTarget(event.target);\n                if (link) {\n                    const location = this.getLocationForLink(link);\n                    if (this.delegate.willFollowLinkToLocation(link, location)) {\n                        event.preventDefault();\n                        this.delegate.followedLinkToLocation(link, location);\n                    }\n                }\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"click\", this.clickCaptured, true);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"click\", this.clickCaptured, true);\n            this.started = false;\n        }\n    }\n    clickEventIsSignificant(event) {\n        return !((event.target && event.target.isContentEditable)\n            || event.defaultPrevented\n            || event.which > 1\n            || event.altKey\n            || event.ctrlKey\n            || event.metaKey\n            || event.shiftKey);\n    }\n    findLinkFromClickTarget(target) {\n        if (target instanceof Element) {\n            return target.closest(\"a[href]:not([target^=_]):not([download])\");\n        }\n    }\n    getLocationForLink(link) {\n        return expandURL(link.getAttribute(\"href\") || \"\");\n    }\n}\n\nclass Navigator {\n    constructor(delegate) {\n        this.delegate = delegate;\n    }\n    proposeVisit(location, options = {}) {\n        if (this.delegate.allowsVisitingLocation(location)) {\n            this.delegate.visitProposedToLocation(location, options);\n        }\n    }\n    startVisit(locatable, restorationIdentifier, options = {}) {\n        this.stop();\n        this.currentVisit = new Visit(this, expandURL(locatable), restorationIdentifier, Object.assign({ referrer: this.location }, options));\n        this.currentVisit.start();\n    }\n    submitForm(form, submitter) {\n        this.stop();\n        this.formSubmission = new FormSubmission(this, form, submitter, true);\n        if (this.formSubmission.fetchRequest.isIdempotent) {\n            this.proposeVisit(this.formSubmission.fetchRequest.url);\n        }\n        else {\n            this.formSubmission.start();\n        }\n    }\n    stop() {\n        if (this.formSubmission) {\n            this.formSubmission.stop();\n            delete this.formSubmission;\n        }\n        if (this.currentVisit) {\n            this.currentVisit.cancel();\n            delete this.currentVisit;\n        }\n    }\n    get adapter() {\n        return this.delegate.adapter;\n    }\n    get view() {\n        return this.delegate.view;\n    }\n    get history() {\n        return this.delegate.history;\n    }\n    formSubmissionStarted(formSubmission) {\n    }\n    async formSubmissionSucceededWithResponse(formSubmission, fetchResponse) {\n        if (formSubmission == this.formSubmission) {\n            const responseHTML = await fetchResponse.responseHTML;\n            if (responseHTML) {\n                if (formSubmission.method != FetchMethod.get) {\n                    this.view.clearSnapshotCache();\n                }\n                const { statusCode } = fetchResponse;\n                const visitOptions = { response: { statusCode, responseHTML } };\n                this.proposeVisit(fetchResponse.location, visitOptions);\n            }\n        }\n    }\n    async formSubmissionFailedWithResponse(formSubmission, fetchResponse) {\n        const responseHTML = await fetchResponse.responseHTML;\n        if (responseHTML) {\n            const snapshot = PageSnapshot.fromHTMLString(responseHTML);\n            await this.view.renderPage(snapshot);\n            this.view.clearSnapshotCache();\n        }\n    }\n    formSubmissionErrored(formSubmission, error) {\n    }\n    formSubmissionFinished(formSubmission) {\n    }\n    visitStarted(visit) {\n        this.delegate.visitStarted(visit);\n    }\n    visitCompleted(visit) {\n        this.delegate.visitCompleted(visit);\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n}\n\nvar PageStage;\n(function (PageStage) {\n    PageStage[PageStage[\"initial\"] = 0] = \"initial\";\n    PageStage[PageStage[\"loading\"] = 1] = \"loading\";\n    PageStage[PageStage[\"interactive\"] = 2] = \"interactive\";\n    PageStage[PageStage[\"complete\"] = 3] = \"complete\";\n})(PageStage || (PageStage = {}));\nclass PageObserver {\n    constructor(delegate) {\n        this.stage = PageStage.initial;\n        this.started = false;\n        this.interpretReadyState = () => {\n            const { readyState } = this;\n            if (readyState == \"interactive\") {\n                this.pageIsInteractive();\n            }\n            else if (readyState == \"complete\") {\n                this.pageIsComplete();\n            }\n        };\n        this.pageWillUnload = () => {\n            this.delegate.pageWillUnload();\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            if (this.stage == PageStage.initial) {\n                this.stage = PageStage.loading;\n            }\n            document.addEventListener(\"readystatechange\", this.interpretReadyState, false);\n            addEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            document.removeEventListener(\"readystatechange\", this.interpretReadyState, false);\n            removeEventListener(\"pagehide\", this.pageWillUnload, false);\n            this.started = false;\n        }\n    }\n    pageIsInteractive() {\n        if (this.stage == PageStage.loading) {\n            this.stage = PageStage.interactive;\n            this.delegate.pageBecameInteractive();\n        }\n    }\n    pageIsComplete() {\n        this.pageIsInteractive();\n        if (this.stage == PageStage.interactive) {\n            this.stage = PageStage.complete;\n            this.delegate.pageLoaded();\n        }\n    }\n    get readyState() {\n        return document.readyState;\n    }\n}\n\nclass ScrollObserver {\n    constructor(delegate) {\n        this.started = false;\n        this.onScroll = () => {\n            this.updatePosition({ x: window.pageXOffset, y: window.pageYOffset });\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            addEventListener(\"scroll\", this.onScroll, false);\n            this.onScroll();\n            this.started = true;\n        }\n    }\n    stop() {\n        if (this.started) {\n            removeEventListener(\"scroll\", this.onScroll, false);\n            this.started = false;\n        }\n    }\n    updatePosition(position) {\n        this.delegate.scrollPositionChanged(position);\n    }\n}\n\nclass StreamObserver {\n    constructor(delegate) {\n        this.sources = new Set;\n        this.started = false;\n        this.inspectFetchResponse = ((event) => {\n            const response = fetchResponseFromEvent(event);\n            if (response && fetchResponseIsStream(response)) {\n                event.preventDefault();\n                this.receiveMessageResponse(response);\n            }\n        });\n        this.receiveMessageEvent = (event) => {\n            if (this.started && typeof event.data == \"string\") {\n                this.receiveMessageHTML(event.data);\n            }\n        };\n        this.delegate = delegate;\n    }\n    start() {\n        if (!this.started) {\n            this.started = true;\n            addEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    stop() {\n        if (this.started) {\n            this.started = false;\n            removeEventListener(\"turbo:before-fetch-response\", this.inspectFetchResponse, false);\n        }\n    }\n    connectStreamSource(source) {\n        if (!this.streamSourceIsConnected(source)) {\n            this.sources.add(source);\n            source.addEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    disconnectStreamSource(source) {\n        if (this.streamSourceIsConnected(source)) {\n            this.sources.delete(source);\n            source.removeEventListener(\"message\", this.receiveMessageEvent, false);\n        }\n    }\n    streamSourceIsConnected(source) {\n        return this.sources.has(source);\n    }\n    async receiveMessageResponse(response) {\n        const html = await response.responseHTML;\n        if (html) {\n            this.receiveMessageHTML(html);\n        }\n    }\n    receiveMessageHTML(html) {\n        this.delegate.receivedMessageFromStream(new StreamMessage(html));\n    }\n}\nfunction fetchResponseFromEvent(event) {\n    var _a;\n    const fetchResponse = (_a = event.detail) === null || _a === void 0 ? void 0 : _a.fetchResponse;\n    if (fetchResponse instanceof FetchResponse) {\n        return fetchResponse;\n    }\n}\nfunction fetchResponseIsStream(response) {\n    var _a;\n    const contentType = (_a = response.contentType) !== null && _a !== void 0 ? _a : \"\";\n    return contentType.startsWith(StreamMessage.contentType);\n}\n\nfunction isAction(action) {\n    return action == \"advance\" || action == \"replace\" || action == \"restore\";\n}\n\nclass ErrorRenderer extends Renderer {\n    async render() {\n        this.replaceHeadAndBody();\n        this.activateScriptElements();\n    }\n    replaceHeadAndBody() {\n        const { documentElement, head, body } = document;\n        documentElement.replaceChild(this.newHead, head);\n        documentElement.replaceChild(this.newElement, body);\n    }\n    activateScriptElements() {\n        for (const replaceableElement of this.scriptElements) {\n            const parentNode = replaceableElement.parentNode;\n            if (parentNode) {\n                const element = this.createScriptElement(replaceableElement);\n                parentNode.replaceChild(element, replaceableElement);\n            }\n        }\n    }\n    get newHead() {\n        return this.newSnapshot.headSnapshot.element;\n    }\n    get scriptElements() {\n        return [...document.documentElement.querySelectorAll(\"script\")];\n    }\n}\n\nclass PageRenderer extends Renderer {\n    get shouldRender() {\n        return this.newSnapshot.isVisitable && this.trackedElementsAreIdentical;\n    }\n    prepareToRender() {\n        this.mergeHead();\n    }\n    async render() {\n        this.replaceBody();\n    }\n    finishRendering() {\n        super.finishRendering();\n        if (this.isPreview) {\n            this.focusFirstAutofocusableElement();\n        }\n    }\n    get currentHeadSnapshot() {\n        return this.currentSnapshot.headSnapshot;\n    }\n    get newHeadSnapshot() {\n        return this.newSnapshot.headSnapshot;\n    }\n    get newElement() {\n        return this.newSnapshot.element;\n    }\n    mergeHead() {\n        this.copyNewHeadStylesheetElements();\n        this.copyNewHeadScriptElements();\n        this.removeCurrentHeadProvisionalElements();\n        this.copyNewHeadProvisionalElements();\n    }\n    replaceBody() {\n        this.preservingPermanentElements(() => {\n            this.activateNewBody();\n            this.assignNewBody();\n        });\n    }\n    get trackedElementsAreIdentical() {\n        return this.currentHeadSnapshot.trackedElementSignature == this.newHeadSnapshot.trackedElementSignature;\n    }\n    copyNewHeadStylesheetElements() {\n        for (const element of this.newHeadStylesheetElements) {\n            document.head.appendChild(element);\n        }\n    }\n    copyNewHeadScriptElements() {\n        for (const element of this.newHeadScriptElements) {\n            document.head.appendChild(this.createScriptElement(element));\n        }\n    }\n    removeCurrentHeadProvisionalElements() {\n        for (const element of this.currentHeadProvisionalElements) {\n            document.head.removeChild(element);\n        }\n    }\n    copyNewHeadProvisionalElements() {\n        for (const element of this.newHeadProvisionalElements) {\n            document.head.appendChild(element);\n        }\n    }\n    activateNewBody() {\n        document.adoptNode(this.newElement);\n        this.activateNewBodyScriptElements();\n    }\n    activateNewBodyScriptElements() {\n        for (const inertScriptElement of this.newBodyScriptElements) {\n            const activatedScriptElement = this.createScriptElement(inertScriptElement);\n            replaceElementWithElement(inertScriptElement, activatedScriptElement);\n        }\n    }\n    assignNewBody() {\n        if (document.body && this.newElement instanceof HTMLBodyElement) {\n            replaceElementWithElement(document.body, this.newElement);\n        }\n        else {\n            document.documentElement.appendChild(this.newElement);\n        }\n    }\n    get newHeadStylesheetElements() {\n        return this.newHeadSnapshot.getStylesheetElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get newHeadScriptElements() {\n        return this.newHeadSnapshot.getScriptElementsNotInSnapshot(this.currentHeadSnapshot);\n    }\n    get currentHeadProvisionalElements() {\n        return this.currentHeadSnapshot.provisionalElements;\n    }\n    get newHeadProvisionalElements() {\n        return this.newHeadSnapshot.provisionalElements;\n    }\n    get newBodyScriptElements() {\n        return [...this.newElement.querySelectorAll(\"script\")];\n    }\n}\n\nclass SnapshotCache {\n    constructor(size) {\n        this.keys = [];\n        this.snapshots = {};\n        this.size = size;\n    }\n    has(location) {\n        return toCacheKey(location) in this.snapshots;\n    }\n    get(location) {\n        if (this.has(location)) {\n            const snapshot = this.read(location);\n            this.touch(location);\n            return snapshot;\n        }\n    }\n    put(location, snapshot) {\n        this.write(location, snapshot);\n        this.touch(location);\n        return snapshot;\n    }\n    clear() {\n        this.snapshots = {};\n    }\n    read(location) {\n        return this.snapshots[toCacheKey(location)];\n    }\n    write(location, snapshot) {\n        this.snapshots[toCacheKey(location)] = snapshot;\n    }\n    touch(location) {\n        const key = toCacheKey(location);\n        const index = this.keys.indexOf(key);\n        if (index > -1)\n            this.keys.splice(index, 1);\n        this.keys.unshift(key);\n        this.trim();\n    }\n    trim() {\n        for (const key of this.keys.splice(this.size)) {\n            delete this.snapshots[key];\n        }\n    }\n}\n\nclass PageView extends View {\n    constructor() {\n        super(...arguments);\n        this.snapshotCache = new SnapshotCache(10);\n        this.lastRenderedLocation = new URL(location.href);\n    }\n    renderPage(snapshot, isPreview = false) {\n        const renderer = new PageRenderer(this.snapshot, snapshot, isPreview);\n        return this.render(renderer);\n    }\n    renderError(snapshot) {\n        const renderer = new ErrorRenderer(this.snapshot, snapshot, false);\n        this.render(renderer);\n    }\n    clearSnapshotCache() {\n        this.snapshotCache.clear();\n    }\n    async cacheSnapshot() {\n        if (this.shouldCacheSnapshot) {\n            this.delegate.viewWillCacheSnapshot();\n            const { snapshot, lastRenderedLocation: location } = this;\n            await nextEventLoopTick();\n            this.snapshotCache.put(location, snapshot.clone());\n        }\n    }\n    getCachedSnapshotForLocation(location) {\n        return this.snapshotCache.get(location);\n    }\n    get snapshot() {\n        return PageSnapshot.fromElement(this.element);\n    }\n    get shouldCacheSnapshot() {\n        return this.snapshot.isCacheable;\n    }\n}\n\nclass Session {\n    constructor() {\n        this.navigator = new Navigator(this);\n        this.history = new History(this);\n        this.view = new PageView(this, document.documentElement);\n        this.adapter = new BrowserAdapter(this);\n        this.pageObserver = new PageObserver(this);\n        this.linkClickObserver = new LinkClickObserver(this);\n        this.formSubmitObserver = new FormSubmitObserver(this);\n        this.scrollObserver = new ScrollObserver(this);\n        this.streamObserver = new StreamObserver(this);\n        this.frameRedirector = new FrameRedirector(document.documentElement);\n        this.enabled = true;\n        this.progressBarDelay = 500;\n        this.started = false;\n    }\n    start() {\n        if (!this.started) {\n            this.pageObserver.start();\n            this.linkClickObserver.start();\n            this.formSubmitObserver.start();\n            this.scrollObserver.start();\n            this.streamObserver.start();\n            this.frameRedirector.start();\n            this.history.start();\n            this.started = true;\n            this.enabled = true;\n        }\n    }\n    disable() {\n        this.enabled = false;\n    }\n    stop() {\n        if (this.started) {\n            this.pageObserver.stop();\n            this.linkClickObserver.stop();\n            this.formSubmitObserver.stop();\n            this.scrollObserver.stop();\n            this.streamObserver.stop();\n            this.frameRedirector.stop();\n            this.history.stop();\n            this.started = false;\n        }\n    }\n    registerAdapter(adapter) {\n        this.adapter = adapter;\n    }\n    visit(location, options = {}) {\n        this.navigator.proposeVisit(expandURL(location), options);\n    }\n    connectStreamSource(source) {\n        this.streamObserver.connectStreamSource(source);\n    }\n    disconnectStreamSource(source) {\n        this.streamObserver.disconnectStreamSource(source);\n    }\n    renderStreamMessage(message) {\n        document.documentElement.appendChild(StreamMessage.wrap(message).fragment);\n    }\n    clearCache() {\n        this.view.clearSnapshotCache();\n    }\n    setProgressBarDelay(delay) {\n        this.progressBarDelay = delay;\n    }\n    get location() {\n        return this.history.location;\n    }\n    get restorationIdentifier() {\n        return this.history.restorationIdentifier;\n    }\n    historyPoppedToLocationWithRestorationIdentifier(location) {\n        if (this.enabled) {\n            this.navigator.proposeVisit(location, { action: \"restore\", historyChanged: true });\n        }\n        else {\n            this.adapter.pageInvalidated();\n        }\n    }\n    scrollPositionChanged(position) {\n        this.history.updateRestorationData({ scrollPosition: position });\n    }\n    willFollowLinkToLocation(link, location) {\n        return this.elementIsNavigable(link)\n            && this.locationIsVisitable(location)\n            && this.applicationAllowsFollowingLinkToLocation(link, location);\n    }\n    followedLinkToLocation(link, location) {\n        const action = this.getActionForLink(link);\n        this.visit(location.href, { action });\n    }\n    allowsVisitingLocation(location) {\n        return this.applicationAllowsVisitingLocation(location);\n    }\n    visitProposedToLocation(location, options) {\n        extendURLWithDeprecatedProperties(location);\n        this.adapter.visitProposedToLocation(location, options);\n    }\n    visitStarted(visit) {\n        extendURLWithDeprecatedProperties(visit.location);\n        this.notifyApplicationAfterVisitingLocation(visit.location);\n    }\n    visitCompleted(visit) {\n        this.notifyApplicationAfterPageLoad(visit.getTimingMetrics());\n    }\n    willSubmitForm(form, submitter) {\n        return this.elementIsNavigable(form) && this.elementIsNavigable(submitter);\n    }\n    formSubmitted(form, submitter) {\n        this.navigator.submitForm(form, submitter);\n    }\n    pageBecameInteractive() {\n        this.view.lastRenderedLocation = this.location;\n        this.notifyApplicationAfterPageLoad();\n    }\n    pageLoaded() {\n        this.history.assumeControlOfScrollRestoration();\n    }\n    pageWillUnload() {\n        this.history.relinquishControlOfScrollRestoration();\n    }\n    receivedMessageFromStream(message) {\n        this.renderStreamMessage(message);\n    }\n    viewWillCacheSnapshot() {\n        this.notifyApplicationBeforeCachingSnapshot();\n    }\n    viewWillRenderSnapshot({ element }, isPreview) {\n        this.notifyApplicationBeforeRender(element);\n    }\n    viewRenderedSnapshot(snapshot, isPreview) {\n        this.view.lastRenderedLocation = this.history.location;\n        this.notifyApplicationAfterRender();\n    }\n    viewInvalidated() {\n        this.adapter.pageInvalidated();\n    }\n    applicationAllowsFollowingLinkToLocation(link, location) {\n        const event = this.notifyApplicationAfterClickingLinkToLocation(link, location);\n        return !event.defaultPrevented;\n    }\n    applicationAllowsVisitingLocation(location) {\n        const event = this.notifyApplicationBeforeVisitingLocation(location);\n        return !event.defaultPrevented;\n    }\n    notifyApplicationAfterClickingLinkToLocation(link, location) {\n        return dispatch(\"turbo:click\", { target: link, detail: { url: location.href }, cancelable: true });\n    }\n    notifyApplicationBeforeVisitingLocation(location) {\n        return dispatch(\"turbo:before-visit\", { detail: { url: location.href }, cancelable: true });\n    }\n    notifyApplicationAfterVisitingLocation(location) {\n        return dispatch(\"turbo:visit\", { detail: { url: location.href } });\n    }\n    notifyApplicationBeforeCachingSnapshot() {\n        return dispatch(\"turbo:before-cache\");\n    }\n    notifyApplicationBeforeRender(newBody) {\n        return dispatch(\"turbo:before-render\", { detail: { newBody } });\n    }\n    notifyApplicationAfterRender() {\n        return dispatch(\"turbo:render\");\n    }\n    notifyApplicationAfterPageLoad(timing = {}) {\n        return dispatch(\"turbo:load\", { detail: { url: this.location.href, timing } });\n    }\n    getActionForLink(link) {\n        const action = link.getAttribute(\"data-turbo-action\");\n        return isAction(action) ? action : \"advance\";\n    }\n    elementIsNavigable(element) {\n        const container = element === null || element === void 0 ? void 0 : element.closest(\"[data-turbo]\");\n        if (container) {\n            return container.getAttribute(\"data-turbo\") != \"false\";\n        }\n        else {\n            return true;\n        }\n    }\n    locationIsVisitable(location) {\n        return isPrefixedBy(location, this.snapshot.rootLocation) && isHTML(location);\n    }\n    get snapshot() {\n        return this.view.snapshot;\n    }\n}\nfunction extendURLWithDeprecatedProperties(url) {\n    Object.defineProperties(url, deprecatedLocationPropertyDescriptors);\n}\nconst deprecatedLocationPropertyDescriptors = {\n    absoluteURL: {\n        get() {\n            return this.toString();\n        }\n    }\n};\n\nconst session = new Session;\nconst { navigator } = session;\nfunction start() {\n    session.start();\n}\nfunction registerAdapter(adapter) {\n    session.registerAdapter(adapter);\n}\nfunction visit(location, options) {\n    session.visit(location, options);\n}\nfunction connectStreamSource(source) {\n    session.connectStreamSource(source);\n}\nfunction disconnectStreamSource(source) {\n    session.disconnectStreamSource(source);\n}\nfunction renderStreamMessage(message) {\n    session.renderStreamMessage(message);\n}\nfunction clearCache() {\n    session.clearCache();\n}\nfunction setProgressBarDelay(delay) {\n    session.setProgressBarDelay(delay);\n}\n\nstart();\n\nexport { clearCache, connectStreamSource, disconnectStreamSource, navigator, registerAdapter, renderStreamMessage, setProgressBarDelay, start, visit };\n//# sourceMappingURL=turbo.es2017-esm.js.map\n","/*!\n * hotkeys-js v3.8.1\n * A simple micro-library for defining and dispatching keyboard shortcuts. It has no dependencies.\n * \n * Copyright (c) 2021 kenny wong <wowohoo@qq.com>\n * http://jaywcjlove.github.io/hotkeys\n * \n * Licensed under the MIT license.\n */\n\nvar isff = typeof navigator !== 'undefined' ? navigator.userAgent.toLowerCase().indexOf('firefox') > 0 : false; // 绑定事件\n\nfunction addEvent(object, event, method) {\n  if (object.addEventListener) {\n    object.addEventListener(event, method, false);\n  } else if (object.attachEvent) {\n    object.attachEvent(\"on\".concat(event), function () {\n      method(window.event);\n    });\n  }\n} // 修饰键转换成对应的键码\n\n\nfunction getMods(modifier, key) {\n  var mods = key.slice(0, key.length - 1);\n\n  for (var i = 0; i < mods.length; i++) {\n    mods[i] = modifier[mods[i].toLowerCase()];\n  }\n\n  return mods;\n} // 处理传的key字符串转换成数组\n\n\nfunction getKeys(key) {\n  if (typeof key !== 'string') key = '';\n  key = key.replace(/\\s/g, ''); // 匹配任何空白字符,包括空格、制表符、换页符等等\n\n  var keys = key.split(','); // 同时设置多个快捷键，以','分割\n\n  var index = keys.lastIndexOf(''); // 快捷键可能包含','，需特殊处理\n\n  for (; index >= 0;) {\n    keys[index - 1] += ',';\n    keys.splice(index, 1);\n    index = keys.lastIndexOf('');\n  }\n\n  return keys;\n} // 比较修饰键的数组\n\n\nfunction compareArray(a1, a2) {\n  var arr1 = a1.length >= a2.length ? a1 : a2;\n  var arr2 = a1.length >= a2.length ? a2 : a1;\n  var isIndex = true;\n\n  for (var i = 0; i < arr1.length; i++) {\n    if (arr2.indexOf(arr1[i]) === -1) isIndex = false;\n  }\n\n  return isIndex;\n}\n\nvar _keyMap = {\n  backspace: 8,\n  tab: 9,\n  clear: 12,\n  enter: 13,\n  return: 13,\n  esc: 27,\n  escape: 27,\n  space: 32,\n  left: 37,\n  up: 38,\n  right: 39,\n  down: 40,\n  del: 46,\n  delete: 46,\n  ins: 45,\n  insert: 45,\n  home: 36,\n  end: 35,\n  pageup: 33,\n  pagedown: 34,\n  capslock: 20,\n  '⇪': 20,\n  ',': 188,\n  '.': 190,\n  '/': 191,\n  '`': 192,\n  '-': isff ? 173 : 189,\n  '=': isff ? 61 : 187,\n  ';': isff ? 59 : 186,\n  '\\'': 222,\n  '[': 219,\n  ']': 221,\n  '\\\\': 220\n}; // Modifier Keys\n\nvar _modifier = {\n  // shiftKey\n  '⇧': 16,\n  shift: 16,\n  // altKey\n  '⌥': 18,\n  alt: 18,\n  option: 18,\n  // ctrlKey\n  '⌃': 17,\n  ctrl: 17,\n  control: 17,\n  // metaKey\n  '⌘': 91,\n  cmd: 91,\n  command: 91\n};\nvar modifierMap = {\n  16: 'shiftKey',\n  18: 'altKey',\n  17: 'ctrlKey',\n  91: 'metaKey',\n  shiftKey: 16,\n  ctrlKey: 17,\n  altKey: 18,\n  metaKey: 91\n};\nvar _mods = {\n  16: false,\n  18: false,\n  17: false,\n  91: false\n};\nvar _handlers = {}; // F1~F12 special key\n\nfor (var k = 1; k < 20; k++) {\n  _keyMap[\"f\".concat(k)] = 111 + k;\n}\n\nvar _downKeys = []; // 记录摁下的绑定键\n\nvar _scope = 'all'; // 默认热键范围\n\nvar elementHasBindEvent = []; // 已绑定事件的节点记录\n// 返回键码\n\nvar code = function code(x) {\n  return _keyMap[x.toLowerCase()] || _modifier[x.toLowerCase()] || x.toUpperCase().charCodeAt(0);\n}; // 设置获取当前范围（默认为'所有'）\n\n\nfunction setScope(scope) {\n  _scope = scope || 'all';\n} // 获取当前范围\n\n\nfunction getScope() {\n  return _scope || 'all';\n} // 获取摁下绑定键的键值\n\n\nfunction getPressedKeyCodes() {\n  return _downKeys.slice(0);\n} // 表单控件控件判断 返回 Boolean\n// hotkey is effective only when filter return true\n\n\nfunction filter(event) {\n  var target = event.target || event.srcElement;\n  var tagName = target.tagName;\n  var flag = true; // ignore: isContentEditable === 'true', <input> and <textarea> when readOnly state is false, <select>\n\n  if (target.isContentEditable || (tagName === 'INPUT' || tagName === 'TEXTAREA' || tagName === 'SELECT') && !target.readOnly) {\n    flag = false;\n  }\n\n  return flag;\n} // 判断摁下的键是否为某个键，返回true或者false\n\n\nfunction isPressed(keyCode) {\n  if (typeof keyCode === 'string') {\n    keyCode = code(keyCode); // 转换成键码\n  }\n\n  return _downKeys.indexOf(keyCode) !== -1;\n} // 循环删除handlers中的所有 scope(范围)\n\n\nfunction deleteScope(scope, newScope) {\n  var handlers;\n  var i; // 没有指定scope，获取scope\n\n  if (!scope) scope = getScope();\n\n  for (var key in _handlers) {\n    if (Object.prototype.hasOwnProperty.call(_handlers, key)) {\n      handlers = _handlers[key];\n\n      for (i = 0; i < handlers.length;) {\n        if (handlers[i].scope === scope) handlers.splice(i, 1);else i++;\n      }\n    }\n  } // 如果scope被删除，将scope重置为all\n\n\n  if (getScope() === scope) setScope(newScope || 'all');\n} // 清除修饰键\n\n\nfunction clearModifier(event) {\n  var key = event.keyCode || event.which || event.charCode;\n\n  var i = _downKeys.indexOf(key); // 从列表中清除按压过的键\n\n\n  if (i >= 0) {\n    _downKeys.splice(i, 1);\n  } // 特殊处理 cmmand 键，在 cmmand 组合快捷键 keyup 只执行一次的问题\n\n\n  if (event.key && event.key.toLowerCase() === 'meta') {\n    _downKeys.splice(0, _downKeys.length);\n  } // 修饰键 shiftKey altKey ctrlKey (command||metaKey) 清除\n\n\n  if (key === 93 || key === 224) key = 91;\n\n  if (key in _mods) {\n    _mods[key] = false; // 将修饰键重置为false\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = false;\n    }\n  }\n}\n\nfunction unbind(keysInfo) {\n  // unbind(), unbind all keys\n  if (!keysInfo) {\n    Object.keys(_handlers).forEach(function (key) {\n      return delete _handlers[key];\n    });\n  } else if (Array.isArray(keysInfo)) {\n    // support like : unbind([{key: 'ctrl+a', scope: 's1'}, {key: 'ctrl-a', scope: 's2', splitKey: '-'}])\n    keysInfo.forEach(function (info) {\n      if (info.key) eachUnbind(info);\n    });\n  } else if (typeof keysInfo === 'object') {\n    // support like unbind({key: 'ctrl+a, ctrl+b', scope:'abc'})\n    if (keysInfo.key) eachUnbind(keysInfo);\n  } else if (typeof keysInfo === 'string') {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n\n    // support old method\n    // eslint-disable-line\n    var scope = args[0],\n        method = args[1];\n\n    if (typeof scope === 'function') {\n      method = scope;\n      scope = '';\n    }\n\n    eachUnbind({\n      key: keysInfo,\n      scope: scope,\n      method: method,\n      splitKey: '+'\n    });\n  }\n} // 解除绑定某个范围的快捷键\n\n\nvar eachUnbind = function eachUnbind(_ref) {\n  var key = _ref.key,\n      scope = _ref.scope,\n      method = _ref.method,\n      _ref$splitKey = _ref.splitKey,\n      splitKey = _ref$splitKey === void 0 ? '+' : _ref$splitKey;\n  var multipleKeys = getKeys(key);\n  multipleKeys.forEach(function (originKey) {\n    var unbindKeys = originKey.split(splitKey);\n    var len = unbindKeys.length;\n    var lastKey = unbindKeys[len - 1];\n    var keyCode = lastKey === '*' ? '*' : code(lastKey);\n    if (!_handlers[keyCode]) return; // 判断是否传入范围，没有就获取范围\n\n    if (!scope) scope = getScope();\n    var mods = len > 1 ? getMods(_modifier, unbindKeys) : [];\n    _handlers[keyCode] = _handlers[keyCode].map(function (record) {\n      // 通过函数判断，是否解除绑定，函数相等直接返回\n      var isMatchingMethod = method ? record.method === method : true;\n\n      if (isMatchingMethod && record.scope === scope && compareArray(record.mods, mods)) {\n        return {};\n      }\n\n      return record;\n    });\n  });\n}; // 对监听对应快捷键的回调函数进行处理\n\n\nfunction eventHandler(event, handler, scope) {\n  var modifiersMatch; // 看它是否在当前范围\n\n  if (handler.scope === scope || handler.scope === 'all') {\n    // 检查是否匹配修饰符（如果有返回true）\n    modifiersMatch = handler.mods.length > 0;\n\n    for (var y in _mods) {\n      if (Object.prototype.hasOwnProperty.call(_mods, y)) {\n        if (!_mods[y] && handler.mods.indexOf(+y) > -1 || _mods[y] && handler.mods.indexOf(+y) === -1) {\n          modifiersMatch = false;\n        }\n      }\n    } // 调用处理程序，如果是修饰键不做处理\n\n\n    if (handler.mods.length === 0 && !_mods[16] && !_mods[18] && !_mods[17] && !_mods[91] || modifiersMatch || handler.shortcut === '*') {\n      if (handler.method(event, handler) === false) {\n        if (event.preventDefault) event.preventDefault();else event.returnValue = false;\n        if (event.stopPropagation) event.stopPropagation();\n        if (event.cancelBubble) event.cancelBubble = true;\n      }\n    }\n  }\n} // 处理keydown事件\n\n\nfunction dispatch(event) {\n  var asterisk = _handlers['*'];\n  var key = event.keyCode || event.which || event.charCode; // 表单控件过滤 默认表单控件不触发快捷键\n\n  if (!hotkeys.filter.call(this, event)) return; // Gecko(Firefox)的command键值224，在Webkit(Chrome)中保持一致\n  // Webkit左右 command 键值不一样\n\n  if (key === 93 || key === 224) key = 91;\n  /**\n   * Collect bound keys\n   * If an Input Method Editor is processing key input and the event is keydown, return 229.\n   * https://stackoverflow.com/questions/25043934/is-it-ok-to-ignore-keydown-events-with-keycode-229\n   * http://lists.w3.org/Archives/Public/www-dom/2010JulSep/att-0182/keyCode-spec.html\n   */\n\n  if (_downKeys.indexOf(key) === -1 && key !== 229) _downKeys.push(key);\n  /**\n   * Jest test cases are required.\n   * ===============================\n   */\n\n  ['ctrlKey', 'altKey', 'shiftKey', 'metaKey'].forEach(function (keyName) {\n    var keyNum = modifierMap[keyName];\n\n    if (event[keyName] && _downKeys.indexOf(keyNum) === -1) {\n      _downKeys.push(keyNum);\n    } else if (!event[keyName] && _downKeys.indexOf(keyNum) > -1) {\n      _downKeys.splice(_downKeys.indexOf(keyNum), 1);\n    } else if (keyName === 'metaKey' && event[keyName] && _downKeys.length === 3) {\n      /**\n       * Fix if Command is pressed:\n       * ===============================\n       */\n      if (!(event.ctrlKey || event.shiftKey || event.altKey)) {\n        _downKeys = _downKeys.slice(_downKeys.indexOf(keyNum));\n      }\n    }\n  });\n  /**\n   * -------------------------------\n   */\n\n  if (key in _mods) {\n    _mods[key] = true; // 将特殊字符的key注册到 hotkeys 上\n\n    for (var k in _modifier) {\n      if (_modifier[k] === key) hotkeys[k] = true;\n    }\n\n    if (!asterisk) return;\n  } // 将 modifierMap 里面的修饰键绑定到 event 中\n\n\n  for (var e in _mods) {\n    if (Object.prototype.hasOwnProperty.call(_mods, e)) {\n      _mods[e] = event[modifierMap[e]];\n    }\n  }\n  /**\n   * https://github.com/jaywcjlove/hotkeys/pull/129\n   * This solves the issue in Firefox on Windows where hotkeys corresponding to special characters would not trigger.\n   * An example of this is ctrl+alt+m on a Swedish keyboard which is used to type μ.\n   * Browser support: https://caniuse.com/#feat=keyboardevent-getmodifierstate\n   */\n\n\n  if (event.getModifierState && !(event.altKey && !event.ctrlKey) && event.getModifierState('AltGraph')) {\n    if (_downKeys.indexOf(17) === -1) {\n      _downKeys.push(17);\n    }\n\n    if (_downKeys.indexOf(18) === -1) {\n      _downKeys.push(18);\n    }\n\n    _mods[17] = true;\n    _mods[18] = true;\n  } // 获取范围 默认为 `all`\n\n\n  var scope = getScope(); // 对任何快捷键都需要做的处理\n\n  if (asterisk) {\n    for (var i = 0; i < asterisk.length; i++) {\n      if (asterisk[i].scope === scope && (event.type === 'keydown' && asterisk[i].keydown || event.type === 'keyup' && asterisk[i].keyup)) {\n        eventHandler(event, asterisk[i], scope);\n      }\n    }\n  } // key 不在 _handlers 中返回\n\n\n  if (!(key in _handlers)) return;\n\n  for (var _i = 0; _i < _handlers[key].length; _i++) {\n    if (event.type === 'keydown' && _handlers[key][_i].keydown || event.type === 'keyup' && _handlers[key][_i].keyup) {\n      if (_handlers[key][_i].key) {\n        var record = _handlers[key][_i];\n        var splitKey = record.splitKey;\n        var keyShortcut = record.key.split(splitKey);\n        var _downKeysCurrent = []; // 记录当前按键键值\n\n        for (var a = 0; a < keyShortcut.length; a++) {\n          _downKeysCurrent.push(code(keyShortcut[a]));\n        }\n\n        if (_downKeysCurrent.sort().join('') === _downKeys.sort().join('')) {\n          // 找到处理内容\n          eventHandler(event, record, scope);\n        }\n      }\n    }\n  }\n} // 判断 element 是否已经绑定事件\n\n\nfunction isElementBind(element) {\n  return elementHasBindEvent.indexOf(element) > -1;\n}\n\nfunction hotkeys(key, option, method) {\n  _downKeys = [];\n  var keys = getKeys(key); // 需要处理的快捷键列表\n\n  var mods = [];\n  var scope = 'all'; // scope默认为all，所有范围都有效\n\n  var element = document; // 快捷键事件绑定节点\n\n  var i = 0;\n  var keyup = false;\n  var keydown = true;\n  var splitKey = '+'; // 对为设定范围的判断\n\n  if (method === undefined && typeof option === 'function') {\n    method = option;\n  }\n\n  if (Object.prototype.toString.call(option) === '[object Object]') {\n    if (option.scope) scope = option.scope; // eslint-disable-line\n\n    if (option.element) element = option.element; // eslint-disable-line\n\n    if (option.keyup) keyup = option.keyup; // eslint-disable-line\n\n    if (option.keydown !== undefined) keydown = option.keydown; // eslint-disable-line\n\n    if (typeof option.splitKey === 'string') splitKey = option.splitKey; // eslint-disable-line\n  }\n\n  if (typeof option === 'string') scope = option; // 对于每个快捷键进行处理\n\n  for (; i < keys.length; i++) {\n    key = keys[i].split(splitKey); // 按键列表\n\n    mods = []; // 如果是组合快捷键取得组合快捷键\n\n    if (key.length > 1) mods = getMods(_modifier, key); // 将非修饰键转化为键码\n\n    key = key[key.length - 1];\n    key = key === '*' ? '*' : code(key); // *表示匹配所有快捷键\n    // 判断key是否在_handlers中，不在就赋一个空数组\n\n    if (!(key in _handlers)) _handlers[key] = [];\n\n    _handlers[key].push({\n      keyup: keyup,\n      keydown: keydown,\n      scope: scope,\n      mods: mods,\n      shortcut: keys[i],\n      method: method,\n      key: keys[i],\n      splitKey: splitKey\n    });\n  } // 在全局document上设置快捷键\n\n\n  if (typeof element !== 'undefined' && !isElementBind(element) && window) {\n    elementHasBindEvent.push(element);\n    addEvent(element, 'keydown', function (e) {\n      dispatch(e);\n    });\n    addEvent(window, 'focus', function () {\n      _downKeys = [];\n    });\n    addEvent(element, 'keyup', function (e) {\n      dispatch(e);\n      clearModifier(e);\n    });\n  }\n}\n\nvar _api = {\n  setScope: setScope,\n  getScope: getScope,\n  deleteScope: deleteScope,\n  getPressedKeyCodes: getPressedKeyCodes,\n  isPressed: isPressed,\n  filter: filter,\n  unbind: unbind\n};\n\nfor (var a in _api) {\n  if (Object.prototype.hasOwnProperty.call(_api, a)) {\n    hotkeys[a] = _api[a];\n  }\n}\n\nif (typeof window !== 'undefined') {\n  var _hotkeys = window.hotkeys;\n\n  hotkeys.noConflict = function (deep) {\n    if (deep && window.hotkeys === hotkeys) {\n      window.hotkeys = _hotkeys;\n    }\n\n    return hotkeys;\n  };\n\n  window.hotkeys = hotkeys;\n}\n\nexport default hotkeys;\n","import {\n    start as startTurbo\n} from '@hotwired/turbo';\n\nimport 'alpine-turbo-drive-adapter';\n\nimport 'alpinejs';\n\nimport hotkeys from 'hotkeys-js';\n\nstartTurbo();","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tif(__webpack_module_cache__[moduleId]) {\n\t\treturn __webpack_module_cache__[moduleId].exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n// the startup function\n// It's empty as some runtime module handles the default behavior\n__webpack_require__.x = x => {};\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// Promise = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t773: 0\n};\n\nvar deferredModules = [\n\t[329],\n\t[662]\n];\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\nvar checkDeferredModules = x => {};\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime, executeModules] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0, resolves = [];\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tresolves.push(installedChunks[chunkId][0]);\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\tfor(moduleId in moreModules) {\n\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t}\n\t}\n\tif(runtime) runtime(__webpack_require__);\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\twhile(resolves.length) {\n\t\tresolves.shift()();\n\t}\n\n\t// add entry modules from loaded chunk to deferred list\n\tif(executeModules) deferredModules.push.apply(deferredModules, executeModules);\n\n\t// run deferred modules when all chunks ready\n\treturn checkDeferredModules();\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunk\"] = self[\"webpackChunk\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));\n\nfunction checkDeferredModulesImpl() {\n\tvar result;\n\tfor(var i = 0; i < deferredModules.length; i++) {\n\t\tvar deferredModule = deferredModules[i];\n\t\tvar fulfilled = true;\n\t\tfor(var j = 1; j < deferredModule.length; j++) {\n\t\t\tvar depId = deferredModule[j];\n\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferredModules.splice(i--, 1);\n\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n\t\t}\n\t}\n\tif(deferredModules.length === 0) {\n\t\t__webpack_require__.x();\n\t\t__webpack_require__.x = x => {};\n\t}\n\treturn result;\n}\nvar startup = __webpack_require__.x;\n__webpack_require__.x = () => {\n\t// reset startup function so it can be called again when more startup code is added\n\t__webpack_require__.x = startup || (x => {});\n\treturn (checkDeferredModules = checkDeferredModulesImpl)();\n};","// run startup\n__webpack_require__.x();\n"],"sourceRoot":""}